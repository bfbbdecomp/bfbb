.include "macros.inc"
.file "FILE_POS.C"

# 0x801E3458 - 0x801E37A8
.text
.balign 4

.fn fseek, global
/* 801E3458 001E0538  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 801E345C 001E053C  7C 08 02 A6 */	mflr r0
/* 801E3460 001E0540  90 01 00 24 */	stw r0, 0x24(r1)
/* 801E3464 001E0544  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 801E3468 001E0548  7C BF 2B 78 */	mr r31, r5
/* 801E346C 001E054C  93 C1 00 18 */	stw r30, 0x18(r1)
/* 801E3470 001E0550  7C 9E 23 78 */	mr r30, r4
/* 801E3474 001E0554  93 A1 00 14 */	stw r29, 0x14(r1)
/* 801E3478 001E0558  7C 7D 1B 78 */	mr r29, r3
/* 801E347C 001E055C  38 60 00 02 */	li r3, 0x2
/* 801E3480 001E0560  4B FF F1 81 */	bl __begin_critical_region
/* 801E3484 001E0564  7F A3 EB 78 */	mr r3, r29
/* 801E3488 001E0568  7F C4 F3 78 */	mr r4, r30
/* 801E348C 001E056C  7F E5 FB 78 */	mr r5, r31
/* 801E3490 001E0570  48 00 00 35 */	bl _fseek
/* 801E3494 001E0574  7C 60 1B 78 */	mr r0, r3
/* 801E3498 001E0578  38 60 00 02 */	li r3, 0x2
/* 801E349C 001E057C  7C 1F 03 78 */	mr r31, r0
/* 801E34A0 001E0580  4B FF F1 5D */	bl __end_critical_region
/* 801E34A4 001E0584  80 01 00 24 */	lwz r0, 0x24(r1)
/* 801E34A8 001E0588  7F E3 FB 78 */	mr r3, r31
/* 801E34AC 001E058C  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 801E34B0 001E0590  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 801E34B4 001E0594  83 A1 00 14 */	lwz r29, 0x14(r1)
/* 801E34B8 001E0598  7C 08 03 A6 */	mtlr r0
/* 801E34BC 001E059C  38 21 00 20 */	addi r1, r1, 0x20
/* 801E34C0 001E05A0  4E 80 00 20 */	blr
.endfn fseek

.fn _fseek, global
/* 801E34C4 001E05A4  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 801E34C8 001E05A8  7C 08 02 A6 */	mflr r0
/* 801E34CC 001E05AC  90 01 00 24 */	stw r0, 0x24(r1)
/* 801E34D0 001E05B0  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 801E34D4 001E05B4  7C BF 2B 78 */	mr r31, r5
/* 801E34D8 001E05B8  93 C1 00 18 */	stw r30, 0x18(r1)
/* 801E34DC 001E05BC  7C 7E 1B 78 */	mr r30, r3
/* 801E34E0 001E05C0  90 81 00 08 */	stw r4, 0x8(r1)
/* 801E34E4 001E05C4  A0 03 00 04 */	lhz r0, 0x4(r3)
/* 801E34E8 001E05C8  54 00 D7 7E */	extrwi r0, r0, 3, 23
/* 801E34EC 001E05CC  28 00 00 01 */	cmplwi r0, 0x1
/* 801E34F0 001E05D0  40 82 00 10 */	bne .L_801E3500
/* 801E34F4 001E05D4  88 1E 00 0A */	lbz r0, 0xa(r30)
/* 801E34F8 001E05D8  28 00 00 00 */	cmplwi r0, 0x0
/* 801E34FC 001E05DC  41 82 00 14 */	beq .L_801E3510
.L_801E3500:
/* 801E3500 001E05E0  38 00 00 28 */	li r0, 0x28
/* 801E3504 001E05E4  38 60 FF FF */	li r3, -0x1
/* 801E3508 001E05E8  90 0D 9D 98 */	stw r0, errno@sda21(r13)
/* 801E350C 001E05EC  48 00 01 DC */	b .L_801E36E8
.L_801E3510:
/* 801E3510 001E05F0  88 1E 00 08 */	lbz r0, 0x8(r30)
/* 801E3514 001E05F4  54 00 DF 7E */	extrwi r0, r0, 3, 24
/* 801E3518 001E05F8  28 00 00 01 */	cmplwi r0, 0x1
/* 801E351C 001E05FC  40 82 00 34 */	bne .L_801E3550
/* 801E3520 001E0600  38 80 00 00 */	li r4, 0x0
/* 801E3524 001E0604  4B FF EA 71 */	bl __flush_buffer
/* 801E3528 001E0608  2C 03 00 00 */	cmpwi r3, 0x0
/* 801E352C 001E060C  41 82 00 24 */	beq .L_801E3550
/* 801E3530 001E0610  38 00 00 01 */	li r0, 0x1
/* 801E3534 001E0614  38 80 00 00 */	li r4, 0x0
/* 801E3538 001E0618  98 1E 00 0A */	stb r0, 0xa(r30)
/* 801E353C 001E061C  38 00 00 28 */	li r0, 0x28
/* 801E3540 001E0620  38 60 FF FF */	li r3, -0x1
/* 801E3544 001E0624  90 9E 00 28 */	stw r4, 0x28(r30)
/* 801E3548 001E0628  90 0D 9D 98 */	stw r0, errno@sda21(r13)
/* 801E354C 001E062C  48 00 01 9C */	b .L_801E36E8
.L_801E3550:
/* 801E3550 001E0630  2C 1F 00 01 */	cmpwi r31, 0x1
/* 801E3554 001E0634  40 82 00 80 */	bne .L_801E35D4
/* 801E3558 001E0638  A0 1E 00 04 */	lhz r0, 0x4(r30)
/* 801E355C 001E063C  3B E0 00 00 */	li r31, 0x0
/* 801E3560 001E0640  54 00 D7 7E */	extrwi r0, r0, 3, 23
/* 801E3564 001E0644  28 00 00 01 */	cmplwi r0, 0x1
/* 801E3568 001E0648  41 82 00 0C */	beq .L_801E3574
/* 801E356C 001E064C  28 00 00 02 */	cmplwi r0, 0x2
/* 801E3570 001E0650  40 82 00 10 */	bne .L_801E3580
.L_801E3574:
/* 801E3574 001E0654  88 1E 00 0A */	lbz r0, 0xa(r30)
/* 801E3578 001E0658  28 00 00 00 */	cmplwi r0, 0x0
/* 801E357C 001E065C  41 82 00 14 */	beq .L_801E3590
.L_801E3580:
/* 801E3580 001E0660  38 00 00 28 */	li r0, 0x28
/* 801E3584 001E0664  38 60 FF FF */	li r3, -0x1
/* 801E3588 001E0668  90 0D 9D 98 */	stw r0, errno@sda21(r13)
/* 801E358C 001E066C  48 00 00 3C */	b .L_801E35C8
.L_801E3590:
/* 801E3590 001E0670  88 1E 00 08 */	lbz r0, 0x8(r30)
/* 801E3594 001E0674  54 05 DF 7F */	extrwi. r5, r0, 3, 24
/* 801E3598 001E0678  40 82 00 0C */	bne .L_801E35A4
/* 801E359C 001E067C  80 7E 00 18 */	lwz r3, 0x18(r30)
/* 801E35A0 001E0680  48 00 00 28 */	b .L_801E35C8
.L_801E35A4:
/* 801E35A4 001E0684  80 7E 00 1C */	lwz r3, 0x1c(r30)
/* 801E35A8 001E0688  28 05 00 03 */	cmplwi r5, 0x3
/* 801E35AC 001E068C  80 1E 00 24 */	lwz r0, 0x24(r30)
/* 801E35B0 001E0690  80 9E 00 34 */	lwz r4, 0x34(r30)
/* 801E35B4 001E0694  7C 03 00 50 */	subf r0, r3, r0
/* 801E35B8 001E0698  7C 64 02 14 */	add r3, r4, r0
/* 801E35BC 001E069C  41 80 00 0C */	blt .L_801E35C8
/* 801E35C0 001E06A0  38 05 FF FE */	addi r0, r5, -0x2
/* 801E35C4 001E06A4  7C 60 18 50 */	subf r3, r0, r3
.L_801E35C8:
/* 801E35C8 001E06A8  80 01 00 08 */	lwz r0, 0x8(r1)
/* 801E35CC 001E06AC  7C 00 1A 14 */	add r0, r0, r3
/* 801E35D0 001E06B0  90 01 00 08 */	stw r0, 0x8(r1)
.L_801E35D4:
/* 801E35D4 001E06B4  2C 1F 00 02 */	cmpwi r31, 0x2
/* 801E35D8 001E06B8  41 82 00 90 */	beq .L_801E3668
/* 801E35DC 001E06BC  88 1E 00 04 */	lbz r0, 0x4(r30)
/* 801E35E0 001E06C0  54 00 EF 7E */	extrwi r0, r0, 3, 26
/* 801E35E4 001E06C4  28 00 00 03 */	cmplwi r0, 0x3
/* 801E35E8 001E06C8  41 82 00 80 */	beq .L_801E3668
/* 801E35EC 001E06CC  88 1E 00 08 */	lbz r0, 0x8(r30)
/* 801E35F0 001E06D0  54 00 DF 7E */	extrwi r0, r0, 3, 24
/* 801E35F4 001E06D4  28 00 00 02 */	cmplwi r0, 0x2
/* 801E35F8 001E06D8  41 82 00 0C */	beq .L_801E3604
/* 801E35FC 001E06DC  28 00 00 03 */	cmplwi r0, 0x3
/* 801E3600 001E06E0  40 82 00 68 */	bne .L_801E3668
.L_801E3604:
/* 801E3604 001E06E4  80 61 00 08 */	lwz r3, 0x8(r1)
/* 801E3608 001E06E8  80 1E 00 18 */	lwz r0, 0x18(r30)
/* 801E360C 001E06EC  7C 03 00 40 */	cmplw r3, r0
/* 801E3610 001E06F0  40 80 00 10 */	bge .L_801E3620
/* 801E3614 001E06F4  80 1E 00 34 */	lwz r0, 0x34(r30)
/* 801E3618 001E06F8  7C 03 00 40 */	cmplw r3, r0
/* 801E361C 001E06FC  40 80 00 18 */	bge .L_801E3634
.L_801E3620:
/* 801E3620 001E0700  88 1E 00 08 */	lbz r0, 0x8(r30)
/* 801E3624 001E0704  38 60 00 00 */	li r3, 0x0
/* 801E3628 001E0708  50 60 2E 34 */	rlwimi r0, r3, 5, 24, 26
/* 801E362C 001E070C  98 1E 00 08 */	stb r0, 0x8(r30)
/* 801E3630 001E0710  48 00 00 48 */	b .L_801E3678
.L_801E3634:
/* 801E3634 001E0714  80 9E 00 1C */	lwz r4, 0x1c(r30)
/* 801E3638 001E0718  7C 00 18 50 */	subf r0, r0, r3
/* 801E363C 001E071C  38 60 00 02 */	li r3, 0x2
/* 801E3640 001E0720  7C 04 02 14 */	add r0, r4, r0
/* 801E3644 001E0724  90 1E 00 24 */	stw r0, 0x24(r30)
/* 801E3648 001E0728  80 81 00 08 */	lwz r4, 0x8(r1)
/* 801E364C 001E072C  80 1E 00 18 */	lwz r0, 0x18(r30)
/* 801E3650 001E0730  7C 04 00 50 */	subf r0, r4, r0
/* 801E3654 001E0734  90 1E 00 28 */	stw r0, 0x28(r30)
/* 801E3658 001E0738  88 1E 00 08 */	lbz r0, 0x8(r30)
/* 801E365C 001E073C  50 60 2E 34 */	rlwimi r0, r3, 5, 24, 26
/* 801E3660 001E0740  98 1E 00 08 */	stb r0, 0x8(r30)
/* 801E3664 001E0744  48 00 00 14 */	b .L_801E3678
.L_801E3668:
/* 801E3668 001E0748  88 1E 00 08 */	lbz r0, 0x8(r30)
/* 801E366C 001E074C  38 60 00 00 */	li r3, 0x0
/* 801E3670 001E0750  50 60 2E 34 */	rlwimi r0, r3, 5, 24, 26
/* 801E3674 001E0754  98 1E 00 08 */	stb r0, 0x8(r30)
.L_801E3678:
/* 801E3678 001E0758  88 1E 00 08 */	lbz r0, 0x8(r30)
/* 801E367C 001E075C  54 00 DF 7F */	extrwi. r0, r0, 3, 24
/* 801E3680 001E0760  40 82 00 64 */	bne .L_801E36E4
/* 801E3684 001E0764  81 9E 00 38 */	lwz r12, 0x38(r30)
/* 801E3688 001E0768  28 0C 00 00 */	cmplwi r12, 0x0
/* 801E368C 001E076C  41 82 00 44 */	beq .L_801E36D0
/* 801E3690 001E0770  7F E5 FB 78 */	mr r5, r31
/* 801E3694 001E0774  38 81 00 08 */	addi r4, r1, 0x8
/* 801E3698 001E0778  80 7E 00 00 */	lwz r3, 0x0(r30)
/* 801E369C 001E077C  80 DE 00 48 */	lwz r6, 0x48(r30)
/* 801E36A0 001E0780  7D 89 03 A6 */	mtctr r12
/* 801E36A4 001E0784  4E 80 04 21 */	bctrl
/* 801E36A8 001E0788  2C 03 00 00 */	cmpwi r3, 0x0
/* 801E36AC 001E078C  41 82 00 24 */	beq .L_801E36D0
/* 801E36B0 001E0790  38 00 00 01 */	li r0, 0x1
/* 801E36B4 001E0794  38 80 00 00 */	li r4, 0x0
/* 801E36B8 001E0798  98 1E 00 0A */	stb r0, 0xa(r30)
/* 801E36BC 001E079C  38 00 00 28 */	li r0, 0x28
/* 801E36C0 001E07A0  38 60 FF FF */	li r3, -0x1
/* 801E36C4 001E07A4  90 9E 00 28 */	stw r4, 0x28(r30)
/* 801E36C8 001E07A8  90 0D 9D 98 */	stw r0, errno@sda21(r13)
/* 801E36CC 001E07AC  48 00 00 1C */	b .L_801E36E8
.L_801E36D0:
/* 801E36D0 001E07B0  38 60 00 00 */	li r3, 0x0
/* 801E36D4 001E07B4  98 7E 00 09 */	stb r3, 0x9(r30)
/* 801E36D8 001E07B8  80 01 00 08 */	lwz r0, 0x8(r1)
/* 801E36DC 001E07BC  90 1E 00 18 */	stw r0, 0x18(r30)
/* 801E36E0 001E07C0  90 7E 00 28 */	stw r3, 0x28(r30)
.L_801E36E4:
/* 801E36E4 001E07C4  38 60 00 00 */	li r3, 0x0
.L_801E36E8:
/* 801E36E8 001E07C8  80 01 00 24 */	lwz r0, 0x24(r1)
/* 801E36EC 001E07CC  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 801E36F0 001E07D0  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 801E36F4 001E07D4  7C 08 03 A6 */	mtlr r0
/* 801E36F8 001E07D8  38 21 00 20 */	addi r1, r1, 0x20
/* 801E36FC 001E07DC  4E 80 00 20 */	blr
.endfn _fseek

.fn ftell, global
/* 801E3700 001E07E0  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 801E3704 001E07E4  7C 08 02 A6 */	mflr r0
/* 801E3708 001E07E8  90 01 00 14 */	stw r0, 0x14(r1)
/* 801E370C 001E07EC  93 E1 00 0C */	stw r31, 0xc(r1)
/* 801E3710 001E07F0  7C 7F 1B 78 */	mr r31, r3
/* 801E3714 001E07F4  38 60 00 02 */	li r3, 0x2
/* 801E3718 001E07F8  4B FF EE E9 */	bl __begin_critical_region
/* 801E371C 001E07FC  A0 1F 00 04 */	lhz r0, 0x4(r31)
/* 801E3720 001E0800  54 00 D7 7E */	extrwi r0, r0, 3, 23
/* 801E3724 001E0804  28 00 00 01 */	cmplwi r0, 0x1
/* 801E3728 001E0808  41 82 00 0C */	beq .L_801E3734
/* 801E372C 001E080C  28 00 00 02 */	cmplwi r0, 0x2
/* 801E3730 001E0810  40 82 00 10 */	bne .L_801E3740
.L_801E3734:
/* 801E3734 001E0814  88 1F 00 0A */	lbz r0, 0xa(r31)
/* 801E3738 001E0818  28 00 00 00 */	cmplwi r0, 0x0
/* 801E373C 001E081C  41 82 00 14 */	beq .L_801E3750
.L_801E3740:
/* 801E3740 001E0820  38 00 00 28 */	li r0, 0x28
/* 801E3744 001E0824  3B E0 FF FF */	li r31, -0x1
/* 801E3748 001E0828  90 0D 9D 98 */	stw r0, errno@sda21(r13)
/* 801E374C 001E082C  48 00 00 3C */	b .L_801E3788
.L_801E3750:
/* 801E3750 001E0830  88 1F 00 08 */	lbz r0, 0x8(r31)
/* 801E3754 001E0834  54 05 DF 7F */	extrwi. r5, r0, 3, 24
/* 801E3758 001E0838  40 82 00 0C */	bne .L_801E3764
/* 801E375C 001E083C  83 FF 00 18 */	lwz r31, 0x18(r31)
/* 801E3760 001E0840  48 00 00 28 */	b .L_801E3788
.L_801E3764:
/* 801E3764 001E0844  80 7F 00 1C */	lwz r3, 0x1c(r31)
/* 801E3768 001E0848  28 05 00 03 */	cmplwi r5, 0x3
/* 801E376C 001E084C  80 1F 00 24 */	lwz r0, 0x24(r31)
/* 801E3770 001E0850  80 9F 00 34 */	lwz r4, 0x34(r31)
/* 801E3774 001E0854  7C 03 00 50 */	subf r0, r3, r0
/* 801E3778 001E0858  7F E4 02 14 */	add r31, r4, r0
/* 801E377C 001E085C  41 80 00 0C */	blt .L_801E3788
/* 801E3780 001E0860  38 05 FF FE */	addi r0, r5, -0x2
/* 801E3784 001E0864  7F E0 F8 50 */	subf r31, r0, r31
.L_801E3788:
/* 801E3788 001E0868  38 60 00 02 */	li r3, 0x2
/* 801E378C 001E086C  4B FF EE 71 */	bl __end_critical_region
/* 801E3790 001E0870  80 01 00 14 */	lwz r0, 0x14(r1)
/* 801E3794 001E0874  7F E3 FB 78 */	mr r3, r31
/* 801E3798 001E0878  83 E1 00 0C */	lwz r31, 0xc(r1)
/* 801E379C 001E087C  7C 08 03 A6 */	mtlr r0
/* 801E37A0 001E0880  38 21 00 10 */	addi r1, r1, 0x10
/* 801E37A4 001E0884  4E 80 00 20 */	blr
.endfn ftell
