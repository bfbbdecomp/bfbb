.include "macros.inc"
.file "mainloop.c"

# 0x801EF190 - 0x801EF288
.text
.balign 4

.fn TRKNubMainLoop, global
/* 801EF190 001EC270  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 801EF194 001EC274  7C 08 02 A6 */	mflr r0
/* 801EF198 001EC278  90 01 00 24 */	stw r0, 0x24(r1)
/* 801EF19C 001EC27C  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 801EF1A0 001EC280  3B E0 00 00 */	li r31, 0x0
/* 801EF1A4 001EC284  93 C1 00 18 */	stw r30, 0x18(r1)
/* 801EF1A8 001EC288  3B C0 00 00 */	li r30, 0x0
/* 801EF1AC 001EC28C  48 00 00 BC */	b .L_801EF268
.L_801EF1B0:
/* 801EF1B0 001EC290  38 61 00 08 */	addi r3, r1, 0x8
/* 801EF1B4 001EC294  48 00 01 F1 */	bl TRKGetNextEvent
/* 801EF1B8 001EC298  2C 03 00 00 */	cmpwi r3, 0x0
/* 801EF1BC 001EC29C  41 82 00 6C */	beq .L_801EF228
/* 801EF1C0 001EC2A0  88 01 00 08 */	lbz r0, 0x8(r1)
/* 801EF1C4 001EC2A4  3B C0 00 00 */	li r30, 0x0
/* 801EF1C8 001EC2A8  2C 00 00 02 */	cmpwi r0, 0x2
/* 801EF1CC 001EC2AC  41 82 00 28 */	beq .L_801EF1F4
/* 801EF1D0 001EC2B0  40 80 00 14 */	bge .L_801EF1E4
/* 801EF1D4 001EC2B4  2C 00 00 00 */	cmpwi r0, 0x0
/* 801EF1D8 001EC2B8  41 82 00 44 */	beq .L_801EF21C
/* 801EF1DC 001EC2BC  40 80 00 28 */	bge .L_801EF204
/* 801EF1E0 001EC2C0  48 00 00 3C */	b .L_801EF21C
.L_801EF1E4:
/* 801EF1E4 001EC2C4  2C 00 00 05 */	cmpwi r0, 0x5
/* 801EF1E8 001EC2C8  41 82 00 30 */	beq .L_801EF218
/* 801EF1EC 001EC2CC  40 80 00 30 */	bge .L_801EF21C
/* 801EF1F0 001EC2D0  48 00 00 1C */	b .L_801EF20C
.L_801EF1F4:
/* 801EF1F4 001EC2D4  80 61 00 10 */	lwz r3, 0x10(r1)
/* 801EF1F8 001EC2D8  48 00 10 8D */	bl TRKGetBuffer
/* 801EF1FC 001EC2DC  48 00 16 49 */	bl TRKDispatchMessage
/* 801EF200 001EC2E0  48 00 00 1C */	b .L_801EF21C
.L_801EF204:
/* 801EF204 001EC2E4  3B E0 00 01 */	li r31, 0x1
/* 801EF208 001EC2E8  48 00 00 14 */	b .L_801EF21C
.L_801EF20C:
/* 801EF20C 001EC2EC  38 61 00 08 */	addi r3, r1, 0x8
/* 801EF210 001EC2F0  48 00 52 65 */	bl TRKTargetInterrupt
/* 801EF214 001EC2F4  48 00 00 08 */	b .L_801EF21C
.L_801EF218:
/* 801EF218 001EC2F8  48 00 4D E1 */	bl TRKTargetSupportRequest
.L_801EF21C:
/* 801EF21C 001EC2FC  38 61 00 08 */	addi r3, r1, 0x8
/* 801EF220 001EC300  48 00 00 69 */	bl TRKDestructEvent
/* 801EF224 001EC304  48 00 00 44 */	b .L_801EF268
.L_801EF228:
/* 801EF228 001EC308  2C 1E 00 00 */	cmpwi r30, 0x0
/* 801EF22C 001EC30C  41 82 00 1C */	beq .L_801EF248
/* 801EF230 001EC310  3C 60 80 38 */	lis r3, gTRKInputPendingPtr@ha
/* 801EF234 001EC314  38 63 0C A8 */	addi r3, r3, gTRKInputPendingPtr@l
/* 801EF238 001EC318  80 63 00 00 */	lwz r3, 0x0(r3)
/* 801EF23C 001EC31C  88 03 00 00 */	lbz r0, 0x0(r3)
/* 801EF240 001EC320  28 00 00 00 */	cmplwi r0, 0x0
/* 801EF244 001EC324  41 82 00 10 */	beq .L_801EF254
.L_801EF248:
/* 801EF248 001EC328  3B C0 00 01 */	li r30, 0x1
/* 801EF24C 001EC32C  48 00 12 1D */	bl TRKGetInput
/* 801EF250 001EC330  48 00 00 18 */	b .L_801EF268
.L_801EF254:
/* 801EF254 001EC334  48 00 4D 59 */	bl TRKTargetStopped
/* 801EF258 001EC338  2C 03 00 00 */	cmpwi r3, 0x0
/* 801EF25C 001EC33C  40 82 00 08 */	bne .L_801EF264
/* 801EF260 001EC340  48 00 6F 45 */	bl TRKTargetContinue
.L_801EF264:
/* 801EF264 001EC344  3B C0 00 00 */	li r30, 0x0
.L_801EF268:
/* 801EF268 001EC348  2C 1F 00 00 */	cmpwi r31, 0x0
/* 801EF26C 001EC34C  41 82 FF 44 */	beq .L_801EF1B0
/* 801EF270 001EC350  80 01 00 24 */	lwz r0, 0x24(r1)
/* 801EF274 001EC354  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 801EF278 001EC358  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 801EF27C 001EC35C  7C 08 03 A6 */	mtlr r0
/* 801EF280 001EC360  38 21 00 20 */	addi r1, r1, 0x20
/* 801EF284 001EC364  4E 80 00 20 */	blr
.endfn TRKNubMainLoop
