.include "macros.inc"
.file "nubevent.c"

# 0x801EF288 - 0x801EF4B0
.text
.balign 4

.fn TRKDestructEvent, global
/* 801EF288 001EC368  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 801EF28C 001EC36C  7C 08 02 A6 */	mflr r0
/* 801EF290 001EC370  90 01 00 14 */	stw r0, 0x14(r1)
/* 801EF294 001EC374  80 63 00 08 */	lwz r3, 0x8(r3)
/* 801EF298 001EC378  48 00 0F 89 */	bl TRKReleaseBuffer
/* 801EF29C 001EC37C  80 01 00 14 */	lwz r0, 0x14(r1)
/* 801EF2A0 001EC380  7C 08 03 A6 */	mtlr r0
/* 801EF2A4 001EC384  38 21 00 10 */	addi r1, r1, 0x10
/* 801EF2A8 001EC388  4E 80 00 20 */	blr
.endfn TRKDestructEvent

.fn TRKConstructEvent, global
/* 801EF2AC 001EC38C  98 83 00 00 */	stb r4, 0x0(r3)
/* 801EF2B0 001EC390  38 80 00 00 */	li r4, 0x0
/* 801EF2B4 001EC394  38 00 FF FF */	li r0, -0x1
/* 801EF2B8 001EC398  90 83 00 04 */	stw r4, 0x4(r3)
/* 801EF2BC 001EC39C  90 03 00 08 */	stw r0, 0x8(r3)
/* 801EF2C0 001EC3A0  4E 80 00 20 */	blr
.endfn TRKConstructEvent

.fn TRKPostEvent, global
/* 801EF2C4 001EC3A4  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 801EF2C8 001EC3A8  7C 08 02 A6 */	mflr r0
/* 801EF2CC 001EC3AC  3C 80 80 38 */	lis r4, gTRKEventQueue@ha
/* 801EF2D0 001EC3B0  90 01 00 24 */	stw r0, 0x24(r1)
/* 801EF2D4 001EC3B4  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 801EF2D8 001EC3B8  3B E0 00 00 */	li r31, 0x0
/* 801EF2DC 001EC3BC  93 C1 00 18 */	stw r30, 0x18(r1)
/* 801EF2E0 001EC3C0  93 A1 00 14 */	stw r29, 0x14(r1)
/* 801EF2E4 001EC3C4  7C 7D 1B 78 */	mr r29, r3
/* 801EF2E8 001EC3C8  38 64 F2 C8 */	addi r3, r4, gTRKEventQueue@l
/* 801EF2EC 001EC3CC  48 00 47 1D */	bl TRKAcquireMutex
/* 801EF2F0 001EC3D0  3C 60 80 38 */	lis r3, gTRKEventQueue@ha
/* 801EF2F4 001EC3D4  3B C3 F2 C8 */	addi r30, r3, gTRKEventQueue@l
/* 801EF2F8 001EC3D8  80 7E 00 04 */	lwz r3, 0x4(r30)
/* 801EF2FC 001EC3DC  2C 03 00 02 */	cmpwi r3, 0x2
/* 801EF300 001EC3E0  40 82 00 0C */	bne .L_801EF30C
/* 801EF304 001EC3E4  3B E0 01 00 */	li r31, 0x100
/* 801EF308 001EC3E8  48 00 00 70 */	b .L_801EF378
.L_801EF30C:
/* 801EF30C 001EC3EC  80 1E 00 08 */	lwz r0, 0x8(r30)
/* 801EF310 001EC3F0  7F A4 EB 78 */	mr r4, r29
/* 801EF314 001EC3F4  38 A0 00 0C */	li r5, 0xc
/* 801EF318 001EC3F8  7C 00 1A 14 */	add r0, r0, r3
/* 801EF31C 001EC3FC  54 03 0F FE */	srwi r3, r0, 31
/* 801EF320 001EC400  54 00 07 FE */	clrlwi r0, r0, 31
/* 801EF324 001EC404  7C 00 1A 78 */	xor r0, r0, r3
/* 801EF328 001EC408  7C 03 00 50 */	subf r0, r3, r0
/* 801EF32C 001EC40C  1F A0 00 0C */	mulli r29, r0, 0xc
/* 801EF330 001EC410  7C 7E EA 14 */	add r3, r30, r29
/* 801EF334 001EC414  38 63 00 0C */	addi r3, r3, 0xc
/* 801EF338 001EC418  4B E1 42 89 */	bl TRK_memcpy
/* 801EF33C 001EC41C  3C 60 80 38 */	lis r3, gTRKEventQueue@ha
/* 801EF340 001EC420  38 83 F2 C8 */	addi r4, r3, gTRKEventQueue@l
/* 801EF344 001EC424  80 04 00 24 */	lwz r0, 0x24(r4)
/* 801EF348 001EC428  7C 64 EA 14 */	add r3, r4, r29
/* 801EF34C 001EC42C  90 03 00 10 */	stw r0, 0x10(r3)
/* 801EF350 001EC430  80 64 00 24 */	lwz r3, 0x24(r4)
/* 801EF354 001EC434  38 03 00 01 */	addi r0, r3, 0x1
/* 801EF358 001EC438  28 00 01 00 */	cmplwi r0, 0x100
/* 801EF35C 001EC43C  90 04 00 24 */	stw r0, 0x24(r4)
/* 801EF360 001EC440  40 80 00 0C */	bge .L_801EF36C
/* 801EF364 001EC444  38 00 01 00 */	li r0, 0x100
/* 801EF368 001EC448  90 04 00 24 */	stw r0, 0x24(r4)
.L_801EF36C:
/* 801EF36C 001EC44C  80 7E 00 04 */	lwz r3, 0x4(r30)
/* 801EF370 001EC450  38 03 00 01 */	addi r0, r3, 0x1
/* 801EF374 001EC454  90 1E 00 04 */	stw r0, 0x4(r30)
.L_801EF378:
/* 801EF378 001EC458  3C 60 80 38 */	lis r3, gTRKEventQueue@ha
/* 801EF37C 001EC45C  38 63 F2 C8 */	addi r3, r3, gTRKEventQueue@l
/* 801EF380 001EC460  48 00 46 81 */	bl TRKReleaseMutex
/* 801EF384 001EC464  80 01 00 24 */	lwz r0, 0x24(r1)
/* 801EF388 001EC468  7F E3 FB 78 */	mr r3, r31
/* 801EF38C 001EC46C  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 801EF390 001EC470  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 801EF394 001EC474  83 A1 00 14 */	lwz r29, 0x14(r1)
/* 801EF398 001EC478  7C 08 03 A6 */	mtlr r0
/* 801EF39C 001EC47C  38 21 00 20 */	addi r1, r1, 0x20
/* 801EF3A0 001EC480  4E 80 00 20 */	blr
.endfn TRKPostEvent

.fn TRKGetNextEvent, global
/* 801EF3A4 001EC484  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 801EF3A8 001EC488  7C 08 02 A6 */	mflr r0
/* 801EF3AC 001EC48C  3C 80 80 38 */	lis r4, gTRKEventQueue@ha
/* 801EF3B0 001EC490  90 01 00 24 */	stw r0, 0x24(r1)
/* 801EF3B4 001EC494  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 801EF3B8 001EC498  93 C1 00 18 */	stw r30, 0x18(r1)
/* 801EF3BC 001EC49C  3B C0 00 00 */	li r30, 0x0
/* 801EF3C0 001EC4A0  93 A1 00 14 */	stw r29, 0x14(r1)
/* 801EF3C4 001EC4A4  7C 7D 1B 78 */	mr r29, r3
/* 801EF3C8 001EC4A8  38 64 F2 C8 */	addi r3, r4, gTRKEventQueue@l
/* 801EF3CC 001EC4AC  48 00 46 3D */	bl TRKAcquireMutex
/* 801EF3D0 001EC4B0  3C 60 80 38 */	lis r3, gTRKEventQueue@ha
/* 801EF3D4 001EC4B4  3B E3 F2 C8 */	addi r31, r3, gTRKEventQueue@l
/* 801EF3D8 001EC4B8  80 1F 00 04 */	lwz r0, 0x4(r31)
/* 801EF3DC 001EC4BC  2C 00 00 00 */	cmpwi r0, 0x0
/* 801EF3E0 001EC4C0  40 81 00 4C */	ble .L_801EF42C
/* 801EF3E4 001EC4C4  80 1F 00 08 */	lwz r0, 0x8(r31)
/* 801EF3E8 001EC4C8  7F A3 EB 78 */	mr r3, r29
/* 801EF3EC 001EC4CC  38 A0 00 0C */	li r5, 0xc
/* 801EF3F0 001EC4D0  1C 00 00 0C */	mulli r0, r0, 0xc
/* 801EF3F4 001EC4D4  7C 9F 02 14 */	add r4, r31, r0
/* 801EF3F8 001EC4D8  38 84 00 0C */	addi r4, r4, 0xc
/* 801EF3FC 001EC4DC  4B E1 41 C5 */	bl TRK_memcpy
/* 801EF400 001EC4E0  80 7F 00 08 */	lwz r3, 0x8(r31)
/* 801EF404 001EC4E4  80 9F 00 04 */	lwz r4, 0x4(r31)
/* 801EF408 001EC4E8  38 03 00 01 */	addi r0, r3, 0x1
/* 801EF40C 001EC4EC  38 64 FF FF */	addi r3, r4, -0x1
/* 801EF410 001EC4F0  90 1F 00 08 */	stw r0, 0x8(r31)
/* 801EF414 001EC4F4  2C 00 00 02 */	cmpwi r0, 0x2
/* 801EF418 001EC4F8  90 7F 00 04 */	stw r3, 0x4(r31)
/* 801EF41C 001EC4FC  40 82 00 0C */	bne .L_801EF428
/* 801EF420 001EC500  38 00 00 00 */	li r0, 0x0
/* 801EF424 001EC504  90 1F 00 08 */	stw r0, 0x8(r31)
.L_801EF428:
/* 801EF428 001EC508  3B C0 00 01 */	li r30, 0x1
.L_801EF42C:
/* 801EF42C 001EC50C  3C 60 80 38 */	lis r3, gTRKEventQueue@ha
/* 801EF430 001EC510  38 63 F2 C8 */	addi r3, r3, gTRKEventQueue@l
/* 801EF434 001EC514  48 00 45 CD */	bl TRKReleaseMutex
/* 801EF438 001EC518  80 01 00 24 */	lwz r0, 0x24(r1)
/* 801EF43C 001EC51C  7F C3 F3 78 */	mr r3, r30
/* 801EF440 001EC520  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 801EF444 001EC524  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 801EF448 001EC528  83 A1 00 14 */	lwz r29, 0x14(r1)
/* 801EF44C 001EC52C  7C 08 03 A6 */	mtlr r0
/* 801EF450 001EC530  38 21 00 20 */	addi r1, r1, 0x20
/* 801EF454 001EC534  4E 80 00 20 */	blr
.endfn TRKGetNextEvent

.fn TRKInitializeEventQueue, global
/* 801EF458 001EC538  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 801EF45C 001EC53C  7C 08 02 A6 */	mflr r0
/* 801EF460 001EC540  3C 60 80 38 */	lis r3, gTRKEventQueue@ha
/* 801EF464 001EC544  90 01 00 14 */	stw r0, 0x14(r1)
/* 801EF468 001EC548  38 63 F2 C8 */	addi r3, r3, gTRKEventQueue@l
/* 801EF46C 001EC54C  48 00 45 A5 */	bl TRKInitializeMutex
/* 801EF470 001EC550  3C 60 80 38 */	lis r3, gTRKEventQueue@ha
/* 801EF474 001EC554  38 63 F2 C8 */	addi r3, r3, gTRKEventQueue@l
/* 801EF478 001EC558  48 00 45 91 */	bl TRKAcquireMutex
/* 801EF47C 001EC55C  3C 60 80 38 */	lis r3, gTRKEventQueue@ha
/* 801EF480 001EC560  38 80 00 00 */	li r4, 0x0
/* 801EF484 001EC564  38 63 F2 C8 */	addi r3, r3, gTRKEventQueue@l
/* 801EF488 001EC568  38 00 01 00 */	li r0, 0x100
/* 801EF48C 001EC56C  90 83 00 04 */	stw r4, 0x4(r3)
/* 801EF490 001EC570  90 83 00 08 */	stw r4, 0x8(r3)
/* 801EF494 001EC574  90 03 00 24 */	stw r0, 0x24(r3)
/* 801EF498 001EC578  48 00 45 69 */	bl TRKReleaseMutex
/* 801EF49C 001EC57C  80 01 00 14 */	lwz r0, 0x14(r1)
/* 801EF4A0 001EC580  38 60 00 00 */	li r3, 0x0
/* 801EF4A4 001EC584  7C 08 03 A6 */	mtlr r0
/* 801EF4A8 001EC588  38 21 00 10 */	addi r1, r1, 0x10
/* 801EF4AC 001EC58C  4E 80 00 20 */	blr
.endfn TRKInitializeEventQueue

# 0x8037F2C8 - 0x8037F2F0
.section .bss, "wa", @nobits
.balign 8

.obj gTRKEventQueue, global
	.skip 0x28
.endobj gTRKEventQueue
