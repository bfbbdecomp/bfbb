.include "macros.inc"
.file "xModelBucket.cpp"

# 0x801263C0 - 0x80127314
.text
.balign 4

# CmpAlphaBucket(const void*, const void*)
.fn CmpAlphaBucket__FPCvPCv, local
/* 801263C0 001234A0  80 A3 00 10 */	lwz r5, 0x10(r3)
/* 801263C4 001234A4  80 04 00 10 */	lwz r0, 0x10(r4)
/* 801263C8 001234A8  7C 05 00 40 */	cmplw r5, r0
/* 801263CC 001234AC  40 81 00 0C */	ble .L_801263D8
/* 801263D0 001234B0  38 60 00 01 */	li r3, 0x1
/* 801263D4 001234B4  4E 80 00 20 */	blr
.L_801263D8:
/* 801263D8 001234B8  40 80 00 0C */	bge .L_801263E4
/* 801263DC 001234BC  38 60 FF FF */	li r3, -0x1
/* 801263E0 001234C0  4E 80 00 20 */	blr
.L_801263E4:
/* 801263E4 001234C4  C0 23 00 0C */	lfs f1, 0xc(r3)
/* 801263E8 001234C8  C0 04 00 0C */	lfs f0, 0xc(r4)
/* 801263EC 001234CC  FC 01 00 40 */	fcmpo cr0, f1, f0
/* 801263F0 001234D0  40 80 00 0C */	bge .L_801263FC
/* 801263F4 001234D4  38 60 00 01 */	li r3, 0x1
/* 801263F8 001234D8  4E 80 00 20 */	blr
.L_801263FC:
/* 801263FC 001234DC  40 81 00 0C */	ble .L_80126408
/* 80126400 001234E0  38 60 FF FF */	li r3, -0x1
/* 80126404 001234E4  4E 80 00 20 */	blr
.L_80126408:
/* 80126408 001234E8  38 60 00 00 */	li r3, 0x0
/* 8012640C 001234EC  4E 80 00 20 */	blr
.endfn CmpAlphaBucket__FPCvPCv

# xModelBucket_PreCountReset()
.fn xModelBucket_PreCountReset__Fv, global
/* 80126410 001234F0  38 00 00 00 */	li r0, 0x0
/* 80126414 001234F4  90 0D 95 88 */	stw r0, sBucketCurr@sda21(r13)
/* 80126418 001234F8  90 0D 95 8C */	stw r0, sBucketCount@sda21(r13)
/* 8012641C 001234FC  90 0D 95 90 */	stw r0, sBucketList@sda21(r13)
/* 80126420 00123500  90 0D 95 94 */	stw r0, sBucketClipCullCurr@sda21(r13)
/* 80126424 00123504  90 0D 95 98 */	stw r0, sBucketClipCullCount@sda21(r13)
/* 80126428 00123508  90 0D 95 9C */	stw r0, sBucketClipCullList@sda21(r13)
/* 8012642C 0012350C  90 0D 95 A0 */	stw r0, sAlphaCurr@sda21(r13)
/* 80126430 00123510  90 0D 95 A8 */	stw r0, sAlphaCount@sda21(r13)
/* 80126434 00123514  90 0D 95 AC */	stw r0, sAlphaList@sda21(r13)
/* 80126438 00123518  4E 80 00 20 */	blr
.endfn xModelBucket_PreCountReset__Fv

# xModelBucket_PreCountBucket(RpAtomic*, unsigned int, unsigned int)
.fn xModelBucket_PreCountBucket__FP8RpAtomicUiUi, global
/* 8012643C 0012351C  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 80126440 00123520  7C 08 02 A6 */	mflr r0
/* 80126444 00123524  90 01 00 24 */	stw r0, 0x24(r1)
/* 80126448 00123528  54 80 00 3A */	clrrwi r0, r4, 2
/* 8012644C 0012352C  60 00 00 02 */	ori r0, r0, 0x2
/* 80126450 00123530  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 80126454 00123534  54 00 07 BE */	clrlwi r0, r0, 30
/* 80126458 00123538  2C 00 00 02 */	cmpwi r0, 0x2
/* 8012645C 0012353C  93 C1 00 18 */	stw r30, 0x18(r1)
/* 80126460 00123540  93 A1 00 14 */	stw r29, 0x14(r1)
/* 80126464 00123544  7C BD 2B 78 */	mr r29, r5
/* 80126468 00123548  93 81 00 10 */	stw r28, 0x10(r1)
/* 8012646C 0012354C  7C 7C 1B 78 */	mr r28, r3
/* 80126470 00123550  41 82 00 2C */	beq .L_8012649C
/* 80126474 00123554  40 80 00 14 */	bge .L_80126488
/* 80126478 00123558  2C 00 00 00 */	cmpwi r0, 0x0
/* 8012647C 0012355C  41 82 00 30 */	beq .L_801264AC
/* 80126480 00123560  40 80 00 14 */	bge .L_80126494
/* 80126484 00123564  48 00 00 28 */	b .L_801264AC
.L_80126488:
/* 80126488 00123568  2C 00 00 04 */	cmpwi r0, 0x4
/* 8012648C 0012356C  40 80 00 20 */	bge .L_801264AC
/* 80126490 00123570  48 00 00 14 */	b .L_801264A4
.L_80126494:
/* 80126494 00123574  3B E0 00 01 */	li r31, 0x1
/* 80126498 00123578  48 00 00 30 */	b .L_801264C8
.L_8012649C:
/* 8012649C 0012357C  3B E0 00 01 */	li r31, 0x1
/* 801264A0 00123580  48 00 00 28 */	b .L_801264C8
.L_801264A4:
/* 801264A4 00123584  3B E0 00 02 */	li r31, 0x2
/* 801264A8 00123588  48 00 00 20 */	b .L_801264C8
.L_801264AC:
/* 801264AC 0012358C  7F 83 E3 78 */	mr r3, r28
/* 801264B0 00123590  4B FA 1A 65 */	bl iModelNumBones__FP8RpAtomic
/* 801264B4 00123594  28 03 00 00 */	cmplwi r3, 0x0
/* 801264B8 00123598  41 82 00 0C */	beq .L_801264C4
/* 801264BC 0012359C  3B E0 00 01 */	li r31, 0x1
/* 801264C0 001235A0  48 00 00 08 */	b .L_801264C8
.L_801264C4:
/* 801264C4 001235A4  3B E0 00 02 */	li r31, 0x2
.L_801264C8:
/* 801264C8 001235A8  3B C0 00 00 */	li r30, 0x0
.L_801264CC:
/* 801264CC 001235AC  57 A0 07 FF */	clrlwi. r0, r29, 31
/* 801264D0 001235B0  41 82 00 08 */	beq .L_801264D8
/* 801264D4 001235B4  3B DE 00 01 */	addi r30, r30, 0x1
.L_801264D8:
/* 801264D8 001235B8  7F 83 E3 78 */	mr r3, r28
/* 801264DC 001235BC  57 BD F8 7E */	srwi r29, r29, 1
/* 801264E0 001235C0  4B FA 19 E9 */	bl iModelFile_RWMultiAtomic__FP8RpAtomic
/* 801264E4 001235C4  7C 7C 1B 79 */	mr. r28, r3
/* 801264E8 001235C8  40 82 FF E4 */	bne .L_801264CC
/* 801264EC 001235CC  7C 7E F9 D6 */	mullw r3, r30, r31
/* 801264F0 001235D0  80 8D 95 8C */	lwz r4, sBucketCount@sda21(r13)
/* 801264F4 001235D4  57 C0 08 3C */	slwi r0, r30, 1
/* 801264F8 001235D8  7C 64 1A 14 */	add r3, r4, r3
/* 801264FC 001235DC  90 6D 95 8C */	stw r3, sBucketCount@sda21(r13)
/* 80126500 001235E0  80 6D 95 98 */	lwz r3, sBucketClipCullCount@sda21(r13)
/* 80126504 001235E4  7C 03 02 14 */	add r0, r3, r0
/* 80126508 001235E8  90 0D 95 98 */	stw r0, sBucketClipCullCount@sda21(r13)
/* 8012650C 001235EC  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 80126510 001235F0  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 80126514 001235F4  83 A1 00 14 */	lwz r29, 0x14(r1)
/* 80126518 001235F8  83 81 00 10 */	lwz r28, 0x10(r1)
/* 8012651C 001235FC  80 01 00 24 */	lwz r0, 0x24(r1)
/* 80126520 00123600  7C 08 03 A6 */	mtlr r0
/* 80126524 00123604  38 21 00 20 */	addi r1, r1, 0x20
/* 80126528 00123608  4E 80 00 20 */	blr
.endfn xModelBucket_PreCountBucket__FP8RpAtomicUiUi

# xModelBucket_PreCountAlloc(int)
.fn xModelBucket_PreCountAlloc__Fi, global
/* 8012652C 0012360C  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 80126530 00123610  7C 08 02 A6 */	mflr r0
/* 80126534 00123614  38 A0 00 00 */	li r5, 0x0
/* 80126538 00123618  90 01 00 24 */	stw r0, 0x24(r1)
/* 8012653C 0012361C  90 6D 95 A8 */	stw r3, sAlphaCount@sda21(r13)
/* 80126540 00123620  80 0D 95 8C */	lwz r0, sBucketCount@sda21(r13)
/* 80126544 00123624  80 6D 89 E0 */	lwz r3, gActiveHeap@sda21(r13)
/* 80126548 00123628  1C 80 00 14 */	mulli r4, r0, 0x14
/* 8012654C 0012362C  4B F0 D3 F5 */	bl xMemAlloc__FUiUii
/* 80126550 00123630  90 6D 95 90 */	stw r3, sBucketList@sda21(r13)
/* 80126554 00123634  38 A0 00 00 */	li r5, 0x0
/* 80126558 00123638  80 0D 95 98 */	lwz r0, sBucketClipCullCount@sda21(r13)
/* 8012655C 0012363C  80 6D 89 E0 */	lwz r3, gActiveHeap@sda21(r13)
/* 80126560 00123640  54 04 10 3A */	slwi r4, r0, 2
/* 80126564 00123644  4B F0 D3 DD */	bl xMemAlloc__FUiUii
/* 80126568 00123648  90 6D 95 9C */	stw r3, sBucketClipCullList@sda21(r13)
/* 8012656C 0012364C  38 A0 00 00 */	li r5, 0x0
/* 80126570 00123650  80 0D 95 A8 */	lwz r0, sAlphaCount@sda21(r13)
/* 80126574 00123654  80 6D 89 E0 */	lwz r3, gActiveHeap@sda21(r13)
/* 80126578 00123658  1C 80 00 14 */	mulli r4, r0, 0x14
/* 8012657C 0012365C  4B F0 D3 C5 */	bl xMemAlloc__FUiUii
/* 80126580 00123660  90 6D 95 AC */	stw r3, sAlphaList@sda21(r13)
/* 80126584 00123664  38 61 00 08 */	addi r3, r1, 0x8
/* 80126588 00123668  C0 02 A1 40 */	lfs f0, "@675"@sda21(r2)
/* 8012658C 0012366C  D0 01 00 08 */	stfs f0, 0x8(r1)
/* 80126590 00123670  D0 01 00 0C */	stfs f0, 0xc(r1)
/* 80126594 00123674  D0 01 00 10 */	stfs f0, 0x10(r1)
/* 80126598 00123678  C0 02 A1 44 */	lfs f0, "@676"@sda21(r2)
/* 8012659C 0012367C  D0 01 00 14 */	stfs f0, 0x14(r1)
/* 801265A0 00123680  D0 01 00 18 */	stfs f0, 0x18(r1)
/* 801265A4 00123684  D0 01 00 1C */	stfs f0, 0x1c(r1)
/* 801265A8 00123688  48 0F 6A F9 */	bl RpWorldCreate
/* 801265AC 0012368C  90 6D 95 80 */	stw r3, sBucketDummyWorld@sda21(r13)
/* 801265B0 00123690  38 60 00 00 */	li r3, 0x0
/* 801265B4 00123694  38 80 00 00 */	li r4, 0x0
/* 801265B8 00123698  38 A0 00 00 */	li r5, 0x0
/* 801265BC 0012369C  4B F9 9B 7D */	bl iCameraCreate__Fiii
/* 801265C0 001236A0  90 6D 95 84 */	stw r3, sBucketDummyCamera@sda21(r13)
/* 801265C4 001236A4  80 6D 95 80 */	lwz r3, sBucketDummyWorld@sda21(r13)
/* 801265C8 001236A8  80 8D 95 84 */	lwz r4, sBucketDummyCamera@sda21(r13)
/* 801265CC 001236AC  48 0F 89 29 */	bl RpWorldAddCamera
/* 801265D0 001236B0  80 01 00 24 */	lwz r0, 0x24(r1)
/* 801265D4 001236B4  7C 08 03 A6 */	mtlr r0
/* 801265D8 001236B8  38 21 00 20 */	addi r1, r1, 0x20
/* 801265DC 001236BC  4E 80 00 20 */	blr
.endfn xModelBucket_PreCountAlloc__Fi

# FullAtomicDupe(RpAtomic*, int, RpAtomic**)
.fn FullAtomicDupe__FP8RpAtomiciPP8RpAtomic, global
/* 801265E0 001236C0  94 21 FF D0 */	stwu r1, -0x30(r1)
/* 801265E4 001236C4  7C 08 02 A6 */	mflr r0
/* 801265E8 001236C8  90 01 00 34 */	stw r0, 0x34(r1)
/* 801265EC 001236CC  BF 61 00 1C */	stmw r27, 0x1c(r1)
/* 801265F0 001236D0  7C 7D 1B 78 */	mr r29, r3
/* 801265F4 001236D4  7C 9F 23 78 */	mr r31, r4
/* 801265F8 001236D8  7C BB 2B 78 */	mr r27, r5
/* 801265FC 001236DC  38 A1 00 10 */	addi r5, r1, 0x10
/* 80126600 001236E0  38 60 00 03 */	li r3, 0x3
/* 80126604 001236E4  38 80 00 02 */	li r4, 0x2
/* 80126608 001236E8  80 C2 BF 58 */	lwz r6, "@684"@sda21(r2)
/* 8012660C 001236EC  80 02 BF 5C */	lwz r0, "@684"+0x4@sda21(r2)
/* 80126610 001236F0  90 C1 00 10 */	stw r6, 0x10(r1)
/* 80126614 001236F4  90 01 00 14 */	stw r0, 0x14(r1)
/* 80126618 001236F8  48 10 C5 B1 */	bl RwStreamOpen
/* 8012661C 001236FC  7C 7C 1B 79 */	mr. r28, r3
/* 80126620 00123700  41 82 00 1C */	beq .L_8012663C
/* 80126624 00123704  7F A3 EB 78 */	mr r3, r29
/* 80126628 00123708  7F 84 E3 78 */	mr r4, r28
/* 8012662C 0012370C  48 0E D1 09 */	bl RpAtomicStreamWrite
/* 80126630 00123710  7F 83 E3 78 */	mr r3, r28
/* 80126634 00123714  38 81 00 10 */	addi r4, r1, 0x10
/* 80126638 00123718  48 10 C4 69 */	bl RwStreamClose
.L_8012663C:
/* 8012663C 0012371C  7F 7E DB 78 */	mr r30, r27
/* 80126640 00123720  3B 80 00 00 */	li r28, 0x0
/* 80126644 00123724  48 00 01 44 */	b .L_80126788
.L_80126648:
/* 80126648 00123728  38 A1 00 10 */	addi r5, r1, 0x10
/* 8012664C 0012372C  38 60 00 03 */	li r3, 0x3
/* 80126650 00123730  38 80 00 01 */	li r4, 0x1
/* 80126654 00123734  48 10 C5 75 */	bl RwStreamOpen
/* 80126658 00123738  38 80 00 14 */	li r4, 0x14
/* 8012665C 0012373C  7C 7D 1B 78 */	mr r29, r3
/* 80126660 00123740  38 A0 00 00 */	li r5, 0x0
/* 80126664 00123744  38 C0 00 00 */	li r6, 0x0
/* 80126668 00123748  48 10 85 4D */	bl RwStreamFindChunk
/* 8012666C 0012374C  7F A3 EB 78 */	mr r3, r29
/* 80126670 00123750  48 0E D1 01 */	bl RpAtomicStreamRead
/* 80126674 00123754  7C 60 1B 78 */	mr r0, r3
/* 80126678 00123758  7F A3 EB 78 */	mr r3, r29
/* 8012667C 0012375C  7C 1B 03 78 */	mr r27, r0
/* 80126680 00123760  38 81 00 10 */	addi r4, r1, 0x10
/* 80126684 00123764  48 10 C4 1D */	bl RwStreamClose
/* 80126688 00123768  48 11 24 01 */	bl RwFrameCreate
/* 8012668C 0012376C  7C 64 1B 78 */	mr r4, r3
/* 80126690 00123770  7F 63 DB 78 */	mr r3, r27
/* 80126694 00123774  48 0E E7 A9 */	bl RpAtomicSetFrame
/* 80126698 00123778  80 C2 BF 60 */	lwz r6, "@691"@sda21(r2)
/* 8012669C 0012377C  38 A1 00 08 */	addi r5, r1, 0x8
/* 801266A0 00123780  80 02 BF 64 */	lwz r0, "@691"+0x4@sda21(r2)
/* 801266A4 00123784  38 60 00 03 */	li r3, 0x3
/* 801266A8 00123788  38 80 00 02 */	li r4, 0x2
/* 801266AC 0012378C  90 C1 00 08 */	stw r6, 0x8(r1)
/* 801266B0 00123790  90 01 00 0C */	stw r0, 0xc(r1)
/* 801266B4 00123794  48 10 C5 15 */	bl RwStreamOpen
/* 801266B8 00123798  7C 7D 1B 79 */	mr. r29, r3
/* 801266BC 0012379C  41 82 00 1C */	beq .L_801266D8
/* 801266C0 001237A0  7F 63 DB 78 */	mr r3, r27
/* 801266C4 001237A4  7F A4 EB 78 */	mr r4, r29
/* 801266C8 001237A8  48 0E D0 6D */	bl RpAtomicStreamWrite
/* 801266CC 001237AC  7F A3 EB 78 */	mr r3, r29
/* 801266D0 001237B0  38 81 00 08 */	addi r4, r1, 0x8
/* 801266D4 001237B4  48 10 C3 CD */	bl RwStreamClose
.L_801266D8:
/* 801266D8 001237B8  38 A1 00 08 */	addi r5, r1, 0x8
/* 801266DC 001237BC  38 60 00 03 */	li r3, 0x3
/* 801266E0 001237C0  38 80 00 01 */	li r4, 0x1
/* 801266E4 001237C4  48 10 C4 E5 */	bl RwStreamOpen
/* 801266E8 001237C8  7C 7D 1B 79 */	mr. r29, r3
/* 801266EC 001237CC  41 82 00 30 */	beq .L_8012671C
/* 801266F0 001237D0  38 80 00 14 */	li r4, 0x14
/* 801266F4 001237D4  38 A0 00 00 */	li r5, 0x0
/* 801266F8 001237D8  38 C0 00 00 */	li r6, 0x0
/* 801266FC 001237DC  48 10 84 B9 */	bl RwStreamFindChunk
/* 80126700 001237E0  7F A3 EB 78 */	mr r3, r29
/* 80126704 001237E4  48 0E D0 6D */	bl RpAtomicStreamRead
/* 80126708 001237E8  90 7E 00 00 */	stw r3, 0x0(r30)
/* 8012670C 001237EC  7F A3 EB 78 */	mr r3, r29
/* 80126710 001237F0  38 81 00 08 */	addi r4, r1, 0x8
/* 80126714 001237F4  48 10 C3 8D */	bl RwStreamClose
/* 80126718 001237F8  48 00 00 0C */	b .L_80126724
.L_8012671C:
/* 8012671C 001237FC  38 00 00 00 */	li r0, 0x0
/* 80126720 00123800  90 1E 00 00 */	stw r0, 0x0(r30)
.L_80126724:
/* 80126724 00123804  80 8D 9F 7C */	lwz r4, RwEngineInstance@sda21(r13)
/* 80126728 00123808  80 61 00 08 */	lwz r3, 0x8(r1)
/* 8012672C 0012380C  81 84 01 38 */	lwz r12, 0x138(r4)
/* 80126730 00123810  7D 89 03 A6 */	mtctr r12
/* 80126734 00123814  4E 80 04 21 */	bctrl
/* 80126738 00123818  48 11 66 C5 */	bl _rwFrameSyncDirty
/* 8012673C 0012381C  83 BB 00 04 */	lwz r29, 0x4(r27)
/* 80126740 00123820  28 1D 00 00 */	cmplwi r29, 0x0
/* 80126744 00123824  41 82 00 18 */	beq .L_8012675C
/* 80126748 00123828  7F 63 DB 78 */	mr r3, r27
/* 8012674C 0012382C  38 80 00 00 */	li r4, 0x0
/* 80126750 00123830  48 0E E6 ED */	bl RpAtomicSetFrame
/* 80126754 00123834  7F A3 EB 78 */	mr r3, r29
/* 80126758 00123838  48 11 24 6D */	bl RwFrameDestroy
.L_8012675C:
/* 8012675C 0012383C  7F 63 DB 78 */	mr r3, r27
/* 80126760 00123840  48 0E CC 6D */	bl RpAtomicDestroy
/* 80126764 00123844  80 1E 00 00 */	lwz r0, 0x0(r30)
/* 80126768 00123848  28 00 00 00 */	cmplwi r0, 0x0
/* 8012676C 0012384C  41 82 00 14 */	beq .L_80126780
/* 80126770 00123850  48 11 23 19 */	bl RwFrameCreate
/* 80126774 00123854  7C 64 1B 78 */	mr r4, r3
/* 80126778 00123858  80 7E 00 00 */	lwz r3, 0x0(r30)
/* 8012677C 0012385C  48 0E E6 C1 */	bl RpAtomicSetFrame
.L_80126780:
/* 80126780 00123860  3B DE 00 04 */	addi r30, r30, 0x4
/* 80126784 00123864  3B 9C 00 01 */	addi r28, r28, 0x1
.L_80126788:
/* 80126788 00123868  7C 1C F8 00 */	cmpw r28, r31
/* 8012678C 0012386C  41 80 FE BC */	blt .L_80126648
/* 80126790 00123870  80 8D 9F 7C */	lwz r4, RwEngineInstance@sda21(r13)
/* 80126794 00123874  80 61 00 10 */	lwz r3, 0x10(r1)
/* 80126798 00123878  81 84 01 38 */	lwz r12, 0x138(r4)
/* 8012679C 0012387C  7D 89 03 A6 */	mtctr r12
/* 801267A0 00123880  4E 80 04 21 */	bctrl
/* 801267A4 00123884  BB 61 00 1C */	lmw r27, 0x1c(r1)
/* 801267A8 00123888  80 01 00 34 */	lwz r0, 0x34(r1)
/* 801267AC 0012388C  7C 08 03 A6 */	mtlr r0
/* 801267B0 00123890  38 21 00 30 */	addi r1, r1, 0x30
/* 801267B4 00123894  4E 80 00 20 */	blr
.endfn FullAtomicDupe__FP8RpAtomiciPP8RpAtomic

# xModelBucket_InsertBucket(RpAtomic*, unsigned int, unsigned int)
.fn xModelBucket_InsertBucket__FP8RpAtomicUiUi, global
/* 801267B8 00123898  94 21 FF D0 */	stwu r1, -0x30(r1)
/* 801267BC 0012389C  7C 08 02 A6 */	mflr r0
/* 801267C0 001238A0  90 01 00 34 */	stw r0, 0x34(r1)
/* 801267C4 001238A4  54 80 00 3A */	clrrwi r0, r4, 2
/* 801267C8 001238A8  BF 41 00 18 */	stmw r26, 0x18(r1)
/* 801267CC 001238AC  60 1B 00 02 */	ori r27, r0, 0x2
/* 801267D0 001238B0  57 60 07 BE */	clrlwi r0, r27, 30
/* 801267D4 001238B4  7C 7A 1B 78 */	mr r26, r3
/* 801267D8 001238B8  2C 00 00 02 */	cmpwi r0, 0x2
/* 801267DC 001238BC  7C BC 2B 78 */	mr r28, r5
/* 801267E0 001238C0  41 82 00 30 */	beq .L_80126810
/* 801267E4 001238C4  40 80 00 14 */	bge .L_801267F8
/* 801267E8 001238C8  2C 00 00 00 */	cmpwi r0, 0x0
/* 801267EC 001238CC  41 82 00 40 */	beq .L_8012682C
/* 801267F0 001238D0  40 80 00 14 */	bge .L_80126804
/* 801267F4 001238D4  48 00 00 38 */	b .L_8012682C
.L_801267F8:
/* 801267F8 001238D8  2C 00 00 04 */	cmpwi r0, 0x4
/* 801267FC 001238DC  40 80 00 30 */	bge .L_8012682C
/* 80126800 001238E0  48 00 00 1C */	b .L_8012681C
.L_80126804:
/* 80126804 001238E4  3B A0 00 01 */	li r29, 0x1
/* 80126808 001238E8  3B E0 00 01 */	li r31, 0x1
/* 8012680C 001238EC  48 00 00 48 */	b .L_80126854
.L_80126810:
/* 80126810 001238F0  3B A0 00 01 */	li r29, 0x1
/* 80126814 001238F4  3B E0 00 02 */	li r31, 0x2
/* 80126818 001238F8  48 00 00 3C */	b .L_80126854
.L_8012681C:
/* 8012681C 001238FC  3B A0 00 02 */	li r29, 0x2
/* 80126820 00123900  3B E0 00 02 */	li r31, 0x2
/* 80126824 00123904  3B C0 00 01 */	li r30, 0x1
/* 80126828 00123908  48 00 00 2C */	b .L_80126854
.L_8012682C:
/* 8012682C 0012390C  7F 43 D3 78 */	mr r3, r26
/* 80126830 00123910  4B FA 16 E5 */	bl iModelNumBones__FP8RpAtomic
/* 80126834 00123914  28 03 00 00 */	cmplwi r3, 0x0
/* 80126838 00123918  41 82 00 10 */	beq .L_80126848
/* 8012683C 0012391C  3B A0 00 01 */	li r29, 0x1
/* 80126840 00123920  3B E0 00 01 */	li r31, 0x1
/* 80126844 00123924  48 00 00 10 */	b .L_80126854
.L_80126848:
/* 80126848 00123928  3B A0 00 02 */	li r29, 0x2
/* 8012684C 0012392C  3B E0 00 02 */	li r31, 0x2
/* 80126850 00123930  3B C0 00 01 */	li r30, 0x1
.L_80126854:
/* 80126854 00123934  38 00 00 00 */	li r0, 0x0
/* 80126858 00123938  90 01 00 08 */	stw r0, 0x8(r1)
.L_8012685C:
/* 8012685C 0012393C  57 80 07 FF */	clrlwi. r0, r28, 31
/* 80126860 00123940  41 82 01 70 */	beq .L_801269D0
/* 80126864 00123944  80 6D 95 88 */	lwz r3, sBucketCurr@sda21(r13)
/* 80126868 00123948  38 A0 00 00 */	li r5, 0x0
/* 8012686C 0012394C  80 0D 95 94 */	lwz r0, sBucketClipCullCurr@sda21(r13)
/* 80126870 00123950  2C 1D 00 02 */	cmpwi r29, 0x2
/* 80126874 00123954  1C 83 00 14 */	mulli r4, r3, 0x14
/* 80126878 00123958  80 CD 95 90 */	lwz r6, sBucketList@sda21(r13)
/* 8012687C 0012395C  80 6D 95 9C */	lwz r3, sBucketClipCullList@sda21(r13)
/* 80126880 00123960  54 00 10 3A */	slwi r0, r0, 2
/* 80126884 00123964  7C 86 22 14 */	add r4, r6, r4
/* 80126888 00123968  7C 83 01 2E */	stwx r4, r3, r0
/* 8012688C 0012396C  80 6D 95 88 */	lwz r3, sBucketCurr@sda21(r13)
/* 80126890 00123970  80 0D 95 94 */	lwz r0, sBucketClipCullCurr@sda21(r13)
/* 80126894 00123974  1C C3 00 14 */	mulli r6, r3, 0x14
/* 80126898 00123978  80 ED 95 90 */	lwz r7, sBucketList@sda21(r13)
/* 8012689C 0012397C  54 03 10 3A */	slwi r3, r0, 2
/* 801268A0 00123980  80 8D 95 9C */	lwz r4, sBucketClipCullList@sda21(r13)
/* 801268A4 00123984  7C C7 32 14 */	add r6, r7, r6
/* 801268A8 00123988  38 03 00 04 */	addi r0, r3, 0x4
/* 801268AC 0012398C  7C C4 01 2E */	stwx r6, r4, r0
/* 801268B0 00123990  80 0D 95 88 */	lwz r0, sBucketCurr@sda21(r13)
/* 801268B4 00123994  80 6D 95 90 */	lwz r3, sBucketList@sda21(r13)
/* 801268B8 00123998  1C 00 00 14 */	mulli r0, r0, 0x14
/* 801268BC 0012399C  7F 43 01 2E */	stwx r26, r3, r0
/* 801268C0 001239A0  80 0D 95 88 */	lwz r0, sBucketCurr@sda21(r13)
/* 801268C4 001239A4  80 8D 95 90 */	lwz r4, sBucketList@sda21(r13)
/* 801268C8 001239A8  1C 60 00 14 */	mulli r3, r0, 0x14
/* 801268CC 001239AC  38 03 00 04 */	addi r0, r3, 0x4
/* 801268D0 001239B0  7F 44 01 2E */	stwx r26, r4, r0
/* 801268D4 001239B4  80 0D 95 88 */	lwz r0, sBucketCurr@sda21(r13)
/* 801268D8 001239B8  80 8D 95 90 */	lwz r4, sBucketList@sda21(r13)
/* 801268DC 001239BC  1C 60 00 14 */	mulli r3, r0, 0x14
/* 801268E0 001239C0  38 03 00 08 */	addi r0, r3, 0x8
/* 801268E4 001239C4  7C A4 01 2E */	stwx r5, r4, r0
/* 801268E8 001239C8  80 0D 95 88 */	lwz r0, sBucketCurr@sda21(r13)
/* 801268EC 001239CC  80 8D 95 90 */	lwz r4, sBucketList@sda21(r13)
/* 801268F0 001239D0  1C 60 00 14 */	mulli r3, r0, 0x14
/* 801268F4 001239D4  38 03 00 0C */	addi r0, r3, 0xc
/* 801268F8 001239D8  7F E4 01 2E */	stwx r31, r4, r0
/* 801268FC 001239DC  80 0D 95 88 */	lwz r0, sBucketCurr@sda21(r13)
/* 80126900 001239E0  80 8D 95 90 */	lwz r4, sBucketList@sda21(r13)
/* 80126904 001239E4  1C 60 00 14 */	mulli r3, r0, 0x14
/* 80126908 001239E8  38 03 00 10 */	addi r0, r3, 0x10
/* 8012690C 001239EC  7F 64 01 2E */	stwx r27, r4, r0
/* 80126910 001239F0  40 82 00 A8 */	bne .L_801269B8
/* 80126914 001239F4  7F 43 D3 78 */	mr r3, r26
/* 80126918 001239F8  38 A1 00 08 */	addi r5, r1, 0x8
/* 8012691C 001239FC  38 80 00 01 */	li r4, 0x1
/* 80126920 00123A00  4B FF FC C1 */	bl FullAtomicDupe__FP8RpAtomiciPP8RpAtomic
/* 80126924 00123A04  80 0D 95 88 */	lwz r0, sBucketCurr@sda21(r13)
/* 80126928 00123A08  38 C0 00 00 */	li r6, 0x0
/* 8012692C 00123A0C  80 A1 00 08 */	lwz r5, 0x8(r1)
/* 80126930 00123A10  1C 60 00 14 */	mulli r3, r0, 0x14
/* 80126934 00123A14  80 8D 95 90 */	lwz r4, sBucketList@sda21(r13)
/* 80126938 00123A18  38 03 00 14 */	addi r0, r3, 0x14
/* 8012693C 00123A1C  7C A4 01 2E */	stwx r5, r4, r0
/* 80126940 00123A20  80 0D 95 88 */	lwz r0, sBucketCurr@sda21(r13)
/* 80126944 00123A24  80 8D 95 90 */	lwz r4, sBucketList@sda21(r13)
/* 80126948 00123A28  1C 60 00 14 */	mulli r3, r0, 0x14
/* 8012694C 00123A2C  38 03 00 18 */	addi r0, r3, 0x18
/* 80126950 00123A30  7F 44 01 2E */	stwx r26, r4, r0
/* 80126954 00123A34  80 0D 95 88 */	lwz r0, sBucketCurr@sda21(r13)
/* 80126958 00123A38  80 8D 95 90 */	lwz r4, sBucketList@sda21(r13)
/* 8012695C 00123A3C  1C 60 00 14 */	mulli r3, r0, 0x14
/* 80126960 00123A40  38 03 00 1C */	addi r0, r3, 0x1c
/* 80126964 00123A44  7C C4 01 2E */	stwx r6, r4, r0
/* 80126968 00123A48  80 0D 95 88 */	lwz r0, sBucketCurr@sda21(r13)
/* 8012696C 00123A4C  80 8D 95 90 */	lwz r4, sBucketList@sda21(r13)
/* 80126970 00123A50  1C 60 00 14 */	mulli r3, r0, 0x14
/* 80126974 00123A54  38 03 00 20 */	addi r0, r3, 0x20
/* 80126978 00123A58  7F C4 01 2E */	stwx r30, r4, r0
/* 8012697C 00123A5C  80 0D 95 88 */	lwz r0, sBucketCurr@sda21(r13)
/* 80126980 00123A60  80 8D 95 90 */	lwz r4, sBucketList@sda21(r13)
/* 80126984 00123A64  1C 60 00 14 */	mulli r3, r0, 0x14
/* 80126988 00123A68  38 03 00 24 */	addi r0, r3, 0x24
/* 8012698C 00123A6C  7F 64 01 2E */	stwx r27, r4, r0
/* 80126990 00123A70  80 6D 95 88 */	lwz r3, sBucketCurr@sda21(r13)
/* 80126994 00123A74  80 0D 95 94 */	lwz r0, sBucketClipCullCurr@sda21(r13)
/* 80126998 00123A78  38 63 00 01 */	addi r3, r3, 0x1
/* 8012699C 00123A7C  80 AD 95 90 */	lwz r5, sBucketList@sda21(r13)
/* 801269A0 00123A80  1C 83 00 14 */	mulli r4, r3, 0x14
/* 801269A4 00123A84  80 6D 95 9C */	lwz r3, sBucketClipCullList@sda21(r13)
/* 801269A8 00123A88  54 00 10 3A */	slwi r0, r0, 2
/* 801269AC 00123A8C  7C 85 22 14 */	add r4, r5, r4
/* 801269B0 00123A90  7C 83 01 2E */	stwx r4, r3, r0
/* 801269B4 00123A94  90 C1 00 08 */	stw r6, 0x8(r1)
.L_801269B8:
/* 801269B8 00123A98  80 0D 95 88 */	lwz r0, sBucketCurr@sda21(r13)
/* 801269BC 00123A9C  7C 00 EA 14 */	add r0, r0, r29
/* 801269C0 00123AA0  90 0D 95 88 */	stw r0, sBucketCurr@sda21(r13)
/* 801269C4 00123AA4  80 6D 95 94 */	lwz r3, sBucketClipCullCurr@sda21(r13)
/* 801269C8 00123AA8  38 03 00 02 */	addi r0, r3, 0x2
/* 801269CC 00123AAC  90 0D 95 94 */	stw r0, sBucketClipCullCurr@sda21(r13)
.L_801269D0:
/* 801269D0 00123AB0  7F 43 D3 78 */	mr r3, r26
/* 801269D4 00123AB4  57 9C F8 7E */	srwi r28, r28, 1
/* 801269D8 00123AB8  4B FA 14 F1 */	bl iModelFile_RWMultiAtomic__FP8RpAtomic
/* 801269DC 00123ABC  7C 7A 1B 79 */	mr. r26, r3
/* 801269E0 00123AC0  40 82 FE 7C */	bne .L_8012685C
/* 801269E4 00123AC4  BB 41 00 18 */	lmw r26, 0x18(r1)
/* 801269E8 00123AC8  80 01 00 34 */	lwz r0, 0x34(r1)
/* 801269EC 00123ACC  7C 08 03 A6 */	mtlr r0
/* 801269F0 00123AD0  38 21 00 30 */	addi r1, r1, 0x30
/* 801269F4 00123AD4  4E 80 00 20 */	blr
.endfn xModelBucket_InsertBucket__FP8RpAtomicUiUi

# xModelBucket_Init()
.fn xModelBucket_Init__Fv, global
/* 801269F8 00123AD8  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 801269FC 00123ADC  7C 08 02 A6 */	mflr r0
/* 80126A00 00123AE0  90 01 00 14 */	stw r0, 0x14(r1)
/* 80126A04 00123AE4  80 8D 95 84 */	lwz r4, sBucketDummyCamera@sda21(r13)
/* 80126A08 00123AE8  28 04 00 00 */	cmplwi r4, 0x0
/* 80126A0C 00123AEC  41 82 00 28 */	beq .L_80126A34
/* 80126A10 00123AF0  80 6D 95 80 */	lwz r3, sBucketDummyWorld@sda21(r13)
/* 80126A14 00123AF4  48 0F 85 35 */	bl RpWorldRemoveCamera
/* 80126A18 00123AF8  80 6D 95 84 */	lwz r3, sBucketDummyCamera@sda21(r13)
/* 80126A1C 00123AFC  4B F9 97 F5 */	bl iCameraDestroy__FP8RwCamera
/* 80126A20 00123B00  80 6D 95 80 */	lwz r3, sBucketDummyWorld@sda21(r13)
/* 80126A24 00123B04  48 0F 64 FD */	bl RpWorldDestroy
/* 80126A28 00123B08  38 00 00 00 */	li r0, 0x0
/* 80126A2C 00123B0C  90 0D 95 84 */	stw r0, sBucketDummyCamera@sda21(r13)
/* 80126A30 00123B10  90 0D 95 80 */	stw r0, sBucketDummyWorld@sda21(r13)
.L_80126A34:
/* 80126A34 00123B14  80 01 00 14 */	lwz r0, 0x14(r1)
/* 80126A38 00123B18  7C 08 03 A6 */	mtlr r0
/* 80126A3C 00123B1C  38 21 00 10 */	addi r1, r1, 0x10
/* 80126A40 00123B20  4E 80 00 20 */	blr
.endfn xModelBucket_Init__Fv

# xModelBucket_GetBuckets(RpAtomic*)
.fn xModelBucket_GetBuckets__FP8RpAtomic, global
/* 80126A44 00123B24  80 8D 95 98 */	lwz r4, sBucketClipCullCount@sda21(r13)
/* 80126A48 00123B28  38 E0 00 00 */	li r7, 0x0
/* 80126A4C 00123B2C  80 CD 95 9C */	lwz r6, sBucketClipCullList@sda21(r13)
/* 80126A50 00123B30  38 04 00 01 */	addi r0, r4, 0x1
/* 80126A54 00123B34  54 00 F8 7E */	srwi r0, r0, 1
/* 80126A58 00123B38  7C C5 33 78 */	mr r5, r6
/* 80126A5C 00123B3C  7C 09 03 A6 */	mtctr r0
/* 80126A60 00123B40  2C 04 00 00 */	cmpwi r4, 0x0
/* 80126A64 00123B44  40 81 00 2C */	ble .L_80126A90
.L_80126A68:
/* 80126A68 00123B48  80 85 00 00 */	lwz r4, 0x0(r5)
/* 80126A6C 00123B4C  80 04 00 04 */	lwz r0, 0x4(r4)
/* 80126A70 00123B50  7C 00 18 40 */	cmplw r0, r3
/* 80126A74 00123B54  40 82 00 10 */	bne .L_80126A84
/* 80126A78 00123B58  54 E0 10 3A */	slwi r0, r7, 2
/* 80126A7C 00123B5C  7C 66 02 14 */	add r3, r6, r0
/* 80126A80 00123B60  4E 80 00 20 */	blr
.L_80126A84:
/* 80126A84 00123B64  38 A5 00 08 */	addi r5, r5, 0x8
/* 80126A88 00123B68  38 E7 00 02 */	addi r7, r7, 0x2
/* 80126A8C 00123B6C  42 00 FF DC */	bdnz .L_80126A68
.L_80126A90:
/* 80126A90 00123B70  38 60 00 00 */	li r3, 0x0
/* 80126A94 00123B74  4E 80 00 20 */	blr
.endfn xModelBucket_GetBuckets__FP8RpAtomic

# xModelBucket_Begin()
.fn xModelBucket_Begin__Fv, global
/* 80126A98 00123B78  38 A0 00 00 */	li r5, 0x0
/* 80126A9C 00123B7C  38 C0 00 00 */	li r6, 0x0
/* 80126AA0 00123B80  7C A4 2B 78 */	mr r4, r5
/* 80126AA4 00123B84  48 00 00 18 */	b .L_80126ABC
.L_80126AA8:
/* 80126AA8 00123B88  80 6D 95 90 */	lwz r3, sBucketList@sda21(r13)
/* 80126AAC 00123B8C  38 05 00 08 */	addi r0, r5, 0x8
/* 80126AB0 00123B90  38 A5 00 14 */	addi r5, r5, 0x14
/* 80126AB4 00123B94  38 C6 00 01 */	addi r6, r6, 0x1
/* 80126AB8 00123B98  7C 83 01 2E */	stwx r4, r3, r0
.L_80126ABC:
/* 80126ABC 00123B9C  80 0D 95 8C */	lwz r0, sBucketCount@sda21(r13)
/* 80126AC0 00123BA0  7C 06 00 00 */	cmpw r6, r0
/* 80126AC4 00123BA4  41 80 FF E4 */	blt .L_80126AA8
/* 80126AC8 00123BA8  38 00 00 01 */	li r0, 0x1
/* 80126ACC 00123BAC  90 0D 8A 00 */	stw r0, xModelBucketEnabled@sda21(r13)
/* 80126AD0 00123BB0  4E 80 00 20 */	blr
.endfn xModelBucket_Begin__Fv

# xModelBucket_Add(xModelInstance*)
.fn xModelBucket_Add__FP14xModelInstance, global
/* 80126AD4 00123BB4  94 21 FF C0 */	stwu r1, -0x40(r1)
/* 80126AD8 00123BB8  7C 08 02 A6 */	mflr r0
/* 80126ADC 00123BBC  90 01 00 44 */	stw r0, 0x44(r1)
/* 80126AE0 00123BC0  DB E1 00 30 */	stfd f31, 0x30(r1)
/* 80126AE4 00123BC4  F3 E1 00 38 */	psq_st f31, 0x38(r1), 0, qr0
/* 80126AE8 00123BC8  DB C1 00 20 */	stfd f30, 0x20(r1)
/* 80126AEC 00123BCC  F3 C1 00 28 */	psq_st f30, 0x28(r1), 0, qr0
/* 80126AF0 00123BD0  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 80126AF4 00123BD4  93 C1 00 18 */	stw r30, 0x18(r1)
/* 80126AF8 00123BD8  93 A1 00 14 */	stw r29, 0x14(r1)
/* 80126AFC 00123BDC  7C 7E 1B 78 */	mr r30, r3
/* 80126B00 00123BE0  A0 03 00 44 */	lhz r0, 0x44(r3)
/* 80126B04 00123BE4  70 00 04 01 */	andi. r0, r0, 0x401
/* 80126B08 00123BE8  2C 00 00 01 */	cmpwi r0, 0x1
/* 80126B0C 00123BEC  40 82 02 08 */	bne .L_80126D14
/* 80126B10 00123BF0  83 FE 00 10 */	lwz r31, 0x10(r30)
/* 80126B14 00123BF4  80 9E 00 4C */	lwz r4, 0x4c(r30)
/* 80126B18 00123BF8  7F E3 FB 78 */	mr r3, r31
/* 80126B1C 00123BFC  4B FA 16 C1 */	bl iModelCull__FP8RpAtomicP11RwMatrixTag
/* 80126B20 00123C00  2C 03 00 00 */	cmpwi r3, 0x0
/* 80126B24 00123C04  40 82 01 F0 */	bne .L_80126D14
/* 80126B28 00123C08  80 6D 82 B0 */	lwz r3, xglobals@sda21(r13)
/* 80126B2C 00123C0C  C0 1E 00 2C */	lfs f0, 0x2c(r30)
/* 80126B30 00123C10  C0 9F 00 2C */	lfs f4, 0x2c(r31)
/* 80126B34 00123C14  C0 63 00 44 */	lfs f3, 0x44(r3)
/* 80126B38 00123C18  EC 00 00 32 */	fmuls f0, f0, f0
/* 80126B3C 00123C1C  C0 5F 00 30 */	lfs f2, 0x30(r31)
/* 80126B40 00123C20  C0 23 00 48 */	lfs f1, 0x48(r3)
/* 80126B44 00123C24  EC A4 18 28 */	fsubs f5, f4, f3
/* 80126B48 00123C28  C0 7F 00 34 */	lfs f3, 0x34(r31)
/* 80126B4C 00123C2C  EC 82 08 28 */	fsubs f4, f2, f1
/* 80126B50 00123C30  C0 23 00 4C */	lfs f1, 0x4c(r3)
/* 80126B54 00123C34  EC 45 01 72 */	fmuls f2, f5, f5
/* 80126B58 00123C38  EC 63 08 28 */	fsubs f3, f3, f1
/* 80126B5C 00123C3C  EC 24 01 32 */	fmuls f1, f4, f4
/* 80126B60 00123C40  EC 63 00 F2 */	fmuls f3, f3, f3
/* 80126B64 00123C44  EC 22 08 2A */	fadds f1, f2, f1
/* 80126B68 00123C48  EC 23 08 2A */	fadds f1, f3, f1
/* 80126B6C 00123C4C  FC 01 00 40 */	fcmpo cr0, f1, f0
/* 80126B70 00123C50  4C 41 13 82 */	cror eq, gt, eq
/* 80126B74 00123C54  41 82 01 A0 */	beq .L_80126D14
/* 80126B78 00123C58  80 1E 00 14 */	lwz r0, 0x14(r30)
/* 80126B7C 00123C5C  54 00 06 32 */	rlwinm r0, r0, 0, 24, 25
/* 80126B80 00123C60  28 00 00 40 */	cmplwi r0, 0x40
/* 80126B84 00123C64  41 82 00 0C */	beq .L_80126B90
/* 80126B88 00123C68  80 0D 95 4C */	lwz r0, gLastLightKit@sda21(r13)
/* 80126B8C 00123C6C  90 1E 00 3C */	stw r0, 0x3c(r30)
.L_80126B90:
/* 80126B90 00123C70  C0 5F 00 30 */	lfs f2, 0x30(r31)
/* 80126B94 00123C74  C0 03 00 48 */	lfs f0, 0x48(r3)
/* 80126B98 00123C78  C0 9F 00 2C */	lfs f4, 0x2c(r31)
/* 80126B9C 00123C7C  C0 63 00 44 */	lfs f3, 0x44(r3)
/* 80126BA0 00123C80  EC 02 00 28 */	fsubs f0, f2, f0
/* 80126BA4 00123C84  C0 43 00 38 */	lfs f2, 0x38(r3)
/* 80126BA8 00123C88  EC 64 18 28 */	fsubs f3, f4, f3
/* 80126BAC 00123C8C  C0 BF 00 34 */	lfs f5, 0x34(r31)
/* 80126BB0 00123C90  C0 83 00 4C */	lfs f4, 0x4c(r3)
/* 80126BB4 00123C94  EC 02 00 32 */	fmuls f0, f2, f0
/* 80126BB8 00123C98  C0 43 00 34 */	lfs f2, 0x34(r3)
/* 80126BBC 00123C9C  EC 85 20 28 */	fsubs f4, f5, f4
/* 80126BC0 00123CA0  EC 62 00 FA */	fmadds f3, f2, f3, f0
/* 80126BC4 00123CA4  C0 A3 00 3C */	lfs f5, 0x3c(r3)
/* 80126BC8 00123CA8  C0 42 A1 48 */	lfs f2, "@806"@sda21(r2)
/* 80126BCC 00123CAC  C0 1F 00 38 */	lfs f0, 0x38(r31)
/* 80126BD0 00123CB0  EF C5 19 3A */	fmadds f30, f5, f4, f3
/* 80126BD4 00123CB4  EC 02 00 32 */	fmuls f0, f2, f0
/* 80126BD8 00123CB8  FC 1E 00 40 */	fcmpo cr0, f30, f0
/* 80126BDC 00123CBC  40 80 00 10 */	bge .L_80126BEC
/* 80126BE0 00123CC0  80 7E 00 34 */	lwz r3, 0x34(r30)
/* 80126BE4 00123CC4  83 A3 00 04 */	lwz r29, 0x4(r3)
/* 80126BE8 00123CC8  48 00 00 0C */	b .L_80126BF4
.L_80126BEC:
/* 80126BEC 00123CCC  80 7E 00 34 */	lwz r3, 0x34(r30)
/* 80126BF0 00123CD0  83 A3 00 00 */	lwz r29, 0x0(r3)
.L_80126BF4:
/* 80126BF4 00123CD4  C0 1E 00 28 */	lfs f0, 0x28(r30)
/* 80126BF8 00123CD8  C0 42 A1 4C */	lfs f2, "@807"@sda21(r2)
/* 80126BFC 00123CDC  EC 00 00 32 */	fmuls f0, f0, f0
/* 80126C00 00123CE0  FC 01 00 40 */	fcmpo cr0, f1, f0
/* 80126C04 00123CE4  40 81 00 3C */	ble .L_80126C40
/* 80126C08 00123CE8  C3 FE 00 2C */	lfs f31, 0x2c(r30)
/* 80126C0C 00123CEC  4B EE 3B F1 */	bl xsqrt__Ff
/* 80126C10 00123CF0  C0 5E 00 28 */	lfs f2, 0x28(r30)
/* 80126C14 00123CF4  EC 7F 08 28 */	fsubs f3, f31, f1
/* 80126C18 00123CF8  C0 02 A1 50 */	lfs f0, "@808"@sda21(r2)
/* 80126C1C 00123CFC  EC 3F 10 28 */	fsubs f1, f31, f2
/* 80126C20 00123D00  EC 23 08 24 */	fdivs f1, f3, f1
/* 80126C24 00123D04  FC 01 00 40 */	fcmpo cr0, f1, f0
/* 80126C28 00123D08  4C 40 13 82 */	cror eq, lt, eq
/* 80126C2C 00123D0C  41 82 00 E8 */	beq .L_80126D14
/* 80126C30 00123D10  C0 42 A1 4C */	lfs f2, "@807"@sda21(r2)
/* 80126C34 00123D14  FC 01 10 40 */	fcmpo cr0, f1, f2
/* 80126C38 00123D18  40 80 00 08 */	bge .L_80126C40
/* 80126C3C 00123D1C  FC 40 08 90 */	fmr f2, f1
.L_80126C40:
/* 80126C40 00123D20  80 1E 00 14 */	lwz r0, 0x14(r30)
/* 80126C44 00123D24  54 00 04 2F */	rlwinm. r0, r0, 0, 16, 23
/* 80126C48 00123D28  40 82 00 1C */	bne .L_80126C64
/* 80126C4C 00123D2C  C0 22 A1 4C */	lfs f1, "@807"@sda21(r2)
/* 80126C50 00123D30  FC 01 10 00 */	fcmpu cr0, f1, f2
/* 80126C54 00123D34  40 82 00 10 */	bne .L_80126C64
/* 80126C58 00123D38  C0 1E 00 24 */	lfs f0, 0x24(r30)
/* 80126C5C 00123D3C  FC 01 00 00 */	fcmpu cr0, f1, f0
/* 80126C60 00123D40  41 82 00 A8 */	beq .L_80126D08
.L_80126C64:
/* 80126C64 00123D44  80 6D 95 A0 */	lwz r3, sAlphaCurr@sda21(r13)
/* 80126C68 00123D48  80 0D 95 A8 */	lwz r0, sAlphaCount@sda21(r13)
/* 80126C6C 00123D4C  7C 03 00 00 */	cmpw r3, r0
/* 80126C70 00123D50  40 80 00 A4 */	bge .L_80126D14
/* 80126C74 00123D54  1C 03 00 14 */	mulli r0, r3, 0x14
/* 80126C78 00123D58  80 9D 00 00 */	lwz r4, 0x0(r29)
/* 80126C7C 00123D5C  80 6D 95 AC */	lwz r3, sAlphaList@sda21(r13)
/* 80126C80 00123D60  7C 83 01 2E */	stwx r4, r3, r0
/* 80126C84 00123D64  80 0D 95 A0 */	lwz r0, sAlphaCurr@sda21(r13)
/* 80126C88 00123D68  80 6D 95 AC */	lwz r3, sAlphaList@sda21(r13)
/* 80126C8C 00123D6C  1C 00 00 14 */	mulli r0, r0, 0x14
/* 80126C90 00123D70  7C 63 02 14 */	add r3, r3, r0
/* 80126C94 00123D74  93 C3 00 04 */	stw r30, 0x4(r3)
/* 80126C98 00123D78  80 0D 95 A0 */	lwz r0, sAlphaCurr@sda21(r13)
/* 80126C9C 00123D7C  80 6D 95 AC */	lwz r3, sAlphaList@sda21(r13)
/* 80126CA0 00123D80  1C 00 00 14 */	mulli r0, r0, 0x14
/* 80126CA4 00123D84  7C 63 02 14 */	add r3, r3, r0
/* 80126CA8 00123D88  D0 43 00 08 */	stfs f2, 0x8(r3)
/* 80126CAC 00123D8C  C0 3F 00 38 */	lfs f1, 0x38(r31)
/* 80126CB0 00123D90  C0 02 A1 54 */	lfs f0, "@809"@sda21(r2)
/* 80126CB4 00123D94  FC 01 00 40 */	fcmpo cr0, f1, f0
/* 80126CB8 00123D98  40 81 00 0C */	ble .L_80126CC4
/* 80126CBC 00123D9C  EC 1E 08 2A */	fadds f0, f30, f1
/* 80126CC0 00123DA0  48 00 00 08 */	b .L_80126CC8
.L_80126CC4:
/* 80126CC4 00123DA4  FC 00 F0 90 */	fmr f0, f30
.L_80126CC8:
/* 80126CC8 00123DA8  80 0D 95 A0 */	lwz r0, sAlphaCurr@sda21(r13)
/* 80126CCC 00123DAC  80 6D 95 AC */	lwz r3, sAlphaList@sda21(r13)
/* 80126CD0 00123DB0  1C 00 00 14 */	mulli r0, r0, 0x14
/* 80126CD4 00123DB4  7C 63 02 14 */	add r3, r3, r0
/* 80126CD8 00123DB8  D0 03 00 0C */	stfs f0, 0xc(r3)
/* 80126CDC 00123DBC  80 0D 95 A0 */	lwz r0, sAlphaCurr@sda21(r13)
/* 80126CE0 00123DC0  80 9E 00 14 */	lwz r4, 0x14(r30)
/* 80126CE4 00123DC4  1C 00 00 14 */	mulli r0, r0, 0x14
/* 80126CE8 00123DC8  80 6D 95 AC */	lwz r3, sAlphaList@sda21(r13)
/* 80126CEC 00123DCC  54 84 6E FE */	extrwi r4, r4, 5, 8
/* 80126CF0 00123DD0  7C 63 02 14 */	add r3, r3, r0
/* 80126CF4 00123DD4  90 83 00 10 */	stw r4, 0x10(r3)
/* 80126CF8 00123DD8  80 6D 95 A0 */	lwz r3, sAlphaCurr@sda21(r13)
/* 80126CFC 00123DDC  38 03 00 01 */	addi r0, r3, 0x1
/* 80126D00 00123DE0  90 0D 95 A0 */	stw r0, sAlphaCurr@sda21(r13)
/* 80126D04 00123DE4  48 00 00 10 */	b .L_80126D14
.L_80126D08:
/* 80126D08 00123DE8  80 1D 00 08 */	lwz r0, 0x8(r29)
/* 80126D0C 00123DEC  90 1E 00 38 */	stw r0, 0x38(r30)
/* 80126D10 00123DF0  93 DD 00 08 */	stw r30, 0x8(r29)
.L_80126D14:
/* 80126D14 00123DF4  E3 E1 00 38 */	psq_l f31, 0x38(r1), 0, qr0
/* 80126D18 00123DF8  CB E1 00 30 */	lfd f31, 0x30(r1)
/* 80126D1C 00123DFC  E3 C1 00 28 */	psq_l f30, 0x28(r1), 0, qr0
/* 80126D20 00123E00  CB C1 00 20 */	lfd f30, 0x20(r1)
/* 80126D24 00123E04  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 80126D28 00123E08  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 80126D2C 00123E0C  80 01 00 44 */	lwz r0, 0x44(r1)
/* 80126D30 00123E10  83 A1 00 14 */	lwz r29, 0x14(r1)
/* 80126D34 00123E14  7C 08 03 A6 */	mtlr r0
/* 80126D38 00123E18  38 21 00 40 */	addi r1, r1, 0x40
/* 80126D3C 00123E1C  4E 80 00 20 */	blr
.endfn xModelBucket_Add__FP14xModelInstance

# xModelBucket_RenderOpaque()
.fn xModelBucket_RenderOpaque__Fv, global
/* 80126D40 00123E20  94 21 FF D0 */	stwu r1, -0x30(r1)
/* 80126D44 00123E24  7C 08 02 A6 */	mflr r0
/* 80126D48 00123E28  90 01 00 34 */	stw r0, 0x34(r1)
/* 80126D4C 00123E2C  BF 01 00 10 */	stmw r24, 0x10(r1)
/* 80126D50 00123E30  3B E0 00 00 */	li r31, 0x0
/* 80126D54 00123E34  3B C0 00 00 */	li r30, 0x0
/* 80126D58 00123E38  93 ED 8A 00 */	stw r31, xModelBucketEnabled@sda21(r13)
/* 80126D5C 00123E3C  48 00 01 28 */	b .L_80126E84
.L_80126D60:
/* 80126D60 00123E40  80 0D 95 90 */	lwz r0, sBucketList@sda21(r13)
/* 80126D64 00123E44  7F A0 FA 14 */	add r29, r0, r31
/* 80126D68 00123E48  83 9D 00 00 */	lwz r28, 0x0(r29)
/* 80126D6C 00123E4C  83 7D 00 08 */	lwz r27, 0x8(r29)
/* 80126D70 00123E50  48 00 00 FC */	b .L_80126E6C
.L_80126D74:
/* 80126D74 00123E54  80 8D 82 B0 */	lwz r4, xglobals@sda21(r13)
/* 80126D78 00123E58  80 7B 00 3C */	lwz r3, 0x3c(r27)
/* 80126D7C 00123E5C  80 84 06 58 */	lwz r4, 0x658(r4)
/* 80126D80 00123E60  4B FF C7 41 */	bl xLightKit_Enable__FP9xLightKitP7RpWorld
/* 80126D84 00123E64  80 1B 00 14 */	lwz r0, 0x14(r27)
/* 80126D88 00123E68  83 4D 95 48 */	lwz r26, iModelHack_DisablePrelight@sda21(r13)
/* 80126D8C 00123E6C  54 00 06 32 */	rlwinm r0, r0, 0, 24, 25
/* 80126D90 00123E70  28 00 00 80 */	cmplwi r0, 0x80
/* 80126D94 00123E74  40 82 00 0C */	bne .L_80126DA0
/* 80126D98 00123E78  38 00 00 00 */	li r0, 0x0
/* 80126D9C 00123E7C  90 0D 95 48 */	stw r0, iModelHack_DisablePrelight@sda21(r13)
.L_80126DA0:
/* 80126DA0 00123E80  80 7B 00 30 */	lwz r3, 0x30(r27)
/* 80126DA4 00123E84  28 03 00 00 */	cmplwi r3, 0x0
/* 80126DA8 00123E88  41 82 00 0C */	beq .L_80126DB4
/* 80126DAC 00123E8C  7F 84 E3 78 */	mr r4, r28
/* 80126DB0 00123E90  4B EF 25 0D */	bl xEntSetupPipeline__FP8xSurfaceP8RpAtomic
.L_80126DB4:
/* 80126DB4 00123E94  83 3B 00 10 */	lwz r25, 0x10(r27)
/* 80126DB8 00123E98  93 9B 00 10 */	stw r28, 0x10(r27)
/* 80126DBC 00123E9C  80 1B 00 14 */	lwz r0, 0x14(r27)
/* 80126DC0 00123EA0  54 00 06 B6 */	rlwinm r0, r0, 0, 26, 27
/* 80126DC4 00123EA4  28 00 00 20 */	cmplwi r0, 0x20
/* 80126DC8 00123EA8  40 82 00 10 */	bne .L_80126DD8
/* 80126DCC 00123EAC  38 60 00 14 */	li r3, 0x14
/* 80126DD0 00123EB0  38 80 00 02 */	li r4, 0x2
/* 80126DD4 00123EB4  48 10 8A 09 */	bl RwRenderStateSet
.L_80126DD8:
/* 80126DD8 00123EB8  80 1B 00 14 */	lwz r0, 0x14(r27)
/* 80126DDC 00123EBC  3B 00 00 00 */	li r24, 0x0
/* 80126DE0 00123EC0  54 00 03 DF */	rlwinm. r0, r0, 0, 15, 15
/* 80126DE4 00123EC4  41 82 00 24 */	beq .L_80126E08
/* 80126DE8 00123EC8  80 8D 82 B0 */	lwz r4, xglobals@sda21(r13)
/* 80126DEC 00123ECC  80 64 06 5C */	lwz r3, 0x65c(r4)
/* 80126DF0 00123ED0  2C 03 00 00 */	cmpwi r3, 0x0
/* 80126DF4 00123ED4  41 82 00 14 */	beq .L_80126E08
/* 80126DF8 00123ED8  38 00 00 00 */	li r0, 0x0
/* 80126DFC 00123EDC  7C 78 1B 78 */	mr r24, r3
/* 80126E00 00123EE0  90 04 06 5C */	stw r0, 0x65c(r4)
/* 80126E04 00123EE4  4B F9 9E 51 */	bl iCameraSetFogRenderStates__Fv
.L_80126E08:
/* 80126E08 00123EE8  7F 63 DB 78 */	mr r3, r27
/* 80126E0C 00123EEC  4B F0 D8 E5 */	bl xModelRenderSingle__FP14xModelInstance
/* 80126E10 00123EF0  80 1B 00 14 */	lwz r0, 0x14(r27)
/* 80126E14 00123EF4  54 00 03 DF */	rlwinm. r0, r0, 0, 15, 15
/* 80126E18 00123EF8  41 82 00 18 */	beq .L_80126E30
/* 80126E1C 00123EFC  2C 18 00 00 */	cmpwi r24, 0x0
/* 80126E20 00123F00  41 82 00 10 */	beq .L_80126E30
/* 80126E24 00123F04  80 6D 82 B0 */	lwz r3, xglobals@sda21(r13)
/* 80126E28 00123F08  93 03 06 5C */	stw r24, 0x65c(r3)
/* 80126E2C 00123F0C  4B F9 9E 29 */	bl iCameraSetFogRenderStates__Fv
.L_80126E30:
/* 80126E30 00123F10  80 1B 00 14 */	lwz r0, 0x14(r27)
/* 80126E34 00123F14  54 00 06 B6 */	rlwinm r0, r0, 0, 26, 27
/* 80126E38 00123F18  28 00 00 20 */	cmplwi r0, 0x20
/* 80126E3C 00123F1C  40 82 00 10 */	bne .L_80126E4C
/* 80126E40 00123F20  38 60 00 14 */	li r3, 0x14
/* 80126E44 00123F24  38 80 00 01 */	li r4, 0x1
/* 80126E48 00123F28  48 10 89 95 */	bl RwRenderStateSet
.L_80126E4C:
/* 80126E4C 00123F2C  80 7B 00 30 */	lwz r3, 0x30(r27)
/* 80126E50 00123F30  28 03 00 00 */	cmplwi r3, 0x0
/* 80126E54 00123F34  41 82 00 0C */	beq .L_80126E60
/* 80126E58 00123F38  7F 84 E3 78 */	mr r4, r28
/* 80126E5C 00123F3C  4B EF 26 11 */	bl xEntRestorePipeline__FP8xSurfaceP8RpAtomic
.L_80126E60:
/* 80126E60 00123F40  93 4D 95 48 */	stw r26, iModelHack_DisablePrelight@sda21(r13)
/* 80126E64 00123F44  93 3B 00 10 */	stw r25, 0x10(r27)
/* 80126E68 00123F48  83 7B 00 38 */	lwz r27, 0x38(r27)
.L_80126E6C:
/* 80126E6C 00123F4C  28 1B 00 00 */	cmplwi r27, 0x0
/* 80126E70 00123F50  40 82 FF 04 */	bne .L_80126D74
/* 80126E74 00123F54  38 00 00 00 */	li r0, 0x0
/* 80126E78 00123F58  3B DE 00 01 */	addi r30, r30, 0x1
/* 80126E7C 00123F5C  90 1D 00 08 */	stw r0, 0x8(r29)
/* 80126E80 00123F60  3B FF 00 14 */	addi r31, r31, 0x14
.L_80126E84:
/* 80126E84 00123F64  80 0D 95 8C */	lwz r0, sBucketCount@sda21(r13)
/* 80126E88 00123F68  7C 1E 00 00 */	cmpw r30, r0
/* 80126E8C 00123F6C  41 80 FE D4 */	blt .L_80126D60
/* 80126E90 00123F70  BB 01 00 10 */	lmw r24, 0x10(r1)
/* 80126E94 00123F74  80 01 00 34 */	lwz r0, 0x34(r1)
/* 80126E98 00123F78  7C 08 03 A6 */	mtlr r0
/* 80126E9C 00123F7C  38 21 00 30 */	addi r1, r1, 0x30
/* 80126EA0 00123F80  4E 80 00 20 */	blr
.endfn xModelBucket_RenderOpaque__Fv

# xModelBucket_RenderAlphaBegin()
.fn xModelBucket_RenderAlphaBegin__Fv, global
/* 80126EA4 00123F84  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 80126EA8 00123F88  7C 08 02 A6 */	mflr r0
/* 80126EAC 00123F8C  90 01 00 14 */	stw r0, 0x14(r1)
/* 80126EB0 00123F90  38 00 00 00 */	li r0, 0x0
/* 80126EB4 00123F94  90 0D 8A 00 */	stw r0, xModelBucketEnabled@sda21(r13)
/* 80126EB8 00123F98  90 0D 95 A4 */	stw r0, sAlphaStart@sda21(r13)
/* 80126EBC 00123F9C  80 8D 95 A0 */	lwz r4, sAlphaCurr@sda21(r13)
/* 80126EC0 00123FA0  2C 04 00 00 */	cmpwi r4, 0x0
/* 80126EC4 00123FA4  41 82 00 18 */	beq .L_80126EDC
/* 80126EC8 00123FA8  3C A0 80 12 */	lis r5, CmpAlphaBucket__FPCvPCv@ha
/* 80126ECC 00123FAC  80 6D 95 AC */	lwz r3, sAlphaList@sda21(r13)
/* 80126ED0 00123FB0  38 C5 63 C0 */	addi r6, r5, CmpAlphaBucket__FPCvPCv@l
/* 80126ED4 00123FB4  38 A0 00 14 */	li r5, 0x14
/* 80126ED8 00123FB8  48 0B F1 9D */	bl qsort
.L_80126EDC:
/* 80126EDC 00123FBC  80 01 00 14 */	lwz r0, 0x14(r1)
/* 80126EE0 00123FC0  7C 08 03 A6 */	mtlr r0
/* 80126EE4 00123FC4  38 21 00 10 */	addi r1, r1, 0x10
/* 80126EE8 00123FC8  4E 80 00 20 */	blr
.endfn xModelBucket_RenderAlphaBegin__Fv

# xModelBucket_RenderAlphaLayer(int)
.fn xModelBucket_RenderAlphaLayer__Fi, global
/* 80126EEC 00123FCC  94 21 FF C0 */	stwu r1, -0x40(r1)
/* 80126EF0 00123FD0  7C 08 02 A6 */	mflr r0
/* 80126EF4 00123FD4  90 01 00 44 */	stw r0, 0x44(r1)
/* 80126EF8 00123FD8  DB E1 00 30 */	stfd f31, 0x30(r1)
/* 80126EFC 00123FDC  F3 E1 00 38 */	psq_st f31, 0x38(r1), 0, qr0
/* 80126F00 00123FE0  BE E1 00 0C */	stmw r23, 0xc(r1)
/* 80126F04 00123FE4  80 8D 82 B0 */	lwz r4, xglobals@sda21(r13)
/* 80126F08 00123FE8  3C A0 FF 02 */	lis r5, 0xff02
/* 80126F0C 00123FEC  7C 77 1B 78 */	mr r23, r3
/* 80126F10 00123FF0  3B A0 65 00 */	li r29, 0x6500
/* 80126F14 00123FF4  83 84 06 5C */	lwz r28, 0x65c(r4)
/* 80126F18 00123FF8  3B E5 FF 3C */	addi r31, r5, -0xc4
/* 80126F1C 00123FFC  2C 1C 00 00 */	cmpwi r28, 0x0
/* 80126F20 00124000  40 82 02 6C */	bne .L_8012718C
/* 80126F24 00124004  57 FF 04 1C */	rlwinm r31, r31, 0, 16, 14
/* 80126F28 00124008  48 00 02 64 */	b .L_8012718C
.L_80126F2C:
/* 80126F2C 0012400C  1C 03 00 14 */	mulli r0, r3, 0x14
/* 80126F30 00124010  80 6D 95 AC */	lwz r3, sAlphaList@sda21(r13)
/* 80126F34 00124014  7C 63 02 14 */	add r3, r3, r0
/* 80126F38 00124018  80 03 00 10 */	lwz r0, 0x10(r3)
/* 80126F3C 0012401C  7C 00 B8 00 */	cmpw r0, r23
/* 80126F40 00124020  41 81 02 5C */	bgt .L_8012719C
/* 80126F44 00124024  83 63 00 04 */	lwz r27, 0x4(r3)
/* 80126F48 00124028  80 03 00 00 */	lwz r0, 0x0(r3)
/* 80126F4C 0012402C  83 5B 00 10 */	lwz r26, 0x10(r27)
/* 80126F50 00124030  90 1B 00 10 */	stw r0, 0x10(r27)
/* 80126F54 00124034  80 8D 82 B0 */	lwz r4, xglobals@sda21(r13)
/* 80126F58 00124038  80 7B 00 3C */	lwz r3, 0x3c(r27)
/* 80126F5C 0012403C  80 84 06 58 */	lwz r4, 0x658(r4)
/* 80126F60 00124040  4B FF C5 61 */	bl xLightKit_Enable__FP9xLightKitP7RpWorld
/* 80126F64 00124044  80 1B 00 14 */	lwz r0, 0x14(r27)
/* 80126F68 00124048  83 2D 95 48 */	lwz r25, iModelHack_DisablePrelight@sda21(r13)
/* 80126F6C 0012404C  54 00 06 32 */	rlwinm r0, r0, 0, 24, 25
/* 80126F70 00124050  28 00 00 80 */	cmplwi r0, 0x80
/* 80126F74 00124054  40 82 00 0C */	bne .L_80126F80
/* 80126F78 00124058  38 00 00 00 */	li r0, 0x0
/* 80126F7C 0012405C  90 0D 95 48 */	stw r0, iModelHack_DisablePrelight@sda21(r13)
.L_80126F80:
/* 80126F80 00124060  80 7B 00 30 */	lwz r3, 0x30(r27)
/* 80126F84 00124064  28 03 00 00 */	cmplwi r3, 0x0
/* 80126F88 00124068  41 82 00 0C */	beq .L_80126F94
/* 80126F8C 0012406C  80 9B 00 10 */	lwz r4, 0x10(r27)
/* 80126F90 00124070  4B EF 23 2D */	bl xEntSetupPipeline__FP8xSurfaceP8RpAtomic
.L_80126F94:
/* 80126F94 00124074  83 DB 00 14 */	lwz r30, 0x14(r27)
/* 80126F98 00124078  57 C0 05 2F */	rlwinm. r0, r30, 0, 20, 23
/* 80126F9C 0012407C  40 82 00 08 */	bne .L_80126FA4
/* 80126FA0 00124080  63 DE 05 00 */	ori r30, r30, 0x500
.L_80126FA4:
/* 80126FA4 00124084  57 C0 04 27 */	rlwinm. r0, r30, 0, 16, 19
/* 80126FA8 00124088  40 82 00 08 */	bne .L_80126FB0
/* 80126FAC 0012408C  63 DE 60 00 */	ori r30, r30, 0x6000
.L_80126FB0:
/* 80126FB0 00124090  80 0D 95 A4 */	lwz r0, sAlphaStart@sda21(r13)
/* 80126FB4 00124094  7F DE F8 38 */	and r30, r30, r31
/* 80126FB8 00124098  80 8D 95 AC */	lwz r4, sAlphaList@sda21(r13)
/* 80126FBC 0012409C  7F D8 EA 79 */	xor. r24, r30, r29
/* 80126FC0 001240A0  1C 60 00 14 */	mulli r3, r0, 0x14
/* 80126FC4 001240A4  C3 FB 00 24 */	lfs f31, 0x24(r27)
/* 80126FC8 001240A8  38 03 00 08 */	addi r0, r3, 0x8
/* 80126FCC 001240AC  7C 04 04 2E */	lfsx f0, r4, r0
/* 80126FD0 001240B0  EC 1F 00 32 */	fmuls f0, f31, f0
/* 80126FD4 001240B4  D0 1B 00 24 */	stfs f0, 0x24(r27)
/* 80126FD8 001240B8  41 82 01 18 */	beq .L_801270F0
/* 80126FDC 001240BC  57 00 05 2F */	rlwinm. r0, r24, 0, 20, 23
/* 80126FE0 001240C0  41 82 00 10 */	beq .L_80126FF0
/* 80126FE4 001240C4  57 C4 C7 3E */	extrwi r4, r30, 4, 20
/* 80126FE8 001240C8  38 60 00 0A */	li r3, 0xa
/* 80126FEC 001240CC  48 10 87 F1 */	bl RwRenderStateSet
.L_80126FF0:
/* 80126FF0 001240D0  57 00 04 27 */	rlwinm. r0, r24, 0, 16, 19
/* 80126FF4 001240D4  41 82 00 10 */	beq .L_80127004
/* 80126FF8 001240D8  57 C4 A7 3E */	extrwi r4, r30, 4, 16
/* 80126FFC 001240DC  38 60 00 0B */	li r3, 0xb
/* 80127000 001240E0  48 10 87 DD */	bl RwRenderStateSet
.L_80127004:
/* 80127004 001240E4  57 00 07 3B */	rlwinm. r0, r24, 0, 28, 29
/* 80127008 001240E8  41 82 00 2C */	beq .L_80127034
/* 8012700C 001240EC  57 C0 07 3A */	rlwinm r0, r30, 0, 28, 29
/* 80127010 001240F0  28 00 00 04 */	cmplwi r0, 0x4
/* 80127014 001240F4  40 82 00 14 */	bne .L_80127028
/* 80127018 001240F8  38 60 00 08 */	li r3, 0x8
/* 8012701C 001240FC  38 80 00 00 */	li r4, 0x0
/* 80127020 00124100  48 10 87 BD */	bl RwRenderStateSet
/* 80127024 00124104  48 00 00 10 */	b .L_80127034
.L_80127028:
/* 80127028 00124108  38 60 00 08 */	li r3, 0x8
/* 8012702C 0012410C  38 80 00 01 */	li r4, 0x1
/* 80127030 00124110  48 10 87 AD */	bl RwRenderStateSet
.L_80127034:
/* 80127034 00124114  57 00 06 B7 */	rlwinm. r0, r24, 0, 26, 27
/* 80127038 00124118  41 82 00 34 */	beq .L_8012706C
/* 8012703C 0012411C  57 C0 06 B6 */	rlwinm r0, r30, 0, 26, 27
/* 80127040 00124120  28 00 00 20 */	cmplwi r0, 0x20
/* 80127044 00124124  40 82 00 14 */	bne .L_80127058
/* 80127048 00124128  38 60 00 14 */	li r3, 0x14
/* 8012704C 0012412C  38 80 00 02 */	li r4, 0x2
/* 80127050 00124130  48 10 87 8D */	bl RwRenderStateSet
/* 80127054 00124134  48 00 00 18 */	b .L_8012706C
.L_80127058:
/* 80127058 00124138  28 00 00 10 */	cmplwi r0, 0x10
/* 8012705C 0012413C  41 81 00 10 */	bgt .L_8012706C
/* 80127060 00124140  38 60 00 14 */	li r3, 0x14
/* 80127064 00124144  38 80 00 01 */	li r4, 0x1
/* 80127068 00124148  48 10 87 75 */	bl RwRenderStateSet
.L_8012706C:
/* 8012706C 0012414C  57 00 00 0F */	clrrwi. r0, r24, 24
/* 80127070 00124150  41 82 00 4C */	beq .L_801270BC
/* 80127074 00124154  57 C7 46 3F */	srwi. r7, r30, 24
/* 80127078 00124158  41 82 00 24 */	beq .L_8012709C
/* 8012707C 0012415C  38 60 00 07 */	li r3, 0x7
/* 80127080 00124160  38 80 00 00 */	li r4, 0x0
/* 80127084 00124164  38 A0 00 00 */	li r5, 0x0
/* 80127088 00124168  38 C0 00 06 */	li r6, 0x6
/* 8012708C 0012416C  48 12 23 0D */	bl RwGameCubeSetAlphaCompare
/* 80127090 00124170  38 60 00 00 */	li r3, 0x0
/* 80127094 00124174  48 12 1C 69 */	bl _rwDlRenderStateSetZCompLoc
/* 80127098 00124178  48 00 00 24 */	b .L_801270BC
.L_8012709C:
/* 8012709C 0012417C  38 60 00 06 */	li r3, 0x6
/* 801270A0 00124180  38 80 00 01 */	li r4, 0x1
/* 801270A4 00124184  38 A0 00 00 */	li r5, 0x0
/* 801270A8 00124188  38 C0 00 07 */	li r6, 0x7
/* 801270AC 0012418C  38 E0 00 00 */	li r7, 0x0
/* 801270B0 00124190  48 12 22 E9 */	bl RwGameCubeSetAlphaCompare
/* 801270B4 00124194  38 60 00 01 */	li r3, 0x1
/* 801270B8 00124198  48 12 1C 45 */	bl _rwDlRenderStateSetZCompLoc
.L_801270BC:
/* 801270BC 0012419C  57 00 03 DF */	rlwinm. r0, r24, 0, 15, 15
/* 801270C0 001241A0  41 82 00 2C */	beq .L_801270EC
/* 801270C4 001241A4  57 C0 03 DF */	rlwinm. r0, r30, 0, 15, 15
/* 801270C8 001241A8  41 82 00 18 */	beq .L_801270E0
/* 801270CC 001241AC  80 6D 82 B0 */	lwz r3, xglobals@sda21(r13)
/* 801270D0 001241B0  38 00 00 00 */	li r0, 0x0
/* 801270D4 001241B4  90 03 06 5C */	stw r0, 0x65c(r3)
/* 801270D8 001241B8  4B F9 9B 7D */	bl iCameraSetFogRenderStates__Fv
/* 801270DC 001241BC  48 00 00 10 */	b .L_801270EC
.L_801270E0:
/* 801270E0 001241C0  80 6D 82 B0 */	lwz r3, xglobals@sda21(r13)
/* 801270E4 001241C4  93 83 06 5C */	stw r28, 0x65c(r3)
/* 801270E8 001241C8  4B F9 9B 6D */	bl iCameraSetFogRenderStates__Fv
.L_801270EC:
/* 801270EC 001241CC  7F DD F3 78 */	mr r29, r30
.L_801270F0:
/* 801270F0 001241D0  57 C0 06 B6 */	rlwinm r0, r30, 0, 26, 27
/* 801270F4 001241D4  28 00 00 30 */	cmplwi r0, 0x30
/* 801270F8 001241D8  40 82 00 30 */	bne .L_80127128
/* 801270FC 001241DC  38 60 00 14 */	li r3, 0x14
/* 80127100 001241E0  38 80 00 03 */	li r4, 0x3
/* 80127104 001241E4  48 10 86 D9 */	bl RwRenderStateSet
/* 80127108 001241E8  7F 63 DB 78 */	mr r3, r27
/* 8012710C 001241EC  4B F0 D5 E5 */	bl xModelRenderSingle__FP14xModelInstance
/* 80127110 001241F0  38 60 00 14 */	li r3, 0x14
/* 80127114 001241F4  38 80 00 02 */	li r4, 0x2
/* 80127118 001241F8  48 10 86 C5 */	bl RwRenderStateSet
/* 8012711C 001241FC  7F 63 DB 78 */	mr r3, r27
/* 80127120 00124200  4B F0 D5 D1 */	bl xModelRenderSingle__FP14xModelInstance
/* 80127124 00124204  48 00 00 3C */	b .L_80127160
.L_80127128:
/* 80127128 00124208  57 C0 07 3A */	rlwinm r0, r30, 0, 28, 29
/* 8012712C 0012420C  28 00 00 08 */	cmplwi r0, 0x8
/* 80127130 00124210  40 82 00 28 */	bne .L_80127158
/* 80127134 00124214  38 60 FF FF */	li r3, -0x1
/* 80127138 00124218  4B F9 BD 05 */	bl iDrawSetFBMSK__FUi
/* 8012713C 0012421C  7F 63 DB 78 */	mr r3, r27
/* 80127140 00124220  4B F0 D5 B1 */	bl xModelRenderSingle__FP14xModelInstance
/* 80127144 00124224  38 60 00 00 */	li r3, 0x0
/* 80127148 00124228  4B F9 BC F5 */	bl iDrawSetFBMSK__FUi
/* 8012714C 0012422C  7F 63 DB 78 */	mr r3, r27
/* 80127150 00124230  4B F0 D5 A1 */	bl xModelRenderSingle__FP14xModelInstance
/* 80127154 00124234  48 00 00 0C */	b .L_80127160
.L_80127158:
/* 80127158 00124238  7F 63 DB 78 */	mr r3, r27
/* 8012715C 0012423C  4B F0 D5 95 */	bl xModelRenderSingle__FP14xModelInstance
.L_80127160:
/* 80127160 00124240  D3 FB 00 24 */	stfs f31, 0x24(r27)
/* 80127164 00124244  80 7B 00 30 */	lwz r3, 0x30(r27)
/* 80127168 00124248  28 03 00 00 */	cmplwi r3, 0x0
/* 8012716C 0012424C  41 82 00 0C */	beq .L_80127178
/* 80127170 00124250  80 9B 00 10 */	lwz r4, 0x10(r27)
/* 80127174 00124254  4B EF 22 F9 */	bl xEntRestorePipeline__FP8xSurfaceP8RpAtomic
.L_80127178:
/* 80127178 00124258  93 2D 95 48 */	stw r25, iModelHack_DisablePrelight@sda21(r13)
/* 8012717C 0012425C  93 5B 00 10 */	stw r26, 0x10(r27)
/* 80127180 00124260  80 6D 95 A4 */	lwz r3, sAlphaStart@sda21(r13)
/* 80127184 00124264  38 03 00 01 */	addi r0, r3, 0x1
/* 80127188 00124268  90 0D 95 A4 */	stw r0, sAlphaStart@sda21(r13)
.L_8012718C:
/* 8012718C 0012426C  80 6D 95 A4 */	lwz r3, sAlphaStart@sda21(r13)
/* 80127190 00124270  80 0D 95 A0 */	lwz r0, sAlphaCurr@sda21(r13)
/* 80127194 00124274  7C 03 00 00 */	cmpw r3, r0
/* 80127198 00124278  41 80 FD 94 */	blt .L_80126F2C
.L_8012719C:
/* 8012719C 0012427C  28 1D 65 00 */	cmplwi r29, 0x6500
/* 801271A0 00124280  41 82 00 A8 */	beq .L_80127248
/* 801271A4 00124284  57 A0 C7 3E */	extrwi r0, r29, 4, 20
/* 801271A8 00124288  28 00 00 05 */	cmplwi r0, 0x5
/* 801271AC 0012428C  41 82 00 10 */	beq .L_801271BC
/* 801271B0 00124290  38 60 00 0A */	li r3, 0xa
/* 801271B4 00124294  38 80 00 05 */	li r4, 0x5
/* 801271B8 00124298  48 10 86 25 */	bl RwRenderStateSet
.L_801271BC:
/* 801271BC 0012429C  57 A0 A7 3E */	extrwi r0, r29, 4, 16
/* 801271C0 001242A0  28 00 00 06 */	cmplwi r0, 0x6
/* 801271C4 001242A4  41 82 00 10 */	beq .L_801271D4
/* 801271C8 001242A8  38 60 00 0B */	li r3, 0xb
/* 801271CC 001242AC  38 80 00 06 */	li r4, 0x6
/* 801271D0 001242B0  48 10 86 0D */	bl RwRenderStateSet
.L_801271D4:
/* 801271D4 001242B4  57 A0 07 3A */	rlwinm r0, r29, 0, 28, 29
/* 801271D8 001242B8  28 00 00 04 */	cmplwi r0, 0x4
/* 801271DC 001242BC  40 82 00 10 */	bne .L_801271EC
/* 801271E0 001242C0  38 60 00 08 */	li r3, 0x8
/* 801271E4 001242C4  38 80 00 01 */	li r4, 0x1
/* 801271E8 001242C8  48 10 85 F5 */	bl RwRenderStateSet
.L_801271EC:
/* 801271EC 001242CC  57 A0 06 B6 */	rlwinm r0, r29, 0, 26, 27
/* 801271F0 001242D0  28 00 00 20 */	cmplwi r0, 0x20
/* 801271F4 001242D4  41 82 00 0C */	beq .L_80127200
/* 801271F8 001242D8  28 00 00 30 */	cmplwi r0, 0x30
/* 801271FC 001242DC  40 82 00 10 */	bne .L_8012720C
.L_80127200:
/* 80127200 001242E0  38 60 00 14 */	li r3, 0x14
/* 80127204 001242E4  38 80 00 01 */	li r4, 0x1
/* 80127208 001242E8  48 10 85 D5 */	bl RwRenderStateSet
.L_8012720C:
/* 8012720C 001242EC  57 A0 00 0F */	clrrwi. r0, r29, 24
/* 80127210 001242F0  41 82 00 24 */	beq .L_80127234
/* 80127214 001242F4  38 60 00 06 */	li r3, 0x6
/* 80127218 001242F8  38 80 00 01 */	li r4, 0x1
/* 8012721C 001242FC  38 A0 00 00 */	li r5, 0x0
/* 80127220 00124300  38 C0 00 07 */	li r6, 0x7
/* 80127224 00124304  38 E0 00 00 */	li r7, 0x0
/* 80127228 00124308  48 12 21 71 */	bl RwGameCubeSetAlphaCompare
/* 8012722C 0012430C  38 60 00 01 */	li r3, 0x1
/* 80127230 00124310  48 12 1A CD */	bl _rwDlRenderStateSetZCompLoc
.L_80127234:
/* 80127234 00124314  57 A0 03 DF */	rlwinm. r0, r29, 0, 15, 15
/* 80127238 00124318  41 82 00 10 */	beq .L_80127248
/* 8012723C 0012431C  80 6D 82 B0 */	lwz r3, xglobals@sda21(r13)
/* 80127240 00124320  93 83 06 5C */	stw r28, 0x65c(r3)
/* 80127244 00124324  4B F9 9A 11 */	bl iCameraSetFogRenderStates__Fv
.L_80127248:
/* 80127248 00124328  E3 E1 00 38 */	psq_l f31, 0x38(r1), 0, qr0
/* 8012724C 0012432C  CB E1 00 30 */	lfd f31, 0x30(r1)
/* 80127250 00124330  BA E1 00 0C */	lmw r23, 0xc(r1)
/* 80127254 00124334  80 01 00 44 */	lwz r0, 0x44(r1)
/* 80127258 00124338  7C 08 03 A6 */	mtlr r0
/* 8012725C 0012433C  38 21 00 40 */	addi r1, r1, 0x40
/* 80127260 00124340  4E 80 00 20 */	blr
.endfn xModelBucket_RenderAlphaLayer__Fi

# xModelBucket_RenderAlphaEnd()
.fn xModelBucket_RenderAlphaEnd__Fv, global
/* 80127264 00124344  38 00 00 00 */	li r0, 0x0
/* 80127268 00124348  90 0D 95 A0 */	stw r0, sAlphaCurr@sda21(r13)
/* 8012726C 0012434C  4E 80 00 20 */	blr
.endfn xModelBucket_RenderAlphaEnd__Fv

# xModelBucket_Deinit()
.fn xModelBucket_Deinit__Fv, global
/* 80127270 00124350  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 80127274 00124354  7C 08 02 A6 */	mflr r0
/* 80127278 00124358  90 01 00 24 */	stw r0, 0x24(r1)
/* 8012727C 0012435C  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 80127280 00124360  3B E0 00 00 */	li r31, 0x0
/* 80127284 00124364  93 C1 00 18 */	stw r30, 0x18(r1)
/* 80127288 00124368  3B C0 00 00 */	li r30, 0x0
/* 8012728C 0012436C  93 A1 00 14 */	stw r29, 0x14(r1)
/* 80127290 00124370  48 00 00 58 */	b .L_801272E8
.L_80127294:
/* 80127294 00124374  80 0D 95 90 */	lwz r0, sBucketList@sda21(r13)
/* 80127298 00124378  7C 80 FA 14 */	add r4, r0, r31
/* 8012729C 0012437C  80 64 00 00 */	lwz r3, 0x0(r4)
/* 801272A0 00124380  80 04 00 04 */	lwz r0, 0x4(r4)
/* 801272A4 00124384  7C 03 00 40 */	cmplw r3, r0
/* 801272A8 00124388  41 82 00 38 */	beq .L_801272E0
/* 801272AC 0012438C  48 11 5B 51 */	bl _rwFrameSyncDirty
/* 801272B0 00124390  80 6D 95 90 */	lwz r3, sBucketList@sda21(r13)
/* 801272B4 00124394  7C 63 F8 2E */	lwzx r3, r3, r31
/* 801272B8 00124398  83 A3 00 04 */	lwz r29, 0x4(r3)
/* 801272BC 0012439C  28 1D 00 00 */	cmplwi r29, 0x0
/* 801272C0 001243A0  41 82 00 14 */	beq .L_801272D4
/* 801272C4 001243A4  38 80 00 00 */	li r4, 0x0
/* 801272C8 001243A8  48 0E DB 75 */	bl RpAtomicSetFrame
/* 801272CC 001243AC  7F A3 EB 78 */	mr r3, r29
/* 801272D0 001243B0  48 11 18 F5 */	bl RwFrameDestroy
.L_801272D4:
/* 801272D4 001243B4  80 6D 95 90 */	lwz r3, sBucketList@sda21(r13)
/* 801272D8 001243B8  7C 63 F8 2E */	lwzx r3, r3, r31
/* 801272DC 001243BC  48 0E C0 F1 */	bl RpAtomicDestroy
.L_801272E0:
/* 801272E0 001243C0  3B FF 00 14 */	addi r31, r31, 0x14
/* 801272E4 001243C4  3B DE 00 01 */	addi r30, r30, 0x1
.L_801272E8:
/* 801272E8 001243C8  80 0D 95 8C */	lwz r0, sBucketCount@sda21(r13)
/* 801272EC 001243CC  7C 1E 00 00 */	cmpw r30, r0
/* 801272F0 001243D0  41 80 FF A4 */	blt .L_80127294
/* 801272F4 001243D4  4B FF F1 1D */	bl xModelBucket_PreCountReset__Fv
/* 801272F8 001243D8  80 01 00 24 */	lwz r0, 0x24(r1)
/* 801272FC 001243DC  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 80127300 001243E0  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 80127304 001243E4  83 A1 00 14 */	lwz r29, 0x14(r1)
/* 80127308 001243E8  7C 08 03 A6 */	mtlr r0
/* 8012730C 001243EC  38 21 00 20 */	addi r1, r1, 0x20
/* 80127310 001243F0  4E 80 00 20 */	blr
.endfn xModelBucket_Deinit__Fv

# 0x803CBE80 - 0x803CBEB0
.section .sbss, "wa", @nobits
.balign 8

.obj sBucketDummyWorld, local
	.skip 0x4
.endobj sBucketDummyWorld

.obj sBucketDummyCamera, local
	.skip 0x4
.endobj sBucketDummyCamera

.obj sBucketCurr, local
	.skip 0x4
.endobj sBucketCurr

.obj sBucketCount, local
	.skip 0x4
.endobj sBucketCount

.obj sBucketList, local
	.skip 0x4
.endobj sBucketList

.obj sBucketClipCullCurr, local
	.skip 0x4
.endobj sBucketClipCullCurr

.obj sBucketClipCullCount, local
	.skip 0x4
.endobj sBucketClipCullCount

.obj sBucketClipCullList, local
	.skip 0x4
.endobj sBucketClipCullList

.obj sAlphaCurr, local
	.skip 0x4
.endobj sAlphaCurr

.obj sAlphaStart, local
	.skip 0x4
.endobj sAlphaStart

.obj sAlphaCount, local
	.skip 0x4
.endobj sAlphaCount

.obj sAlphaList, local
	.skip 0x4
.endobj sAlphaList

# 0x803CEAC0 - 0x803CEAD8
.section .sdata2, "a"
.balign 8

.obj "@675", local
	.4byte 0x47C35000
.endobj "@675"

.obj "@676", local
	.4byte 0xC7C35000
.endobj "@676"

.obj "@806", local
	.4byte 0x3FC00000
.endobj "@806"

.obj "@807", local
	.4byte 0x3F800000
.endobj "@807"

.obj "@808", local
	.4byte 0x00000000
.endobj "@808"

.obj "@809", local
	.4byte 0x41C80000
.endobj "@809"

# 0x803D08D8 - 0x803D08E8
.section .sbss2, "a", @nobits
.balign 8

.obj "@684", local
	.skip 0x8
.endobj "@684"

.obj "@691", local
	.skip 0x8
.endobj "@691"
