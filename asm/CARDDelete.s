.include "macros.inc"
.file "CARDDelete.c"

# 0x801C11C0 - 0x801C13BC
.text
.balign 4

.fn DeleteCallback, local
/* 801C11C0 001BE2A0  7C 08 02 A6 */	mflr r0
/* 801C11C4 001BE2A4  90 01 00 04 */	stw r0, 0x4(r1)
/* 801C11C8 001BE2A8  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 801C11CC 001BE2AC  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 801C11D0 001BE2B0  93 C1 00 18 */	stw r30, 0x18(r1)
/* 801C11D4 001BE2B4  93 A1 00 14 */	stw r29, 0x14(r1)
/* 801C11D8 001BE2B8  7C 9D 23 79 */	mr. r29, r4
/* 801C11DC 001BE2BC  93 81 00 10 */	stw r28, 0x10(r1)
/* 801C11E0 001BE2C0  3B 83 00 00 */	addi r28, r3, 0x0
/* 801C11E4 001BE2C4  1C BC 01 10 */	mulli r5, r28, 0x110
/* 801C11E8 001BE2C8  3C 60 80 38 */	lis r3, __CARDBlock@ha
/* 801C11EC 001BE2CC  38 03 D4 80 */	addi r0, r3, __CARDBlock@l
/* 801C11F0 001BE2D0  7F E0 2A 14 */	add r31, r0, r5
/* 801C11F4 001BE2D4  83 DF 00 D0 */	lwz r30, 0xd0(r31)
/* 801C11F8 001BE2D8  38 00 00 00 */	li r0, 0x0
/* 801C11FC 001BE2DC  90 1F 00 D0 */	stw r0, 0xd0(r31)
/* 801C1200 001BE2E0  41 80 00 1C */	blt .L_801C121C
/* 801C1204 001BE2E4  A0 9F 00 BE */	lhz r4, 0xbe(r31)
/* 801C1208 001BE2E8  38 7C 00 00 */	addi r3, r28, 0x0
/* 801C120C 001BE2EC  38 BE 00 00 */	addi r5, r30, 0x0
/* 801C1210 001BE2F0  4B FF C7 19 */	bl __CARDFreeBlock
/* 801C1214 001BE2F4  7C 7D 1B 79 */	mr. r29, r3
/* 801C1218 001BE2F8  40 80 00 2C */	bge .L_801C1244
.L_801C121C:
/* 801C121C 001BE2FC  38 7F 00 00 */	addi r3, r31, 0x0
/* 801C1220 001BE300  38 9D 00 00 */	addi r4, r29, 0x0
/* 801C1224 001BE304  4B FF AB 79 */	bl __CARDPutControlBlock
/* 801C1228 001BE308  28 1E 00 00 */	cmplwi r30, 0x0
/* 801C122C 001BE30C  41 82 00 18 */	beq .L_801C1244
/* 801C1230 001BE310  39 9E 00 00 */	addi r12, r30, 0x0
/* 801C1234 001BE314  7D 88 03 A6 */	mtlr r12
/* 801C1238 001BE318  38 7C 00 00 */	addi r3, r28, 0x0
/* 801C123C 001BE31C  38 9D 00 00 */	addi r4, r29, 0x0
/* 801C1240 001BE320  4E 80 00 21 */	blrl
.L_801C1244:
/* 801C1244 001BE324  80 01 00 24 */	lwz r0, 0x24(r1)
/* 801C1248 001BE328  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 801C124C 001BE32C  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 801C1250 001BE330  83 A1 00 14 */	lwz r29, 0x14(r1)
/* 801C1254 001BE334  83 81 00 10 */	lwz r28, 0x10(r1)
/* 801C1258 001BE338  38 21 00 20 */	addi r1, r1, 0x20
/* 801C125C 001BE33C  7C 08 03 A6 */	mtlr r0
/* 801C1260 001BE340  4E 80 00 20 */	blr
.endfn DeleteCallback

.fn CARDDeleteAsync, global
/* 801C1264 001BE344  7C 08 02 A6 */	mflr r0
/* 801C1268 001BE348  90 01 00 04 */	stw r0, 0x4(r1)
/* 801C126C 001BE34C  94 21 FF D0 */	stwu r1, -0x30(r1)
/* 801C1270 001BE350  93 E1 00 2C */	stw r31, 0x2c(r1)
/* 801C1274 001BE354  3B E3 00 00 */	addi r31, r3, 0x0
/* 801C1278 001BE358  93 C1 00 28 */	stw r30, 0x28(r1)
/* 801C127C 001BE35C  3B C5 00 00 */	addi r30, r5, 0x0
/* 801C1280 001BE360  93 A1 00 24 */	stw r29, 0x24(r1)
/* 801C1284 001BE364  3B A4 00 00 */	addi r29, r4, 0x0
/* 801C1288 001BE368  38 81 00 18 */	addi r4, r1, 0x18
/* 801C128C 001BE36C  4B FF AA 59 */	bl __CARDGetControlBlock
/* 801C1290 001BE370  2C 03 00 00 */	cmpwi r3, 0x0
/* 801C1294 001BE374  40 80 00 08 */	bge .L_801C129C
/* 801C1298 001BE378  48 00 00 C0 */	b .L_801C1358
.L_801C129C:
/* 801C129C 001BE37C  80 61 00 18 */	lwz r3, 0x18(r1)
/* 801C12A0 001BE380  38 9D 00 00 */	addi r4, r29, 0x0
/* 801C12A4 001BE384  38 A1 00 14 */	addi r5, r1, 0x14
/* 801C12A8 001BE388  4B FF F0 0D */	bl __CARDGetFileNo
/* 801C12AC 001BE38C  7C 64 1B 79 */	mr. r4, r3
/* 801C12B0 001BE390  40 80 00 10 */	bge .L_801C12C0
/* 801C12B4 001BE394  80 61 00 18 */	lwz r3, 0x18(r1)
/* 801C12B8 001BE398  4B FF AA E5 */	bl __CARDPutControlBlock
/* 801C12BC 001BE39C  48 00 00 9C */	b .L_801C1358
.L_801C12C0:
/* 801C12C0 001BE3A0  80 61 00 18 */	lwz r3, 0x18(r1)
/* 801C12C4 001BE3A4  80 81 00 14 */	lwz r4, 0x14(r1)
/* 801C12C8 001BE3A8  4B FF F3 B1 */	bl __CARDIsOpened
/* 801C12CC 001BE3AC  2C 03 00 00 */	cmpwi r3, 0x0
/* 801C12D0 001BE3B0  41 82 00 14 */	beq .L_801C12E4
/* 801C12D4 001BE3B4  80 61 00 18 */	lwz r3, 0x18(r1)
/* 801C12D8 001BE3B8  38 80 FF FF */	li r4, -0x1
/* 801C12DC 001BE3BC  4B FF AA C1 */	bl __CARDPutControlBlock
/* 801C12E0 001BE3C0  48 00 00 78 */	b .L_801C1358
.L_801C12E4:
/* 801C12E4 001BE3C4  80 61 00 18 */	lwz r3, 0x18(r1)
/* 801C12E8 001BE3C8  4B FF C7 89 */	bl __CARDGetDirBlock
/* 801C12EC 001BE3CC  80 01 00 14 */	lwz r0, 0x14(r1)
/* 801C12F0 001BE3D0  38 80 00 FF */	li r4, 0xff
/* 801C12F4 001BE3D4  80 C1 00 18 */	lwz r6, 0x18(r1)
/* 801C12F8 001BE3D8  38 A0 00 40 */	li r5, 0x40
/* 801C12FC 001BE3DC  54 00 30 32 */	slwi r0, r0, 6
/* 801C1300 001BE3E0  7C 63 02 14 */	add r3, r3, r0
/* 801C1304 001BE3E4  A0 03 00 36 */	lhz r0, 0x36(r3)
/* 801C1308 001BE3E8  B0 06 00 BE */	sth r0, 0xbe(r6)
/* 801C130C 001BE3EC  4B E4 21 4D */	bl memset
/* 801C1310 001BE3F0  28 1E 00 00 */	cmplwi r30, 0x0
/* 801C1314 001BE3F4  41 82 00 0C */	beq .L_801C1320
/* 801C1318 001BE3F8  7F C0 F3 78 */	mr r0, r30
/* 801C131C 001BE3FC  48 00 00 0C */	b .L_801C1328
.L_801C1320:
/* 801C1320 001BE400  3C 60 80 1C */	lis r3, __CARDDefaultApiCallback@ha
/* 801C1324 001BE404  38 03 AD 84 */	addi r0, r3, __CARDDefaultApiCallback@l
.L_801C1328:
/* 801C1328 001BE408  80 A1 00 18 */	lwz r5, 0x18(r1)
/* 801C132C 001BE40C  3C 60 80 1C */	lis r3, DeleteCallback@ha
/* 801C1330 001BE410  38 83 11 C0 */	addi r4, r3, DeleteCallback@l
/* 801C1334 001BE414  90 05 00 D0 */	stw r0, 0xd0(r5)
/* 801C1338 001BE418  7F E3 FB 78 */	mr r3, r31
/* 801C133C 001BE41C  4B FF C8 D5 */	bl __CARDUpdateDir
/* 801C1340 001BE420  7C 7F 1B 79 */	mr. r31, r3
/* 801C1344 001BE424  40 80 00 10 */	bge .L_801C1354
/* 801C1348 001BE428  80 61 00 18 */	lwz r3, 0x18(r1)
/* 801C134C 001BE42C  7F E4 FB 78 */	mr r4, r31
/* 801C1350 001BE430  4B FF AA 4D */	bl __CARDPutControlBlock
.L_801C1354:
/* 801C1354 001BE434  7F E3 FB 78 */	mr r3, r31
.L_801C1358:
/* 801C1358 001BE438  80 01 00 34 */	lwz r0, 0x34(r1)
/* 801C135C 001BE43C  83 E1 00 2C */	lwz r31, 0x2c(r1)
/* 801C1360 001BE440  83 C1 00 28 */	lwz r30, 0x28(r1)
/* 801C1364 001BE444  83 A1 00 24 */	lwz r29, 0x24(r1)
/* 801C1368 001BE448  38 21 00 30 */	addi r1, r1, 0x30
/* 801C136C 001BE44C  7C 08 03 A6 */	mtlr r0
/* 801C1370 001BE450  4E 80 00 20 */	blr
.endfn CARDDeleteAsync

.fn CARDDelete, global
/* 801C1374 001BE454  7C 08 02 A6 */	mflr r0
/* 801C1378 001BE458  3C A0 80 1C */	lis r5, __CARDSyncCallback@ha
/* 801C137C 001BE45C  90 01 00 04 */	stw r0, 0x4(r1)
/* 801C1380 001BE460  38 A5 AD 88 */	addi r5, r5, __CARDSyncCallback@l
/* 801C1384 001BE464  94 21 FF E8 */	stwu r1, -0x18(r1)
/* 801C1388 001BE468  93 E1 00 14 */	stw r31, 0x14(r1)
/* 801C138C 001BE46C  3B E3 00 00 */	addi r31, r3, 0x0
/* 801C1390 001BE470  4B FF FE D5 */	bl CARDDeleteAsync
/* 801C1394 001BE474  2C 03 00 00 */	cmpwi r3, 0x0
/* 801C1398 001BE478  40 80 00 08 */	bge .L_801C13A0
/* 801C139C 001BE47C  48 00 00 0C */	b .L_801C13A8
.L_801C13A0:
/* 801C13A0 001BE480  7F E3 FB 78 */	mr r3, r31
/* 801C13A4 001BE484  4B FF AC E9 */	bl __CARDSync
.L_801C13A8:
/* 801C13A8 001BE488  80 01 00 1C */	lwz r0, 0x1c(r1)
/* 801C13AC 001BE48C  83 E1 00 14 */	lwz r31, 0x14(r1)
/* 801C13B0 001BE490  38 21 00 18 */	addi r1, r1, 0x18
/* 801C13B4 001BE494  7C 08 03 A6 */	mtlr r0
/* 801C13B8 001BE498  4E 80 00 20 */	blr
.endfn CARDDelete
