.include "macros.inc"
.file "CARDMount.c"

# 0x801BEC98 - 0x801BF758
.text
.balign 4

.fn IsCard, local
/* 801BEC98 001BBD78  54 60 00 1F */	clrrwi. r0, r3, 16
/* 801BEC9C 001BBD7C  41 82 00 24 */	beq .L_801BECC0
/* 801BECA0 001BBD80  3C 03 80 00 */	addis r0, r3, 0x8000
/* 801BECA4 001BBD84  28 00 00 04 */	cmplwi r0, 0x4
/* 801BECA8 001BBD88  40 82 00 10 */	bne .L_801BECB8
/* 801BECAC 001BBD8C  A0 0D 85 80 */	lhz r0, __CARDVendorID@sda21(r13)
/* 801BECB0 001BBD90  28 00 FF FF */	cmplwi r0, 0xffff
/* 801BECB4 001BBD94  40 82 00 0C */	bne .L_801BECC0
.L_801BECB8:
/* 801BECB8 001BBD98  38 60 00 00 */	li r3, 0x0
/* 801BECBC 001BBD9C  4E 80 00 20 */	blr
.L_801BECC0:
/* 801BECC0 001BBDA0  54 60 07 BF */	clrlwi. r0, r3, 30
/* 801BECC4 001BBDA4  41 82 00 0C */	beq .L_801BECD0
/* 801BECC8 001BBDA8  38 60 00 00 */	li r3, 0x0
/* 801BECCC 001BBDAC  4E 80 00 20 */	blr
.L_801BECD0:
/* 801BECD0 001BBDB0  54 65 06 3A */	rlwinm r5, r3, 0, 24, 29
/* 801BECD4 001BBDB4  2C 05 00 20 */	cmpwi r5, 0x20
/* 801BECD8 001BBDB8  41 82 00 48 */	beq .L_801BED20
/* 801BECDC 001BBDBC  40 80 00 28 */	bge .L_801BED04
/* 801BECE0 001BBDC0  2C 05 00 08 */	cmpwi r5, 0x8
/* 801BECE4 001BBDC4  41 82 00 3C */	beq .L_801BED20
/* 801BECE8 001BBDC8  40 80 00 10 */	bge .L_801BECF8
/* 801BECEC 001BBDCC  2C 05 00 04 */	cmpwi r5, 0x4
/* 801BECF0 001BBDD0  41 82 00 30 */	beq .L_801BED20
/* 801BECF4 001BBDD4  48 00 00 24 */	b .L_801BED18
.L_801BECF8:
/* 801BECF8 001BBDD8  2C 05 00 10 */	cmpwi r5, 0x10
/* 801BECFC 001BBDDC  41 82 00 24 */	beq .L_801BED20
/* 801BED00 001BBDE0  48 00 00 18 */	b .L_801BED18
.L_801BED04:
/* 801BED04 001BBDE4  2C 05 00 80 */	cmpwi r5, 0x80
/* 801BED08 001BBDE8  41 82 00 18 */	beq .L_801BED20
/* 801BED0C 001BBDEC  40 80 00 0C */	bge .L_801BED18
/* 801BED10 001BBDF0  2C 05 00 40 */	cmpwi r5, 0x40
/* 801BED14 001BBDF4  41 82 00 0C */	beq .L_801BED20
.L_801BED18:
/* 801BED18 001BBDF8  38 60 00 00 */	li r3, 0x0
/* 801BED1C 001BBDFC  4E 80 00 20 */	blr
.L_801BED20:
/* 801BED20 001BBE00  3C 80 80 2B */	lis r4, SectorSizeTable@ha
/* 801BED24 001BBE04  54 63 BE FA */	rlwinm r3, r3, 23, 27, 29
/* 801BED28 001BBE08  38 04 40 80 */	addi r0, r4, SectorSizeTable@l
/* 801BED2C 001BBE0C  7C 60 1A 14 */	add r3, r0, r3
/* 801BED30 001BBE10  80 63 00 00 */	lwz r3, 0x0(r3)
/* 801BED34 001BBE14  2C 03 00 00 */	cmpwi r3, 0x0
/* 801BED38 001BBE18  40 82 00 0C */	bne .L_801BED44
/* 801BED3C 001BBE1C  38 60 00 00 */	li r3, 0x0
/* 801BED40 001BBE20  4E 80 00 20 */	blr
.L_801BED44:
/* 801BED44 001BBE24  54 A0 88 DC */	clrlslwi r0, r5, 20, 17
/* 801BED48 001BBE28  7C 00 1B 96 */	divwu r0, r0, r3
/* 801BED4C 001BBE2C  28 00 00 08 */	cmplwi r0, 0x8
/* 801BED50 001BBE30  40 80 00 0C */	bge .L_801BED5C
/* 801BED54 001BBE34  38 60 00 00 */	li r3, 0x0
/* 801BED58 001BBE38  4E 80 00 20 */	blr
.L_801BED5C:
/* 801BED5C 001BBE3C  38 60 00 01 */	li r3, 0x1
/* 801BED60 001BBE40  4E 80 00 20 */	blr
.endfn IsCard

.fn CARDProbeEx, global
/* 801BED64 001BBE44  7C 08 02 A6 */	mflr r0
/* 801BED68 001BBE48  90 01 00 04 */	stw r0, 0x4(r1)
/* 801BED6C 001BBE4C  94 21 FF D0 */	stwu r1, -0x30(r1)
/* 801BED70 001BBE50  BF 61 00 1C */	stmw r27, 0x1c(r1)
/* 801BED74 001BBE54  7C 7B 1B 79 */	mr. r27, r3
/* 801BED78 001BBE58  3B 84 00 00 */	addi r28, r4, 0x0
/* 801BED7C 001BBE5C  3B E5 00 00 */	addi r31, r5, 0x0
/* 801BED80 001BBE60  41 80 00 0C */	blt .L_801BED8C
/* 801BED84 001BBE64  2C 1B 00 02 */	cmpwi r27, 0x2
/* 801BED88 001BBE68  41 80 00 0C */	blt .L_801BED94
.L_801BED8C:
/* 801BED8C 001BBE6C  38 60 FF 80 */	li r3, -0x80
/* 801BED90 001BBE70  48 00 01 3C */	b .L_801BEECC
.L_801BED94:
/* 801BED94 001BBE74  3C 60 80 00 */	lis r3, 0x8000
/* 801BED98 001BBE78  88 03 30 E3 */	lbz r0, 0x30e3(r3)
/* 801BED9C 001BBE7C  54 00 06 31 */	rlwinm. r0, r0, 0, 24, 24
/* 801BEDA0 001BBE80  41 82 00 0C */	beq .L_801BEDAC
/* 801BEDA4 001BBE84  38 60 FF FD */	li r3, -0x3
/* 801BEDA8 001BBE88  48 00 01 24 */	b .L_801BEECC
.L_801BEDAC:
/* 801BEDAC 001BBE8C  1C 9B 01 10 */	mulli r4, r27, 0x110
/* 801BEDB0 001BBE90  3C 60 80 38 */	lis r3, __CARDBlock@ha
/* 801BEDB4 001BBE94  38 03 D4 80 */	addi r0, r3, __CARDBlock@l
/* 801BEDB8 001BBE98  7F C0 22 14 */	add r30, r0, r4
/* 801BEDBC 001BBE9C  48 01 55 55 */	bl OSDisableInterrupts
/* 801BEDC0 001BBEA0  3B A3 00 00 */	addi r29, r3, 0x0
/* 801BEDC4 001BBEA4  38 7B 00 00 */	addi r3, r27, 0x0
/* 801BEDC8 001BBEA8  48 00 8E 51 */	bl EXIProbeEx
/* 801BEDCC 001BBEAC  2C 03 FF FF */	cmpwi r3, -0x1
/* 801BEDD0 001BBEB0  40 82 00 0C */	bne .L_801BEDDC
/* 801BEDD4 001BBEB4  3B C0 FF FD */	li r30, -0x3
/* 801BEDD8 001BBEB8  48 00 00 E8 */	b .L_801BEEC0
.L_801BEDDC:
/* 801BEDDC 001BBEBC  2C 03 00 00 */	cmpwi r3, 0x0
/* 801BEDE0 001BBEC0  40 82 00 0C */	bne .L_801BEDEC
/* 801BEDE4 001BBEC4  3B C0 FF FF */	li r30, -0x1
/* 801BEDE8 001BBEC8  48 00 00 D8 */	b .L_801BEEC0
.L_801BEDEC:
/* 801BEDEC 001BBECC  80 1E 00 00 */	lwz r0, 0x0(r30)
/* 801BEDF0 001BBED0  2C 00 00 00 */	cmpwi r0, 0x0
/* 801BEDF4 001BBED4  41 82 00 40 */	beq .L_801BEE34
/* 801BEDF8 001BBED8  80 1E 00 24 */	lwz r0, 0x24(r30)
/* 801BEDFC 001BBEDC  2C 00 00 01 */	cmpwi r0, 0x1
/* 801BEE00 001BBEE0  40 80 00 0C */	bge .L_801BEE0C
/* 801BEE04 001BBEE4  3B C0 FF FF */	li r30, -0x1
/* 801BEE08 001BBEE8  48 00 00 B8 */	b .L_801BEEC0
.L_801BEE0C:
/* 801BEE0C 001BBEEC  28 1C 00 00 */	cmplwi r28, 0x0
/* 801BEE10 001BBEF0  41 82 00 0C */	beq .L_801BEE1C
/* 801BEE14 001BBEF4  A0 1E 00 08 */	lhz r0, 0x8(r30)
/* 801BEE18 001BBEF8  90 1C 00 00 */	stw r0, 0x0(r28)
.L_801BEE1C:
/* 801BEE1C 001BBEFC  28 1F 00 00 */	cmplwi r31, 0x0
/* 801BEE20 001BBF00  41 82 00 0C */	beq .L_801BEE2C
/* 801BEE24 001BBF04  80 1E 00 0C */	lwz r0, 0xc(r30)
/* 801BEE28 001BBF08  90 1F 00 00 */	stw r0, 0x0(r31)
.L_801BEE2C:
/* 801BEE2C 001BBF0C  3B C0 00 00 */	li r30, 0x0
/* 801BEE30 001BBF10  48 00 00 90 */	b .L_801BEEC0
.L_801BEE34:
/* 801BEE34 001BBF14  7F 63 DB 78 */	mr r3, r27
/* 801BEE38 001BBF18  48 00 99 ED */	bl EXIGetState
/* 801BEE3C 001BBF1C  54 60 07 39 */	rlwinm. r0, r3, 0, 28, 28
/* 801BEE40 001BBF20  41 82 00 0C */	beq .L_801BEE4C
/* 801BEE44 001BBF24  3B C0 FF FE */	li r30, -0x2
/* 801BEE48 001BBF28  48 00 00 78 */	b .L_801BEEC0
.L_801BEE4C:
/* 801BEE4C 001BBF2C  38 7B 00 00 */	addi r3, r27, 0x0
/* 801BEE50 001BBF30  38 A1 00 14 */	addi r5, r1, 0x14
/* 801BEE54 001BBF34  38 80 00 00 */	li r4, 0x0
/* 801BEE58 001BBF38  48 00 9A 0D */	bl EXIGetID
/* 801BEE5C 001BBF3C  2C 03 00 00 */	cmpwi r3, 0x0
/* 801BEE60 001BBF40  40 82 00 0C */	bne .L_801BEE6C
/* 801BEE64 001BBF44  3B C0 FF FF */	li r30, -0x1
/* 801BEE68 001BBF48  48 00 00 58 */	b .L_801BEEC0
.L_801BEE6C:
/* 801BEE6C 001BBF4C  80 61 00 14 */	lwz r3, 0x14(r1)
/* 801BEE70 001BBF50  4B FF FE 29 */	bl IsCard
/* 801BEE74 001BBF54  2C 03 00 00 */	cmpwi r3, 0x0
/* 801BEE78 001BBF58  41 82 00 44 */	beq .L_801BEEBC
/* 801BEE7C 001BBF5C  28 1C 00 00 */	cmplwi r28, 0x0
/* 801BEE80 001BBF60  41 82 00 10 */	beq .L_801BEE90
/* 801BEE84 001BBF64  80 01 00 14 */	lwz r0, 0x14(r1)
/* 801BEE88 001BBF68  54 00 06 3A */	rlwinm r0, r0, 0, 24, 29
/* 801BEE8C 001BBF6C  90 1C 00 00 */	stw r0, 0x0(r28)
.L_801BEE90:
/* 801BEE90 001BBF70  28 1F 00 00 */	cmplwi r31, 0x0
/* 801BEE94 001BBF74  41 82 00 20 */	beq .L_801BEEB4
/* 801BEE98 001BBF78  80 81 00 14 */	lwz r4, 0x14(r1)
/* 801BEE9C 001BBF7C  3C 60 80 2B */	lis r3, SectorSizeTable@ha
/* 801BEEA0 001BBF80  38 03 40 80 */	addi r0, r3, SectorSizeTable@l
/* 801BEEA4 001BBF84  54 83 BE FA */	rlwinm r3, r4, 23, 27, 29
/* 801BEEA8 001BBF88  7C 60 1A 14 */	add r3, r0, r3
/* 801BEEAC 001BBF8C  80 03 00 00 */	lwz r0, 0x0(r3)
/* 801BEEB0 001BBF90  90 1F 00 00 */	stw r0, 0x0(r31)
.L_801BEEB4:
/* 801BEEB4 001BBF94  3B C0 00 00 */	li r30, 0x0
/* 801BEEB8 001BBF98  48 00 00 08 */	b .L_801BEEC0
.L_801BEEBC:
/* 801BEEBC 001BBF9C  3B C0 FF FE */	li r30, -0x2
.L_801BEEC0:
/* 801BEEC0 001BBFA0  7F A3 EB 78 */	mr r3, r29
/* 801BEEC4 001BBFA4  48 01 54 75 */	bl OSRestoreInterrupts
/* 801BEEC8 001BBFA8  7F C3 F3 78 */	mr r3, r30
.L_801BEECC:
/* 801BEECC 001BBFAC  BB 61 00 1C */	lmw r27, 0x1c(r1)
/* 801BEED0 001BBFB0  80 01 00 34 */	lwz r0, 0x34(r1)
/* 801BEED4 001BBFB4  38 21 00 30 */	addi r1, r1, 0x30
/* 801BEED8 001BBFB8  7C 08 03 A6 */	mtlr r0
/* 801BEEDC 001BBFBC  4E 80 00 20 */	blr
.endfn CARDProbeEx

.fn DoMount, local
/* 801BEEE0 001BBFC0  7C 08 02 A6 */	mflr r0
/* 801BEEE4 001BBFC4  90 01 00 04 */	stw r0, 0x4(r1)
/* 801BEEE8 001BBFC8  94 21 FF D0 */	stwu r1, -0x30(r1)
/* 801BEEEC 001BBFCC  93 E1 00 2C */	stw r31, 0x2c(r1)
/* 801BEEF0 001BBFD0  93 C1 00 28 */	stw r30, 0x28(r1)
/* 801BEEF4 001BBFD4  93 A1 00 24 */	stw r29, 0x24(r1)
/* 801BEEF8 001BBFD8  3B A3 00 00 */	addi r29, r3, 0x0
/* 801BEEFC 001BBFDC  1C 9D 01 10 */	mulli r4, r29, 0x110
/* 801BEF00 001BBFE0  93 81 00 20 */	stw r28, 0x20(r1)
/* 801BEF04 001BBFE4  3C 60 80 38 */	lis r3, __CARDBlock@ha
/* 801BEF08 001BBFE8  38 03 D4 80 */	addi r0, r3, __CARDBlock@l
/* 801BEF0C 001BBFEC  7C 60 22 14 */	add r3, r0, r4
/* 801BEF10 001BBFF0  80 03 00 24 */	lwz r0, 0x24(r3)
/* 801BEF14 001BBFF4  3B E3 00 00 */	addi r31, r3, 0x0
/* 801BEF18 001BBFF8  2C 00 00 00 */	cmpwi r0, 0x0
/* 801BEF1C 001BBFFC  40 82 02 AC */	bne .L_801BF1C8
/* 801BEF20 001BC000  38 7D 00 00 */	addi r3, r29, 0x0
/* 801BEF24 001BC004  38 A1 00 18 */	addi r5, r1, 0x18
/* 801BEF28 001BC008  38 80 00 00 */	li r4, 0x0
/* 801BEF2C 001BC00C  48 00 99 39 */	bl EXIGetID
/* 801BEF30 001BC010  2C 03 00 00 */	cmpwi r3, 0x0
/* 801BEF34 001BC014  40 82 00 0C */	bne .L_801BEF40
/* 801BEF38 001BC018  3B C0 FF FD */	li r30, -0x3
/* 801BEF3C 001BC01C  48 00 00 20 */	b .L_801BEF5C
.L_801BEF40:
/* 801BEF40 001BC020  80 61 00 18 */	lwz r3, 0x18(r1)
/* 801BEF44 001BC024  4B FF FD 55 */	bl IsCard
/* 801BEF48 001BC028  2C 03 00 00 */	cmpwi r3, 0x0
/* 801BEF4C 001BC02C  41 82 00 0C */	beq .L_801BEF58
/* 801BEF50 001BC030  3B C0 00 00 */	li r30, 0x0
/* 801BEF54 001BC034  48 00 00 08 */	b .L_801BEF5C
.L_801BEF58:
/* 801BEF58 001BC038  3B C0 FF FE */	li r30, -0x2
.L_801BEF5C:
/* 801BEF5C 001BC03C  2C 1E 00 00 */	cmpwi r30, 0x0
/* 801BEF60 001BC040  41 80 03 44 */	blt .L_801BF2A4
/* 801BEF64 001BC044  80 01 00 18 */	lwz r0, 0x18(r1)
/* 801BEF68 001BC048  3C 80 80 2B */	lis r4, SectorSizeTable@ha
/* 801BEF6C 001BC04C  38 84 40 80 */	addi r4, r4, SectorSizeTable@l
/* 801BEF70 001BC050  90 1F 01 08 */	stw r0, 0x108(r31)
/* 801BEF74 001BC054  3C 60 80 2B */	lis r3, LatencyTable@ha
/* 801BEF78 001BC058  38 03 40 A0 */	addi r0, r3, LatencyTable@l
/* 801BEF7C 001BC05C  80 A1 00 18 */	lwz r5, 0x18(r1)
/* 801BEF80 001BC060  38 7D 00 00 */	addi r3, r29, 0x0
/* 801BEF84 001BC064  54 A5 06 3A */	rlwinm r5, r5, 0, 24, 29
/* 801BEF88 001BC068  B0 BF 00 08 */	sth r5, 0x8(r31)
/* 801BEF8C 001BC06C  80 A1 00 18 */	lwz r5, 0x18(r1)
/* 801BEF90 001BC070  54 A5 BE FA */	rlwinm r5, r5, 23, 27, 29
/* 801BEF94 001BC074  7C 84 2A 14 */	add r4, r4, r5
/* 801BEF98 001BC078  80 84 00 00 */	lwz r4, 0x0(r4)
/* 801BEF9C 001BC07C  90 9F 00 0C */	stw r4, 0xc(r31)
/* 801BEFA0 001BC080  A0 BF 00 08 */	lhz r5, 0x8(r31)
/* 801BEFA4 001BC084  80 9F 00 0C */	lwz r4, 0xc(r31)
/* 801BEFA8 001BC088  54 A5 A0 16 */	slwi r5, r5, 20
/* 801BEFAC 001BC08C  7C A5 1E 70 */	srawi r5, r5, 3
/* 801BEFB0 001BC090  7C A5 01 94 */	addze r5, r5
/* 801BEFB4 001BC094  7C 85 23 D6 */	divw r4, r5, r4
/* 801BEFB8 001BC098  B0 9F 00 10 */	sth r4, 0x10(r31)
/* 801BEFBC 001BC09C  80 81 00 18 */	lwz r4, 0x18(r1)
/* 801BEFC0 001BC0A0  54 84 D6 FA */	rlwinm r4, r4, 26, 27, 29
/* 801BEFC4 001BC0A4  7C 80 22 14 */	add r4, r0, r4
/* 801BEFC8 001BC0A8  80 04 00 00 */	lwz r0, 0x0(r4)
/* 801BEFCC 001BC0AC  90 1F 00 14 */	stw r0, 0x14(r31)
/* 801BEFD0 001BC0B0  4B FF C2 B9 */	bl __CARDClearStatus
/* 801BEFD4 001BC0B4  7C 7E 1B 79 */	mr. r30, r3
/* 801BEFD8 001BC0B8  41 80 02 CC */	blt .L_801BF2A4
/* 801BEFDC 001BC0BC  38 7D 00 00 */	addi r3, r29, 0x0
/* 801BEFE0 001BC0C0  38 81 00 14 */	addi r4, r1, 0x14
/* 801BEFE4 001BC0C4  4B FF C1 B5 */	bl __CARDReadStatus
/* 801BEFE8 001BC0C8  7C 7E 1B 79 */	mr. r30, r3
/* 801BEFEC 001BC0CC  41 80 02 B8 */	blt .L_801BF2A4
/* 801BEFF0 001BC0D0  7F A3 EB 78 */	mr r3, r29
/* 801BEFF4 001BC0D4  48 00 8B A5 */	bl EXIProbe
/* 801BEFF8 001BC0D8  2C 03 00 00 */	cmpwi r3, 0x0
/* 801BEFFC 001BC0DC  40 82 00 0C */	bne .L_801BF008
/* 801BF000 001BC0E0  3B C0 FF FD */	li r30, -0x3
/* 801BF004 001BC0E4  48 00 02 A0 */	b .L_801BF2A4
.L_801BF008:
/* 801BF008 001BC0E8  88 01 00 14 */	lbz r0, 0x14(r1)
/* 801BF00C 001BC0EC  54 00 06 73 */	rlwinm. r0, r0, 0, 25, 25
/* 801BF010 001BC0F0  40 82 01 14 */	bne .L_801BF124
/* 801BF014 001BC0F4  38 7D 00 00 */	addi r3, r29, 0x0
/* 801BF018 001BC0F8  38 9F 00 18 */	addi r4, r31, 0x18
/* 801BF01C 001BC0FC  4B FF D4 CD */	bl __CARDUnlock
/* 801BF020 001BC100  7C 7E 1B 79 */	mr. r30, r3
/* 801BF024 001BC104  41 80 02 80 */	blt .L_801BF2A4
/* 801BF028 001BC108  48 01 6C D1 */	bl __OSLockSramEx
/* 801BF02C 001BC10C  1C 1D 00 0C */	mulli r0, r29, 0xc
/* 801BF030 001BC110  7C 83 02 14 */	add r4, r3, r0
/* 801BF034 001BC114  88 1F 00 18 */	lbz r0, 0x18(r31)
/* 801BF038 001BC118  38 BF 00 18 */	addi r5, r31, 0x18
/* 801BF03C 001BC11C  98 04 00 00 */	stb r0, 0x0(r4)
/* 801BF040 001BC120  39 05 00 02 */	addi r8, r5, 0x2
/* 801BF044 001BC124  39 25 00 03 */	addi r9, r5, 0x3
/* 801BF048 001BC128  88 FF 00 18 */	lbz r7, 0x18(r31)
/* 801BF04C 001BC12C  39 45 00 04 */	addi r10, r5, 0x4
/* 801BF050 001BC130  88 1F 00 19 */	lbz r0, 0x19(r31)
/* 801BF054 001BC134  39 65 00 05 */	addi r11, r5, 0x5
/* 801BF058 001BC138  39 85 00 06 */	addi r12, r5, 0x6
/* 801BF05C 001BC13C  98 04 00 01 */	stb r0, 0x1(r4)
/* 801BF060 001BC140  3B 85 00 07 */	addi r28, r5, 0x7
/* 801BF064 001BC144  38 A0 00 08 */	li r5, 0x8
/* 801BF068 001BC148  88 1F 00 19 */	lbz r0, 0x19(r31)
/* 801BF06C 001BC14C  88 C8 00 00 */	lbz r6, 0x0(r8)
/* 801BF070 001BC150  7C 07 02 14 */	add r0, r7, r0
/* 801BF074 001BC154  98 C4 00 02 */	stb r6, 0x2(r4)
/* 801BF078 001BC158  88 E8 00 00 */	lbz r7, 0x0(r8)
/* 801BF07C 001BC15C  88 C9 00 00 */	lbz r6, 0x0(r9)
/* 801BF080 001BC160  7C 00 3A 14 */	add r0, r0, r7
/* 801BF084 001BC164  98 C4 00 03 */	stb r6, 0x3(r4)
/* 801BF088 001BC168  88 E9 00 00 */	lbz r7, 0x0(r9)
/* 801BF08C 001BC16C  88 CA 00 00 */	lbz r6, 0x0(r10)
/* 801BF090 001BC170  7C 00 3A 14 */	add r0, r0, r7
/* 801BF094 001BC174  98 C4 00 04 */	stb r6, 0x4(r4)
/* 801BF098 001BC178  88 EA 00 00 */	lbz r7, 0x0(r10)
/* 801BF09C 001BC17C  88 CB 00 00 */	lbz r6, 0x0(r11)
/* 801BF0A0 001BC180  7C 00 3A 14 */	add r0, r0, r7
/* 801BF0A4 001BC184  98 C4 00 05 */	stb r6, 0x5(r4)
/* 801BF0A8 001BC188  88 EB 00 00 */	lbz r7, 0x0(r11)
/* 801BF0AC 001BC18C  88 CC 00 00 */	lbz r6, 0x0(r12)
/* 801BF0B0 001BC190  7C 00 3A 14 */	add r0, r0, r7
/* 801BF0B4 001BC194  98 C4 00 06 */	stb r6, 0x6(r4)
/* 801BF0B8 001BC198  88 EC 00 00 */	lbz r7, 0x0(r12)
/* 801BF0BC 001BC19C  88 DC 00 00 */	lbz r6, 0x0(r28)
/* 801BF0C0 001BC1A0  7C 00 3A 14 */	add r0, r0, r7
/* 801BF0C4 001BC1A4  98 C4 00 07 */	stb r6, 0x7(r4)
/* 801BF0C8 001BC1A8  88 DC 00 00 */	lbz r6, 0x0(r28)
/* 801BF0CC 001BC1AC  7C 00 32 14 */	add r0, r0, r6
/* 801BF0D0 001BC1B0  48 00 01 F0 */	b .L_801BF2C0
.L_801BF0D4:
/* 801BF0D4 001BC1B4  20 85 00 0C */	subfic r4, r5, 0xc
/* 801BF0D8 001BC1B8  2C 05 00 0C */	cmpwi r5, 0xc
/* 801BF0DC 001BC1BC  7C 89 03 A6 */	mtctr r4
/* 801BF0E0 001BC1C0  40 80 00 28 */	bge .L_801BF108
.L_801BF0E4:
/* 801BF0E4 001BC1C4  38 E5 00 18 */	addi r7, r5, 0x18
/* 801BF0E8 001BC1C8  7C FF 3A 14 */	add r7, r31, r7
/* 801BF0EC 001BC1CC  88 87 00 00 */	lbz r4, 0x0(r7)
/* 801BF0F0 001BC1D0  38 A5 00 01 */	addi r5, r5, 0x1
/* 801BF0F4 001BC1D4  98 86 00 00 */	stb r4, 0x0(r6)
/* 801BF0F8 001BC1D8  38 C6 00 01 */	addi r6, r6, 0x1
/* 801BF0FC 001BC1DC  88 87 00 00 */	lbz r4, 0x0(r7)
/* 801BF100 001BC1E0  7C 00 22 14 */	add r0, r0, r4
/* 801BF104 001BC1E4  42 00 FF E0 */	bdnz .L_801BF0E4
.L_801BF108:
/* 801BF108 001BC1E8  7C 63 EA 14 */	add r3, r3, r29
/* 801BF10C 001BC1EC  7C 00 00 F8 */	nor r0, r0, r0
/* 801BF110 001BC1F0  98 03 00 26 */	stb r0, 0x26(r3)
/* 801BF114 001BC1F4  38 60 00 01 */	li r3, 0x1
/* 801BF118 001BC1F8  48 01 6F 9D */	bl __OSUnlockSramEx
/* 801BF11C 001BC1FC  7F C3 F3 78 */	mr r3, r30
/* 801BF120 001BC200  48 00 01 B0 */	b .L_801BF2D0
.L_801BF124:
/* 801BF124 001BC204  38 00 00 01 */	li r0, 0x1
/* 801BF128 001BC208  90 1F 00 24 */	stw r0, 0x24(r31)
/* 801BF12C 001BC20C  48 01 6B CD */	bl __OSLockSramEx
/* 801BF130 001BC210  1C 1D 00 0C */	mulli r0, r29, 0xc
/* 801BF134 001BC214  3B C3 00 00 */	addi r30, r3, 0x0
/* 801BF138 001BC218  7C BE 02 14 */	add r5, r30, r0
/* 801BF13C 001BC21C  88 85 00 00 */	lbz r4, 0x0(r5)
/* 801BF140 001BC220  38 C0 00 08 */	li r6, 0x8
/* 801BF144 001BC224  88 05 00 01 */	lbz r0, 0x1(r5)
/* 801BF148 001BC228  88 65 00 02 */	lbz r3, 0x2(r5)
/* 801BF14C 001BC22C  7F 84 02 14 */	add r28, r4, r0
/* 801BF150 001BC230  88 05 00 03 */	lbz r0, 0x3(r5)
/* 801BF154 001BC234  7F 9C 1A 14 */	add r28, r28, r3
/* 801BF158 001BC238  88 65 00 04 */	lbz r3, 0x4(r5)
/* 801BF15C 001BC23C  7F 9C 02 14 */	add r28, r28, r0
/* 801BF160 001BC240  88 05 00 05 */	lbz r0, 0x5(r5)
/* 801BF164 001BC244  7F 9C 1A 14 */	add r28, r28, r3
/* 801BF168 001BC248  88 65 00 06 */	lbz r3, 0x6(r5)
/* 801BF16C 001BC24C  7F 9C 02 14 */	add r28, r28, r0
/* 801BF170 001BC250  88 05 00 07 */	lbz r0, 0x7(r5)
/* 801BF174 001BC254  7F 9C 1A 14 */	add r28, r28, r3
/* 801BF178 001BC258  7F 9C 02 14 */	add r28, r28, r0
/* 801BF17C 001BC25C  48 00 01 4C */	b .L_801BF2C8
.L_801BF180:
/* 801BF180 001BC260  20 06 00 0C */	subfic r0, r6, 0xc
/* 801BF184 001BC264  2C 06 00 0C */	cmpwi r6, 0xc
/* 801BF188 001BC268  7C 09 03 A6 */	mtctr r0
/* 801BF18C 001BC26C  40 80 00 14 */	bge .L_801BF1A0
.L_801BF190:
/* 801BF190 001BC270  88 03 00 00 */	lbz r0, 0x0(r3)
/* 801BF194 001BC274  38 63 00 01 */	addi r3, r3, 0x1
/* 801BF198 001BC278  7F 9C 02 14 */	add r28, r28, r0
/* 801BF19C 001BC27C  42 00 FF F4 */	bdnz .L_801BF190
.L_801BF1A0:
/* 801BF1A0 001BC280  38 60 00 00 */	li r3, 0x0
/* 801BF1A4 001BC284  48 01 6F 11 */	bl __OSUnlockSramEx
/* 801BF1A8 001BC288  7C 7E EA 14 */	add r3, r30, r29
/* 801BF1AC 001BC28C  7F 80 E0 F8 */	nor r0, r28, r28
/* 801BF1B0 001BC290  88 63 00 26 */	lbz r3, 0x26(r3)
/* 801BF1B4 001BC294  54 00 06 3E */	clrlwi r0, r0, 24
/* 801BF1B8 001BC298  7C 03 00 40 */	cmplw r3, r0
/* 801BF1BC 001BC29C  41 82 00 0C */	beq .L_801BF1C8
/* 801BF1C0 001BC2A0  3B C0 FF FB */	li r30, -0x5
/* 801BF1C4 001BC2A4  48 00 00 E0 */	b .L_801BF2A4
.L_801BF1C8:
/* 801BF1C8 001BC2A8  80 1F 00 24 */	lwz r0, 0x24(r31)
/* 801BF1CC 001BC2AC  2C 00 00 01 */	cmpwi r0, 0x1
/* 801BF1D0 001BC2B0  40 82 00 88 */	bne .L_801BF258
/* 801BF1D4 001BC2B4  80 7F 01 08 */	lwz r3, 0x108(r31)
/* 801BF1D8 001BC2B8  3C 03 80 00 */	addis r0, r3, 0x8000
/* 801BF1DC 001BC2BC  28 00 00 04 */	cmplwi r0, 0x4
/* 801BF1E0 001BC2C0  40 82 00 34 */	bne .L_801BF214
/* 801BF1E4 001BC2C4  48 01 6B 15 */	bl __OSLockSramEx
/* 801BF1E8 001BC2C8  1C 1D 00 0C */	mulli r0, r29, 0xc
/* 801BF1EC 001BC2CC  7F 83 02 2E */	lhzx r28, r3, r0
/* 801BF1F0 001BC2D0  38 60 00 00 */	li r3, 0x0
/* 801BF1F4 001BC2D4  48 01 6E C1 */	bl __OSUnlockSramEx
/* 801BF1F8 001BC2D8  A0 0D 85 80 */	lhz r0, __CARDVendorID@sda21(r13)
/* 801BF1FC 001BC2DC  28 00 FF FF */	cmplwi r0, 0xffff
/* 801BF200 001BC2E0  41 82 00 0C */	beq .L_801BF20C
/* 801BF204 001BC2E4  7C 1C 00 40 */	cmplw r28, r0
/* 801BF208 001BC2E8  41 82 00 0C */	beq .L_801BF214
.L_801BF20C:
/* 801BF20C 001BC2EC  3B C0 FF FE */	li r30, -0x2
/* 801BF210 001BC2F0  48 00 00 94 */	b .L_801BF2A4
.L_801BF214:
/* 801BF214 001BC2F4  38 00 00 02 */	li r0, 0x2
/* 801BF218 001BC2F8  90 1F 00 24 */	stw r0, 0x24(r31)
/* 801BF21C 001BC2FC  38 7D 00 00 */	addi r3, r29, 0x0
/* 801BF220 001BC300  38 80 00 01 */	li r4, 0x1
/* 801BF224 001BC304  4B FF BE B5 */	bl __CARDEnableInterrupt
/* 801BF228 001BC308  7C 7E 1B 79 */	mr. r30, r3
/* 801BF22C 001BC30C  41 80 00 78 */	blt .L_801BF2A4
/* 801BF230 001BC310  3C 60 80 1C */	lis r3, __CARDExiHandler@ha
/* 801BF234 001BC314  38 83 AE 94 */	addi r4, r3, __CARDExiHandler@l
/* 801BF238 001BC318  38 7D 00 00 */	addi r3, r29, 0x0
/* 801BF23C 001BC31C  48 00 87 6D */	bl EXISetExiCallback
/* 801BF240 001BC320  7F A3 EB 78 */	mr r3, r29
/* 801BF244 001BC324  48 00 95 05 */	bl EXIUnlock
/* 801BF248 001BC328  3C 80 00 01 */	lis r4, 0x1
/* 801BF24C 001BC32C  80 7F 00 80 */	lwz r3, 0x80(r31)
/* 801BF250 001BC330  38 84 A0 00 */	addi r4, r4, -0x6000
/* 801BF254 001BC334  48 01 30 D9 */	bl DCInvalidateRange
.L_801BF258:
/* 801BF258 001BC338  80 9F 00 24 */	lwz r4, 0x24(r31)
/* 801BF25C 001BC33C  3C 60 80 1C */	lis r3, __CARDMountCallback@ha
/* 801BF260 001BC340  80 1F 00 0C */	lwz r0, 0xc(r31)
/* 801BF264 001BC344  38 E3 F2 F0 */	addi r7, r3, __CARDMountCallback@l
/* 801BF268 001BC348  38 64 FF FE */	addi r3, r4, -0x2
/* 801BF26C 001BC34C  7C 80 19 D6 */	mullw r4, r0, r3
/* 801BF270 001BC350  80 BF 00 80 */	lwz r5, 0x80(r31)
/* 801BF274 001BC354  54 60 68 24 */	slwi r0, r3, 13
/* 801BF278 001BC358  7C C5 02 14 */	add r6, r5, r0
/* 801BF27C 001BC35C  38 7D 00 00 */	addi r3, r29, 0x0
/* 801BF280 001BC360  38 A0 20 00 */	li r5, 0x2000
/* 801BF284 001BC364  4B FF E2 2D */	bl __CARDRead
/* 801BF288 001BC368  7C 7C 1B 79 */	mr. r28, r3
/* 801BF28C 001BC36C  40 80 00 10 */	bge .L_801BF29C
/* 801BF290 001BC370  38 7F 00 00 */	addi r3, r31, 0x0
/* 801BF294 001BC374  38 9C 00 00 */	addi r4, r28, 0x0
/* 801BF298 001BC378  4B FF CB 05 */	bl __CARDPutControlBlock
.L_801BF29C:
/* 801BF29C 001BC37C  7F 83 E3 78 */	mr r3, r28
/* 801BF2A0 001BC380  48 00 00 30 */	b .L_801BF2D0
.L_801BF2A4:
/* 801BF2A4 001BC384  7F A3 EB 78 */	mr r3, r29
/* 801BF2A8 001BC388  48 00 94 A1 */	bl EXIUnlock
/* 801BF2AC 001BC38C  38 7D 00 00 */	addi r3, r29, 0x0
/* 801BF2B0 001BC390  38 9E 00 00 */	addi r4, r30, 0x0
/* 801BF2B4 001BC394  48 00 03 5D */	bl DoUnmount
/* 801BF2B8 001BC398  7F C3 F3 78 */	mr r3, r30
/* 801BF2BC 001BC39C  48 00 00 14 */	b .L_801BF2D0
.L_801BF2C0:
/* 801BF2C0 001BC3A0  38 C4 00 08 */	addi r6, r4, 0x8
/* 801BF2C4 001BC3A4  4B FF FE 10 */	b .L_801BF0D4
.L_801BF2C8:
/* 801BF2C8 001BC3A8  38 65 00 08 */	addi r3, r5, 0x8
/* 801BF2CC 001BC3AC  4B FF FE B4 */	b .L_801BF180
.L_801BF2D0:
/* 801BF2D0 001BC3B0  80 01 00 34 */	lwz r0, 0x34(r1)
/* 801BF2D4 001BC3B4  83 E1 00 2C */	lwz r31, 0x2c(r1)
/* 801BF2D8 001BC3B8  83 C1 00 28 */	lwz r30, 0x28(r1)
/* 801BF2DC 001BC3BC  83 A1 00 24 */	lwz r29, 0x24(r1)
/* 801BF2E0 001BC3C0  83 81 00 20 */	lwz r28, 0x20(r1)
/* 801BF2E4 001BC3C4  38 21 00 30 */	addi r1, r1, 0x30
/* 801BF2E8 001BC3C8  7C 08 03 A6 */	mtlr r0
/* 801BF2EC 001BC3CC  4E 80 00 20 */	blr
.endfn DoMount

.fn __CARDMountCallback, global
/* 801BF2F0 001BC3D0  7C 08 02 A6 */	mflr r0
/* 801BF2F4 001BC3D4  90 01 00 04 */	stw r0, 0x4(r1)
/* 801BF2F8 001BC3D8  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 801BF2FC 001BC3DC  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 801BF300 001BC3E0  93 C1 00 18 */	stw r30, 0x18(r1)
/* 801BF304 001BC3E4  93 A1 00 14 */	stw r29, 0x14(r1)
/* 801BF308 001BC3E8  3B A4 00 00 */	addi r29, r4, 0x0
/* 801BF30C 001BC3EC  2C 1D FF FD */	cmpwi r29, -0x3
/* 801BF310 001BC3F0  93 81 00 10 */	stw r28, 0x10(r1)
/* 801BF314 001BC3F4  3B 83 00 00 */	addi r28, r3, 0x0
/* 801BF318 001BC3F8  1C BC 01 10 */	mulli r5, r28, 0x110
/* 801BF31C 001BC3FC  3C 60 80 38 */	lis r3, __CARDBlock@ha
/* 801BF320 001BC400  38 03 D4 80 */	addi r0, r3, __CARDBlock@l
/* 801BF324 001BC404  7F E0 2A 14 */	add r31, r0, r5
/* 801BF328 001BC408  41 82 00 A8 */	beq .L_801BF3D0
/* 801BF32C 001BC40C  40 80 00 10 */	bge .L_801BF33C
/* 801BF330 001BC410  2C 1D FF FB */	cmpwi r29, -0x5
/* 801BF334 001BC414  41 82 00 9C */	beq .L_801BF3D0
/* 801BF338 001BC418  48 00 00 A4 */	b .L_801BF3DC
.L_801BF33C:
/* 801BF33C 001BC41C  2C 1D 00 01 */	cmpwi r29, 0x1
/* 801BF340 001BC420  41 82 00 4C */	beq .L_801BF38C
/* 801BF344 001BC424  40 80 00 98 */	bge .L_801BF3DC
/* 801BF348 001BC428  2C 1D 00 00 */	cmpwi r29, 0x0
/* 801BF34C 001BC42C  40 80 00 08 */	bge .L_801BF354
/* 801BF350 001BC430  48 00 00 8C */	b .L_801BF3DC
.L_801BF354:
/* 801BF354 001BC434  80 7F 00 24 */	lwz r3, 0x24(r31)
/* 801BF358 001BC438  38 03 00 01 */	addi r0, r3, 0x1
/* 801BF35C 001BC43C  2C 00 00 07 */	cmpwi r0, 0x7
/* 801BF360 001BC440  90 1F 00 24 */	stw r0, 0x24(r31)
/* 801BF364 001BC444  40 80 00 18 */	bge .L_801BF37C
/* 801BF368 001BC448  7F 83 E3 78 */	mr r3, r28
/* 801BF36C 001BC44C  4B FF FB 75 */	bl DoMount
/* 801BF370 001BC450  7C 7D 1B 79 */	mr. r29, r3
/* 801BF374 001BC454  41 80 00 68 */	blt .L_801BF3DC
/* 801BF378 001BC458  48 00 00 90 */	b .L_801BF408
.L_801BF37C:
/* 801BF37C 001BC45C  7F E3 FB 78 */	mr r3, r31
/* 801BF380 001BC460  4B FF F2 4D */	bl __CARDVerify
/* 801BF384 001BC464  7C 7D 1B 78 */	mr r29, r3
/* 801BF388 001BC468  48 00 00 54 */	b .L_801BF3DC
.L_801BF38C:
/* 801BF38C 001BC46C  3C 60 80 1C */	lis r3, __CARDMountCallback@ha
/* 801BF390 001BC470  38 03 F2 F0 */	addi r0, r3, __CARDMountCallback@l
/* 801BF394 001BC474  3C 60 80 1C */	lis r3, __CARDUnlockedHandler@ha
/* 801BF398 001BC478  90 1F 00 DC */	stw r0, 0xdc(r31)
/* 801BF39C 001BC47C  38 A3 B0 54 */	addi r5, r3, __CARDUnlockedHandler@l
/* 801BF3A0 001BC480  38 7C 00 00 */	addi r3, r28, 0x0
/* 801BF3A4 001BC484  38 80 00 00 */	li r4, 0x0
/* 801BF3A8 001BC488  48 00 92 AD */	bl EXILock
/* 801BF3AC 001BC48C  2C 03 00 00 */	cmpwi r3, 0x0
/* 801BF3B0 001BC490  41 82 00 58 */	beq .L_801BF408
/* 801BF3B4 001BC494  38 00 00 00 */	li r0, 0x0
/* 801BF3B8 001BC498  90 1F 00 DC */	stw r0, 0xdc(r31)
/* 801BF3BC 001BC49C  7F 83 E3 78 */	mr r3, r28
/* 801BF3C0 001BC4A0  4B FF FB 21 */	bl DoMount
/* 801BF3C4 001BC4A4  7C 7D 1B 79 */	mr. r29, r3
/* 801BF3C8 001BC4A8  41 80 00 14 */	blt .L_801BF3DC
/* 801BF3CC 001BC4AC  48 00 00 3C */	b .L_801BF408
.L_801BF3D0:
/* 801BF3D0 001BC4B0  38 7C 00 00 */	addi r3, r28, 0x0
/* 801BF3D4 001BC4B4  38 9D 00 00 */	addi r4, r29, 0x0
/* 801BF3D8 001BC4B8  48 00 02 39 */	bl DoUnmount
.L_801BF3DC:
/* 801BF3DC 001BC4BC  83 DF 00 D0 */	lwz r30, 0xd0(r31)
/* 801BF3E0 001BC4C0  38 00 00 00 */	li r0, 0x0
/* 801BF3E4 001BC4C4  38 7F 00 00 */	addi r3, r31, 0x0
/* 801BF3E8 001BC4C8  90 1F 00 D0 */	stw r0, 0xd0(r31)
/* 801BF3EC 001BC4CC  7F A4 EB 78 */	mr r4, r29
/* 801BF3F0 001BC4D0  4B FF C9 AD */	bl __CARDPutControlBlock
/* 801BF3F4 001BC4D4  39 9E 00 00 */	addi r12, r30, 0x0
/* 801BF3F8 001BC4D8  7D 88 03 A6 */	mtlr r12
/* 801BF3FC 001BC4DC  38 7C 00 00 */	addi r3, r28, 0x0
/* 801BF400 001BC4E0  38 9D 00 00 */	addi r4, r29, 0x0
/* 801BF404 001BC4E4  4E 80 00 21 */	blrl
.L_801BF408:
/* 801BF408 001BC4E8  80 01 00 24 */	lwz r0, 0x24(r1)
/* 801BF40C 001BC4EC  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 801BF410 001BC4F0  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 801BF414 001BC4F4  83 A1 00 14 */	lwz r29, 0x14(r1)
/* 801BF418 001BC4F8  83 81 00 10 */	lwz r28, 0x10(r1)
/* 801BF41C 001BC4FC  38 21 00 20 */	addi r1, r1, 0x20
/* 801BF420 001BC500  7C 08 03 A6 */	mtlr r0
/* 801BF424 001BC504  4E 80 00 20 */	blr
.endfn __CARDMountCallback

.fn CARDMountAsync, global
/* 801BF428 001BC508  7C 08 02 A6 */	mflr r0
/* 801BF42C 001BC50C  90 01 00 04 */	stw r0, 0x4(r1)
/* 801BF430 001BC510  94 21 FF D0 */	stwu r1, -0x30(r1)
/* 801BF434 001BC514  BF 41 00 18 */	stmw r26, 0x18(r1)
/* 801BF438 001BC518  7C 7E 1B 79 */	mr. r30, r3
/* 801BF43C 001BC51C  3B 44 00 00 */	addi r26, r4, 0x0
/* 801BF440 001BC520  3B 65 00 00 */	addi r27, r5, 0x0
/* 801BF444 001BC524  3B A6 00 00 */	addi r29, r6, 0x0
/* 801BF448 001BC528  41 80 00 0C */	blt .L_801BF454
/* 801BF44C 001BC52C  2C 1E 00 02 */	cmpwi r30, 0x2
/* 801BF450 001BC530  41 80 00 0C */	blt .L_801BF45C
.L_801BF454:
/* 801BF454 001BC534  38 60 FF 80 */	li r3, -0x80
/* 801BF458 001BC538  48 00 01 5C */	b .L_801BF5B4
.L_801BF45C:
/* 801BF45C 001BC53C  3C 60 80 00 */	lis r3, 0x8000
/* 801BF460 001BC540  88 03 30 E3 */	lbz r0, 0x30e3(r3)
/* 801BF464 001BC544  54 00 06 31 */	rlwinm. r0, r0, 0, 24, 24
/* 801BF468 001BC548  41 82 00 0C */	beq .L_801BF474
/* 801BF46C 001BC54C  38 60 FF FD */	li r3, -0x3
/* 801BF470 001BC550  48 00 01 44 */	b .L_801BF5B4
.L_801BF474:
/* 801BF474 001BC554  1C 9E 01 10 */	mulli r4, r30, 0x110
/* 801BF478 001BC558  3C 60 80 38 */	lis r3, __CARDBlock@ha
/* 801BF47C 001BC55C  38 03 D4 80 */	addi r0, r3, __CARDBlock@l
/* 801BF480 001BC560  7F E0 22 14 */	add r31, r0, r4
/* 801BF484 001BC564  48 01 4E 8D */	bl OSDisableInterrupts
/* 801BF488 001BC568  80 1F 00 04 */	lwz r0, 0x4(r31)
/* 801BF48C 001BC56C  3B 83 00 00 */	addi r28, r3, 0x0
/* 801BF490 001BC570  2C 00 FF FF */	cmpwi r0, -0x1
/* 801BF494 001BC574  40 82 00 14 */	bne .L_801BF4A8
/* 801BF498 001BC578  7F 83 E3 78 */	mr r3, r28
/* 801BF49C 001BC57C  48 01 4E 9D */	bl OSRestoreInterrupts
/* 801BF4A0 001BC580  38 60 FF FF */	li r3, -0x1
/* 801BF4A4 001BC584  48 00 01 10 */	b .L_801BF5B4
.L_801BF4A8:
/* 801BF4A8 001BC588  80 1F 00 00 */	lwz r0, 0x0(r31)
/* 801BF4AC 001BC58C  2C 00 00 00 */	cmpwi r0, 0x0
/* 801BF4B0 001BC590  40 82 00 24 */	bne .L_801BF4D4
/* 801BF4B4 001BC594  7F C3 F3 78 */	mr r3, r30
/* 801BF4B8 001BC598  48 00 93 6D */	bl EXIGetState
/* 801BF4BC 001BC59C  54 60 07 39 */	rlwinm. r0, r3, 0, 28, 28
/* 801BF4C0 001BC5A0  41 82 00 14 */	beq .L_801BF4D4
/* 801BF4C4 001BC5A4  7F 83 E3 78 */	mr r3, r28
/* 801BF4C8 001BC5A8  48 01 4E 71 */	bl OSRestoreInterrupts
/* 801BF4CC 001BC5AC  38 60 FF FE */	li r3, -0x2
/* 801BF4D0 001BC5B0  48 00 00 E4 */	b .L_801BF5B4
.L_801BF4D4:
/* 801BF4D4 001BC5B4  38 00 FF FF */	li r0, -0x1
/* 801BF4D8 001BC5B8  90 1F 00 04 */	stw r0, 0x4(r31)
/* 801BF4DC 001BC5BC  28 1D 00 00 */	cmplwi r29, 0x0
/* 801BF4E0 001BC5C0  93 5F 00 80 */	stw r26, 0x80(r31)
/* 801BF4E4 001BC5C4  93 7F 00 C4 */	stw r27, 0xc4(r31)
/* 801BF4E8 001BC5C8  41 82 00 0C */	beq .L_801BF4F4
/* 801BF4EC 001BC5CC  7F A0 EB 78 */	mr r0, r29
/* 801BF4F0 001BC5D0  48 00 00 0C */	b .L_801BF4FC
.L_801BF4F4:
/* 801BF4F4 001BC5D4  3C 60 80 1C */	lis r3, __CARDDefaultApiCallback@ha
/* 801BF4F8 001BC5D8  38 03 AD 84 */	addi r0, r3, __CARDDefaultApiCallback@l
.L_801BF4FC:
/* 801BF4FC 001BC5DC  90 1F 00 D0 */	stw r0, 0xd0(r31)
/* 801BF500 001BC5E0  38 00 00 00 */	li r0, 0x0
/* 801BF504 001BC5E4  90 1F 00 CC */	stw r0, 0xcc(r31)
/* 801BF508 001BC5E8  80 1F 00 00 */	lwz r0, 0x0(r31)
/* 801BF50C 001BC5EC  2C 00 00 00 */	cmpwi r0, 0x0
/* 801BF510 001BC5F0  40 82 00 34 */	bne .L_801BF544
/* 801BF514 001BC5F4  3C 60 80 1C */	lis r3, __CARDExtHandler@ha
/* 801BF518 001BC5F8  38 83 AD BC */	addi r4, r3, __CARDExtHandler@l
/* 801BF51C 001BC5FC  38 7E 00 00 */	addi r3, r30, 0x0
/* 801BF520 001BC600  48 00 87 AD */	bl EXIAttach
/* 801BF524 001BC604  2C 03 00 00 */	cmpwi r3, 0x0
/* 801BF528 001BC608  40 82 00 1C */	bne .L_801BF544
/* 801BF52C 001BC60C  38 00 FF FD */	li r0, -0x3
/* 801BF530 001BC610  90 1F 00 04 */	stw r0, 0x4(r31)
/* 801BF534 001BC614  7F 83 E3 78 */	mr r3, r28
/* 801BF538 001BC618  48 01 4E 01 */	bl OSRestoreInterrupts
/* 801BF53C 001BC61C  38 60 FF FD */	li r3, -0x3
/* 801BF540 001BC620  48 00 00 74 */	b .L_801BF5B4
.L_801BF544:
/* 801BF544 001BC624  3B A0 00 00 */	li r29, 0x0
/* 801BF548 001BC628  93 BF 00 24 */	stw r29, 0x24(r31)
/* 801BF54C 001BC62C  38 00 00 01 */	li r0, 0x1
/* 801BF550 001BC630  38 7E 00 00 */	addi r3, r30, 0x0
/* 801BF554 001BC634  90 1F 00 00 */	stw r0, 0x0(r31)
/* 801BF558 001BC638  38 80 00 00 */	li r4, 0x0
/* 801BF55C 001BC63C  48 00 84 4D */	bl EXISetExiCallback
/* 801BF560 001BC640  38 7F 00 E0 */	addi r3, r31, 0xe0
/* 801BF564 001BC644  48 01 24 55 */	bl OSCancelAlarm
/* 801BF568 001BC648  93 BF 00 84 */	stw r29, 0x84(r31)
/* 801BF56C 001BC64C  7F 83 E3 78 */	mr r3, r28
/* 801BF570 001BC650  93 BF 00 88 */	stw r29, 0x88(r31)
/* 801BF574 001BC654  48 01 4D C5 */	bl OSRestoreInterrupts
/* 801BF578 001BC658  3C 60 80 1C */	lis r3, __CARDMountCallback@ha
/* 801BF57C 001BC65C  38 03 F2 F0 */	addi r0, r3, __CARDMountCallback@l
/* 801BF580 001BC660  3C 60 80 1C */	lis r3, __CARDUnlockedHandler@ha
/* 801BF584 001BC664  90 1F 00 DC */	stw r0, 0xdc(r31)
/* 801BF588 001BC668  38 A3 B0 54 */	addi r5, r3, __CARDUnlockedHandler@l
/* 801BF58C 001BC66C  38 7E 00 00 */	addi r3, r30, 0x0
/* 801BF590 001BC670  38 80 00 00 */	li r4, 0x0
/* 801BF594 001BC674  48 00 90 C1 */	bl EXILock
/* 801BF598 001BC678  2C 03 00 00 */	cmpwi r3, 0x0
/* 801BF59C 001BC67C  40 82 00 0C */	bne .L_801BF5A8
/* 801BF5A0 001BC680  38 60 00 00 */	li r3, 0x0
/* 801BF5A4 001BC684  48 00 00 10 */	b .L_801BF5B4
.L_801BF5A8:
/* 801BF5A8 001BC688  93 BF 00 DC */	stw r29, 0xdc(r31)
/* 801BF5AC 001BC68C  7F C3 F3 78 */	mr r3, r30
/* 801BF5B0 001BC690  4B FF F9 31 */	bl DoMount
.L_801BF5B4:
/* 801BF5B4 001BC694  BB 41 00 18 */	lmw r26, 0x18(r1)
/* 801BF5B8 001BC698  80 01 00 34 */	lwz r0, 0x34(r1)
/* 801BF5BC 001BC69C  38 21 00 30 */	addi r1, r1, 0x30
/* 801BF5C0 001BC6A0  7C 08 03 A6 */	mtlr r0
/* 801BF5C4 001BC6A4  4E 80 00 20 */	blr
.endfn CARDMountAsync

.fn CARDMount, global
/* 801BF5C8 001BC6A8  7C 08 02 A6 */	mflr r0
/* 801BF5CC 001BC6AC  3C C0 80 1C */	lis r6, __CARDSyncCallback@ha
/* 801BF5D0 001BC6B0  90 01 00 04 */	stw r0, 0x4(r1)
/* 801BF5D4 001BC6B4  38 C6 AD 88 */	addi r6, r6, __CARDSyncCallback@l
/* 801BF5D8 001BC6B8  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 801BF5DC 001BC6BC  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 801BF5E0 001BC6C0  3B E3 00 00 */	addi r31, r3, 0x0
/* 801BF5E4 001BC6C4  4B FF FE 45 */	bl CARDMountAsync
/* 801BF5E8 001BC6C8  2C 03 00 00 */	cmpwi r3, 0x0
/* 801BF5EC 001BC6CC  40 80 00 08 */	bge .L_801BF5F4
/* 801BF5F0 001BC6D0  48 00 00 0C */	b .L_801BF5FC
.L_801BF5F4:
/* 801BF5F4 001BC6D4  7F E3 FB 78 */	mr r3, r31
/* 801BF5F8 001BC6D8  4B FF CA 95 */	bl __CARDSync
.L_801BF5FC:
/* 801BF5FC 001BC6DC  80 01 00 24 */	lwz r0, 0x24(r1)
/* 801BF600 001BC6E0  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 801BF604 001BC6E4  38 21 00 20 */	addi r1, r1, 0x20
/* 801BF608 001BC6E8  7C 08 03 A6 */	mtlr r0
/* 801BF60C 001BC6EC  4E 80 00 20 */	blr
.endfn CARDMount

.fn DoUnmount, local
/* 801BF610 001BC6F0  7C 08 02 A6 */	mflr r0
/* 801BF614 001BC6F4  90 01 00 04 */	stw r0, 0x4(r1)
/* 801BF618 001BC6F8  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 801BF61C 001BC6FC  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 801BF620 001BC700  93 C1 00 18 */	stw r30, 0x18(r1)
/* 801BF624 001BC704  93 A1 00 14 */	stw r29, 0x14(r1)
/* 801BF628 001BC708  3B A4 00 00 */	addi r29, r4, 0x0
/* 801BF62C 001BC70C  93 81 00 10 */	stw r28, 0x10(r1)
/* 801BF630 001BC710  3B 83 00 00 */	addi r28, r3, 0x0
/* 801BF634 001BC714  1C BC 01 10 */	mulli r5, r28, 0x110
/* 801BF638 001BC718  3C 60 80 38 */	lis r3, __CARDBlock@ha
/* 801BF63C 001BC71C  38 03 D4 80 */	addi r0, r3, __CARDBlock@l
/* 801BF640 001BC720  7F E0 2A 14 */	add r31, r0, r5
/* 801BF644 001BC724  48 01 4C CD */	bl OSDisableInterrupts
/* 801BF648 001BC728  80 1F 00 00 */	lwz r0, 0x0(r31)
/* 801BF64C 001BC72C  3B C3 00 00 */	addi r30, r3, 0x0
/* 801BF650 001BC730  2C 00 00 00 */	cmpwi r0, 0x0
/* 801BF654 001BC734  41 82 00 30 */	beq .L_801BF684
/* 801BF658 001BC738  38 7C 00 00 */	addi r3, r28, 0x0
/* 801BF65C 001BC73C  38 80 00 00 */	li r4, 0x0
/* 801BF660 001BC740  48 00 83 49 */	bl EXISetExiCallback
/* 801BF664 001BC744  7F 83 E3 78 */	mr r3, r28
/* 801BF668 001BC748  48 00 87 71 */	bl EXIDetach
/* 801BF66C 001BC74C  38 7F 00 E0 */	addi r3, r31, 0xe0
/* 801BF670 001BC750  48 01 23 49 */	bl OSCancelAlarm
/* 801BF674 001BC754  38 00 00 00 */	li r0, 0x0
/* 801BF678 001BC758  90 1F 00 00 */	stw r0, 0x0(r31)
/* 801BF67C 001BC75C  93 BF 00 04 */	stw r29, 0x4(r31)
/* 801BF680 001BC760  90 1F 00 24 */	stw r0, 0x24(r31)
.L_801BF684:
/* 801BF684 001BC764  7F C3 F3 78 */	mr r3, r30
/* 801BF688 001BC768  48 01 4C B1 */	bl OSRestoreInterrupts
/* 801BF68C 001BC76C  80 01 00 24 */	lwz r0, 0x24(r1)
/* 801BF690 001BC770  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 801BF694 001BC774  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 801BF698 001BC778  83 A1 00 14 */	lwz r29, 0x14(r1)
/* 801BF69C 001BC77C  83 81 00 10 */	lwz r28, 0x10(r1)
/* 801BF6A0 001BC780  38 21 00 20 */	addi r1, r1, 0x20
/* 801BF6A4 001BC784  7C 08 03 A6 */	mtlr r0
/* 801BF6A8 001BC788  4E 80 00 20 */	blr
.endfn DoUnmount

.fn CARDUnmount, global
/* 801BF6AC 001BC78C  7C 08 02 A6 */	mflr r0
/* 801BF6B0 001BC790  90 01 00 04 */	stw r0, 0x4(r1)
/* 801BF6B4 001BC794  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 801BF6B8 001BC798  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 801BF6BC 001BC79C  38 81 00 0C */	addi r4, r1, 0xc
/* 801BF6C0 001BC7A0  93 C1 00 18 */	stw r30, 0x18(r1)
/* 801BF6C4 001BC7A4  93 A1 00 14 */	stw r29, 0x14(r1)
/* 801BF6C8 001BC7A8  3B A3 00 00 */	addi r29, r3, 0x0
/* 801BF6CC 001BC7AC  4B FF C6 19 */	bl __CARDGetControlBlock
/* 801BF6D0 001BC7B0  2C 03 00 00 */	cmpwi r3, 0x0
/* 801BF6D4 001BC7B4  40 80 00 08 */	bge .L_801BF6DC
/* 801BF6D8 001BC7B8  48 00 00 64 */	b .L_801BF73C
.L_801BF6DC:
/* 801BF6DC 001BC7BC  1C 9D 01 10 */	mulli r4, r29, 0x110
/* 801BF6E0 001BC7C0  3C 60 80 38 */	lis r3, __CARDBlock@ha
/* 801BF6E4 001BC7C4  38 03 D4 80 */	addi r0, r3, __CARDBlock@l
/* 801BF6E8 001BC7C8  7F C0 22 14 */	add r30, r0, r4
/* 801BF6EC 001BC7CC  48 01 4C 25 */	bl OSDisableInterrupts
/* 801BF6F0 001BC7D0  80 1E 00 00 */	lwz r0, 0x0(r30)
/* 801BF6F4 001BC7D4  3B E3 00 00 */	addi r31, r3, 0x0
/* 801BF6F8 001BC7D8  2C 00 00 00 */	cmpwi r0, 0x0
/* 801BF6FC 001BC7DC  41 82 00 34 */	beq .L_801BF730
/* 801BF700 001BC7E0  38 7D 00 00 */	addi r3, r29, 0x0
/* 801BF704 001BC7E4  38 80 00 00 */	li r4, 0x0
/* 801BF708 001BC7E8  48 00 82 A1 */	bl EXISetExiCallback
/* 801BF70C 001BC7EC  7F A3 EB 78 */	mr r3, r29
/* 801BF710 001BC7F0  48 00 86 C9 */	bl EXIDetach
/* 801BF714 001BC7F4  38 7E 00 E0 */	addi r3, r30, 0xe0
/* 801BF718 001BC7F8  48 01 22 A1 */	bl OSCancelAlarm
/* 801BF71C 001BC7FC  38 60 00 00 */	li r3, 0x0
/* 801BF720 001BC800  90 7E 00 00 */	stw r3, 0x0(r30)
/* 801BF724 001BC804  38 00 FF FD */	li r0, -0x3
/* 801BF728 001BC808  90 1E 00 04 */	stw r0, 0x4(r30)
/* 801BF72C 001BC80C  90 7E 00 24 */	stw r3, 0x24(r30)
.L_801BF730:
/* 801BF730 001BC810  7F E3 FB 78 */	mr r3, r31
/* 801BF734 001BC814  48 01 4C 05 */	bl OSRestoreInterrupts
/* 801BF738 001BC818  38 60 00 00 */	li r3, 0x0
.L_801BF73C:
/* 801BF73C 001BC81C  80 01 00 24 */	lwz r0, 0x24(r1)
/* 801BF740 001BC820  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 801BF744 001BC824  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 801BF748 001BC828  83 A1 00 14 */	lwz r29, 0x14(r1)
/* 801BF74C 001BC82C  38 21 00 20 */	addi r1, r1, 0x20
/* 801BF750 001BC830  7C 08 03 A6 */	mtlr r0
/* 801BF754 001BC834  4E 80 00 20 */	blr
.endfn CARDUnmount

# 0x802B4080 - 0x802B40C0
.data
.balign 8

.obj SectorSizeTable, local
	.4byte 0x00002000
	.4byte 0x00004000
	.4byte 0x00008000
	.4byte 0x00010000
	.4byte 0x00020000
	.4byte 0x00040000
	.4byte 0x00000000
	.4byte 0x00000000
.endobj SectorSizeTable

.obj LatencyTable, local
	.4byte 0x00000004
	.4byte 0x00000008
	.4byte 0x00000010
	.4byte 0x00000020
	.4byte 0x00000040
	.4byte 0x00000080
	.4byte 0x00000100
	.4byte 0x00000200
.endobj LatencyTable
