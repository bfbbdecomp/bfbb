.include "macros.inc"
.file "msg.c"

# 0x801EF634 - 0x801EF810
.text
.balign 4

.fn TRKMessageSend, global
/* 801EF634 001EC714  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 801EF638 001EC718  7C 08 02 A6 */	mflr r0
/* 801EF63C 001EC71C  38 A0 00 00 */	li r5, 0x0
/* 801EF640 001EC720  90 01 00 24 */	stw r0, 0x24(r1)
/* 801EF644 001EC724  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 801EF648 001EC728  7C 7F 1B 78 */	mr r31, r3
/* 801EF64C 001EC72C  93 C1 00 18 */	stw r30, 0x18(r1)
/* 801EF650 001EC730  93 A1 00 14 */	stw r29, 0x14(r1)
/* 801EF654 001EC734  93 81 00 10 */	stw r28, 0x10(r1)
/* 801EF658 001EC738  81 03 00 08 */	lwz r8, 0x8(r3)
/* 801EF65C 001EC73C  38 60 00 00 */	li r3, 0x0
/* 801EF660 001EC740  28 08 00 00 */	cmplwi r8, 0x0
/* 801EF664 001EC744  40 81 00 BC */	ble .L_801EF720
/* 801EF668 001EC748  28 08 00 08 */	cmplwi r8, 0x8
/* 801EF66C 001EC74C  38 88 FF F8 */	addi r4, r8, -0x8
/* 801EF670 001EC750  40 81 00 88 */	ble .L_801EF6F8
/* 801EF674 001EC754  38 04 00 07 */	addi r0, r4, 0x7
/* 801EF678 001EC758  54 00 E8 FE */	srwi r0, r0, 3
/* 801EF67C 001EC75C  7C 09 03 A6 */	mtctr r0
/* 801EF680 001EC760  28 04 00 00 */	cmplwi r4, 0x0
/* 801EF684 001EC764  40 81 00 74 */	ble .L_801EF6F8
.L_801EF688:
/* 801EF688 001EC768  39 23 00 10 */	addi r9, r3, 0x10
/* 801EF68C 001EC76C  38 63 00 08 */	addi r3, r3, 0x8
/* 801EF690 001EC770  7D 3F 4A 14 */	add r9, r31, r9
/* 801EF694 001EC774  88 09 00 00 */	lbz r0, 0x0(r9)
/* 801EF698 001EC778  88 89 00 01 */	lbz r4, 0x1(r9)
/* 801EF69C 001EC77C  7C A5 02 14 */	add r5, r5, r0
/* 801EF6A0 001EC780  88 09 00 02 */	lbz r0, 0x2(r9)
/* 801EF6A4 001EC784  54 A5 06 3E */	clrlwi r5, r5, 24
/* 801EF6A8 001EC788  88 E9 00 03 */	lbz r7, 0x3(r9)
/* 801EF6AC 001EC78C  7C 85 22 14 */	add r4, r5, r4
/* 801EF6B0 001EC790  88 C9 00 04 */	lbz r6, 0x4(r9)
/* 801EF6B4 001EC794  54 84 06 3E */	clrlwi r4, r4, 24
/* 801EF6B8 001EC798  88 A9 00 05 */	lbz r5, 0x5(r9)
/* 801EF6BC 001EC79C  7C 04 02 14 */	add r0, r4, r0
/* 801EF6C0 001EC7A0  88 89 00 06 */	lbz r4, 0x6(r9)
/* 801EF6C4 001EC7A4  54 0A 06 3E */	clrlwi r10, r0, 24
/* 801EF6C8 001EC7A8  88 09 00 07 */	lbz r0, 0x7(r9)
/* 801EF6CC 001EC7AC  7C EA 3A 14 */	add r7, r10, r7
/* 801EF6D0 001EC7B0  54 E7 06 3E */	clrlwi r7, r7, 24
/* 801EF6D4 001EC7B4  7C C7 32 14 */	add r6, r7, r6
/* 801EF6D8 001EC7B8  54 C6 06 3E */	clrlwi r6, r6, 24
/* 801EF6DC 001EC7BC  7C A6 2A 14 */	add r5, r6, r5
/* 801EF6E0 001EC7C0  54 A5 06 3E */	clrlwi r5, r5, 24
/* 801EF6E4 001EC7C4  7C 85 22 14 */	add r4, r5, r4
/* 801EF6E8 001EC7C8  54 84 06 3E */	clrlwi r4, r4, 24
/* 801EF6EC 001EC7CC  7C 04 02 14 */	add r0, r4, r0
/* 801EF6F0 001EC7D0  54 05 06 3E */	clrlwi r5, r0, 24
/* 801EF6F4 001EC7D4  42 00 FF 94 */	bdnz .L_801EF688
.L_801EF6F8:
/* 801EF6F8 001EC7D8  7C 03 40 50 */	subf r0, r3, r8
/* 801EF6FC 001EC7DC  7C 09 03 A6 */	mtctr r0
/* 801EF700 001EC7E0  7C 03 40 40 */	cmplw r3, r8
/* 801EF704 001EC7E4  40 80 00 1C */	bge .L_801EF720
.L_801EF708:
/* 801EF708 001EC7E8  38 03 00 10 */	addi r0, r3, 0x10
/* 801EF70C 001EC7EC  38 63 00 01 */	addi r3, r3, 0x1
/* 801EF710 001EC7F0  7C 1F 00 AE */	lbzx r0, r31, r0
/* 801EF714 001EC7F4  7C 05 02 14 */	add r0, r5, r0
/* 801EF718 001EC7F8  54 05 06 3E */	clrlwi r5, r0, 24
/* 801EF71C 001EC7FC  42 00 FF EC */	bdnz .L_801EF708
.L_801EF720:
/* 801EF720 001EC800  68 A0 00 FF */	xori r0, r5, 0xff
/* 801EF724 001EC804  38 60 00 7E */	li r3, 0x7e
/* 801EF728 001EC808  54 1E 06 3E */	clrlwi r30, r0, 24
/* 801EF72C 001EC80C  48 00 67 CD */	bl WriteUART1
/* 801EF730 001EC810  2C 03 00 00 */	cmpwi r3, 0x0
/* 801EF734 001EC814  40 82 00 5C */	bne .L_801EF790
/* 801EF738 001EC818  3B A0 00 00 */	li r29, 0x0
/* 801EF73C 001EC81C  48 00 00 48 */	b .L_801EF784
.L_801EF740:
/* 801EF740 001EC820  38 1D 00 10 */	addi r0, r29, 0x10
/* 801EF744 001EC824  7F 9F 00 AE */	lbzx r28, r31, r0
/* 801EF748 001EC828  28 1C 00 7E */	cmplwi r28, 0x7e
/* 801EF74C 001EC82C  41 82 00 0C */	beq .L_801EF758
/* 801EF750 001EC830  28 1C 00 7D */	cmplwi r28, 0x7d
/* 801EF754 001EC834  40 82 00 1C */	bne .L_801EF770
.L_801EF758:
/* 801EF758 001EC838  38 60 00 7D */	li r3, 0x7d
/* 801EF75C 001EC83C  48 00 67 9D */	bl WriteUART1
/* 801EF760 001EC840  2C 03 00 00 */	cmpwi r3, 0x0
/* 801EF764 001EC844  6B 80 00 20 */	xori r0, r28, 0x20
/* 801EF768 001EC848  54 1C 06 3E */	clrlwi r28, r0, 24
/* 801EF76C 001EC84C  40 82 00 24 */	bne .L_801EF790
.L_801EF770:
/* 801EF770 001EC850  7F 83 07 74 */	extsb r3, r28
/* 801EF774 001EC854  48 00 67 85 */	bl WriteUART1
/* 801EF778 001EC858  2C 03 00 00 */	cmpwi r3, 0x0
/* 801EF77C 001EC85C  40 82 00 14 */	bne .L_801EF790
/* 801EF780 001EC860  3B BD 00 01 */	addi r29, r29, 0x1
.L_801EF784:
/* 801EF784 001EC864  80 1F 00 08 */	lwz r0, 0x8(r31)
/* 801EF788 001EC868  7C 1D 00 40 */	cmplw r29, r0
/* 801EF78C 001EC86C  41 80 FF B4 */	blt .L_801EF740
.L_801EF790:
/* 801EF790 001EC870  2C 03 00 00 */	cmpwi r3, 0x0
/* 801EF794 001EC874  40 82 00 40 */	bne .L_801EF7D4
/* 801EF798 001EC878  57 C0 06 3E */	clrlwi r0, r30, 24
/* 801EF79C 001EC87C  7F DC F3 78 */	mr r28, r30
/* 801EF7A0 001EC880  28 00 00 7E */	cmplwi r0, 0x7e
/* 801EF7A4 001EC884  41 82 00 0C */	beq .L_801EF7B0
/* 801EF7A8 001EC888  28 00 00 7D */	cmplwi r0, 0x7d
/* 801EF7AC 001EC88C  40 82 00 1C */	bne .L_801EF7C8
.L_801EF7B0:
/* 801EF7B0 001EC890  38 60 00 7D */	li r3, 0x7d
/* 801EF7B4 001EC894  48 00 67 45 */	bl WriteUART1
/* 801EF7B8 001EC898  2C 03 00 00 */	cmpwi r3, 0x0
/* 801EF7BC 001EC89C  6B 80 00 20 */	xori r0, r28, 0x20
/* 801EF7C0 001EC8A0  54 1C 06 3E */	clrlwi r28, r0, 24
/* 801EF7C4 001EC8A4  40 82 00 10 */	bne .L_801EF7D4
.L_801EF7C8:
/* 801EF7C8 001EC8A8  7F 83 07 74 */	extsb r3, r28
/* 801EF7CC 001EC8AC  48 00 67 2D */	bl WriteUART1
/* 801EF7D0 001EC8B0  2C 03 00 00 */	cmpwi r3, 0x0
.L_801EF7D4:
/* 801EF7D4 001EC8B4  2C 03 00 00 */	cmpwi r3, 0x0
/* 801EF7D8 001EC8B8  40 82 00 0C */	bne .L_801EF7E4
/* 801EF7DC 001EC8BC  38 60 00 7E */	li r3, 0x7e
/* 801EF7E0 001EC8C0  48 00 67 19 */	bl WriteUART1
.L_801EF7E4:
/* 801EF7E4 001EC8C4  2C 03 00 00 */	cmpwi r3, 0x0
/* 801EF7E8 001EC8C8  40 82 00 08 */	bne .L_801EF7F0
/* 801EF7EC 001EC8CC  48 00 67 35 */	bl WriteUARTFlush
.L_801EF7F0:
/* 801EF7F0 001EC8D0  80 01 00 24 */	lwz r0, 0x24(r1)
/* 801EF7F4 001EC8D4  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 801EF7F8 001EC8D8  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 801EF7FC 001EC8DC  83 A1 00 14 */	lwz r29, 0x14(r1)
/* 801EF800 001EC8E0  83 81 00 10 */	lwz r28, 0x10(r1)
/* 801EF804 001EC8E4  7C 08 03 A6 */	mtlr r0
/* 801EF808 001EC8E8  38 21 00 20 */	addi r1, r1, 0x20
/* 801EF80C 001EC8EC  4E 80 00 20 */	blr
.endfn TRKMessageSend
