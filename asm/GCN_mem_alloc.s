.include "macros.inc"
.file "GCN_mem_alloc.c"

# 0x801EF020 - 0x801EF190
.text
.balign 4

.fn __sys_free, weak
/* 801EF020 001EC100  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 801EF024 001EC104  7C 08 02 A6 */	mflr r0
/* 801EF028 001EC108  90 01 00 24 */	stw r0, 0x24(r1)
/* 801EF02C 001EC10C  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 801EF030 001EC110  93 C1 00 18 */	stw r30, 0x18(r1)
/* 801EF034 001EC114  93 A1 00 14 */	stw r29, 0x14(r1)
/* 801EF038 001EC118  7C 7D 1B 78 */	mr r29, r3
/* 801EF03C 001EC11C  80 0D 86 40 */	lwz r0, __OSCurrHeap@sda21(r13)
/* 801EF040 001EC120  2C 00 FF FF */	cmpwi r0, -0x1
/* 801EF044 001EC124  40 82 00 6C */	bne .L_801EF0B0
/* 801EF048 001EC128  3C 60 80 28 */	lis r3, "@53"@ha
/* 801EF04C 001EC12C  38 63 A2 60 */	addi r3, r3, "@53"@l
/* 801EF050 001EC130  4C C6 31 82 */	crclr 4*cr1+eq
/* 801EF054 001EC134  4B FE 3E B1 */	bl OSReport
/* 801EF058 001EC138  3C 60 80 28 */	lis r3, "@54"@ha
/* 801EF05C 001EC13C  38 63 A2 98 */	addi r3, r3, "@54"@l
/* 801EF060 001EC140  4C C6 31 82 */	crclr 4*cr1+eq
/* 801EF064 001EC144  4B FE 3E A1 */	bl OSReport
/* 801EF068 001EC148  4B FE 30 05 */	bl OSGetArenaLo
/* 801EF06C 001EC14C  7C 7F 1B 78 */	mr r31, r3
/* 801EF070 001EC150  4B FE 2F F5 */	bl OSGetArenaHi
/* 801EF074 001EC154  7C 7E 1B 78 */	mr r30, r3
/* 801EF078 001EC158  7F E3 FB 78 */	mr r3, r31
/* 801EF07C 001EC15C  38 A0 00 01 */	li r5, 0x1
/* 801EF080 001EC160  7F C4 F3 78 */	mr r4, r30
/* 801EF084 001EC164  4B FE 2F 05 */	bl OSInitAlloc
/* 801EF088 001EC168  7C 7F 1B 78 */	mr r31, r3
/* 801EF08C 001EC16C  4B FE 2F F1 */	bl OSSetArenaLo
/* 801EF090 001EC170  38 1F 00 1F */	addi r0, r31, 0x1f
/* 801EF094 001EC174  57 DE 00 34 */	clrrwi r30, r30, 5
/* 801EF098 001EC178  54 03 00 34 */	clrrwi r3, r0, 5
/* 801EF09C 001EC17C  7F C4 F3 78 */	mr r4, r30
/* 801EF0A0 001EC180  4B FE 2F 59 */	bl OSCreateHeap
/* 801EF0A4 001EC184  4B FE 2E D5 */	bl OSSetCurrentHeap
/* 801EF0A8 001EC188  7F C3 F3 78 */	mr r3, r30
/* 801EF0AC 001EC18C  4B FE 2F D1 */	bl OSSetArenaLo
.L_801EF0B0:
/* 801EF0B0 001EC190  80 6D 86 40 */	lwz r3, __OSCurrHeap@sda21(r13)
/* 801EF0B4 001EC194  7F A4 EB 78 */	mr r4, r29
/* 801EF0B8 001EC198  4B FE 2E 45 */	bl OSFreeToHeap
/* 801EF0BC 001EC19C  80 01 00 24 */	lwz r0, 0x24(r1)
/* 801EF0C0 001EC1A0  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 801EF0C4 001EC1A4  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 801EF0C8 001EC1A8  83 A1 00 14 */	lwz r29, 0x14(r1)
/* 801EF0CC 001EC1AC  7C 08 03 A6 */	mtlr r0
/* 801EF0D0 001EC1B0  38 21 00 20 */	addi r1, r1, 0x20
/* 801EF0D4 001EC1B4  4E 80 00 20 */	blr
.endfn __sys_free

.fn __sys_alloc, weak
/* 801EF0D8 001EC1B8  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 801EF0DC 001EC1BC  7C 08 02 A6 */	mflr r0
/* 801EF0E0 001EC1C0  90 01 00 24 */	stw r0, 0x24(r1)
/* 801EF0E4 001EC1C4  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 801EF0E8 001EC1C8  93 C1 00 18 */	stw r30, 0x18(r1)
/* 801EF0EC 001EC1CC  93 A1 00 14 */	stw r29, 0x14(r1)
/* 801EF0F0 001EC1D0  7C 7D 1B 78 */	mr r29, r3
/* 801EF0F4 001EC1D4  80 0D 86 40 */	lwz r0, __OSCurrHeap@sda21(r13)
/* 801EF0F8 001EC1D8  2C 00 FF FF */	cmpwi r0, -0x1
/* 801EF0FC 001EC1DC  40 82 00 6C */	bne .L_801EF168
/* 801EF100 001EC1E0  3C 60 80 28 */	lis r3, "@53"@ha
/* 801EF104 001EC1E4  38 63 A2 60 */	addi r3, r3, "@53"@l
/* 801EF108 001EC1E8  4C C6 31 82 */	crclr 4*cr1+eq
/* 801EF10C 001EC1EC  4B FE 3D F9 */	bl OSReport
/* 801EF110 001EC1F0  3C 60 80 28 */	lis r3, "@54"@ha
/* 801EF114 001EC1F4  38 63 A2 98 */	addi r3, r3, "@54"@l
/* 801EF118 001EC1F8  4C C6 31 82 */	crclr 4*cr1+eq
/* 801EF11C 001EC1FC  4B FE 3D E9 */	bl OSReport
/* 801EF120 001EC200  4B FE 2F 4D */	bl OSGetArenaLo
/* 801EF124 001EC204  7C 7F 1B 78 */	mr r31, r3
/* 801EF128 001EC208  4B FE 2F 3D */	bl OSGetArenaHi
/* 801EF12C 001EC20C  7C 7E 1B 78 */	mr r30, r3
/* 801EF130 001EC210  7F E3 FB 78 */	mr r3, r31
/* 801EF134 001EC214  38 A0 00 01 */	li r5, 0x1
/* 801EF138 001EC218  7F C4 F3 78 */	mr r4, r30
/* 801EF13C 001EC21C  4B FE 2E 4D */	bl OSInitAlloc
/* 801EF140 001EC220  7C 7F 1B 78 */	mr r31, r3
/* 801EF144 001EC224  4B FE 2F 39 */	bl OSSetArenaLo
/* 801EF148 001EC228  38 1F 00 1F */	addi r0, r31, 0x1f
/* 801EF14C 001EC22C  57 DE 00 34 */	clrrwi r30, r30, 5
/* 801EF150 001EC230  54 03 00 34 */	clrrwi r3, r0, 5
/* 801EF154 001EC234  7F C4 F3 78 */	mr r4, r30
/* 801EF158 001EC238  4B FE 2E A1 */	bl OSCreateHeap
/* 801EF15C 001EC23C  4B FE 2E 1D */	bl OSSetCurrentHeap
/* 801EF160 001EC240  7F C3 F3 78 */	mr r3, r30
/* 801EF164 001EC244  4B FE 2F 19 */	bl OSSetArenaLo
.L_801EF168:
/* 801EF168 001EC248  80 6D 86 40 */	lwz r3, __OSCurrHeap@sda21(r13)
/* 801EF16C 001EC24C  7F A4 EB 78 */	mr r4, r29
/* 801EF170 001EC250  4B FE 2C 91 */	bl OSAllocFromHeap
/* 801EF174 001EC254  80 01 00 24 */	lwz r0, 0x24(r1)
/* 801EF178 001EC258  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 801EF17C 001EC25C  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 801EF180 001EC260  83 A1 00 14 */	lwz r29, 0x14(r1)
/* 801EF184 001EC264  7C 08 03 A6 */	mtlr r0
/* 801EF188 001EC268  38 21 00 20 */	addi r1, r1, 0x20
/* 801EF18C 001EC26C  4E 80 00 20 */	blr
.endfn __sys_alloc

# 0x8027A260 - 0x8027A2D8
.rodata
.balign 8

.obj "@53", local
	.4byte 0x47434E5F
	.4byte 0x4D656D5F
	.4byte 0x416C6C6F
	.4byte 0x632E6320
	.4byte 0x3A20496E
	.4byte 0x69744465
	.4byte 0x6661756C
	.4byte 0x74486561
	.4byte 0x702E204E
	.4byte 0x6F204865
	.4byte 0x61702041
	.4byte 0x7661696C
	.4byte 0x61626C65
	.2byte 0x0A00
.endobj "@53"
	.2byte 0x0000

.obj "@54", local
	.4byte 0x4D657472
	.4byte 0x6F776572
	.4byte 0x6B732043
	.4byte 0x57207275
	.4byte 0x6E74696D
	.4byte 0x65206C69
	.4byte 0x62726172
	.4byte 0x7920696E
	.4byte 0x69746961
	.4byte 0x6C697A69
	.4byte 0x6E672064
	.4byte 0x65666175
	.4byte 0x6C742068
	.4byte 0x6561700A
	.byte 0x00
.endobj "@54"
	.4byte 0x00000000
	.byte 0x00, 0x00, 0x00
